var I_=Object.defineProperty;var F_=(t,e,n)=>e in t?I_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>F_(t,typeof e!="symbol"?e+"":e,n);function B_(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(s,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xg={exports:{}},Rd={},yg={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function W_(){if(tx)return rt;tx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function P(O,V,H){this.props=O,this.context=V,this.refs=N,this.updater=H||C}P.prototype.isReactComponent={},P.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=P.prototype;function F(O,V,H){this.props=O,this.context=V,this.refs=N,this.updater=H||C}var B=F.prototype=new S;B.constructor=F,k(B,P.prototype),B.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,q={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function J(O,V,H){var te,ce={},U=null,he=null;if(V!=null)for(te in V.ref!==void 0&&(he=V.ref),V.key!==void 0&&(U=""+V.key),V)W.call(V,te)&&!ne.hasOwnProperty(te)&&(ce[te]=V[te]);var Oe=arguments.length-2;if(Oe===1)ce.children=H;else if(1<Oe){for(var K=Array(Oe),pe=0;pe<Oe;pe++)K[pe]=arguments[pe+2];ce.children=K}if(O&&O.defaultProps)for(te in Oe=O.defaultProps,Oe)ce[te]===void 0&&(ce[te]=Oe[te]);return{$$typeof:t,type:O,key:U,ref:he,props:ce,_owner:q.current}}function fe(O,V){return{$$typeof:t,type:O.type,key:V,ref:O.ref,props:O.props,_owner:O._owner}}function ee(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function ie(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(H){return V[H]})}var oe=/\/+/g;function ke(O,V){return typeof O=="object"&&O!==null&&O.key!=null?ie(""+O.key):V.toString(36)}function Ee(O,V,H,te,ce){var U=typeof O;(U==="undefined"||U==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(U){case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case t:case e:he=!0}}if(he)return he=O,ce=ce(he),O=te===""?"."+ke(he,0):te,z(ce)?(H="",O!=null&&(H=O.replace(oe,"$&/")+"/"),Ee(ce,V,H,"",function(pe){return pe})):ce!=null&&(ee(ce)&&(ce=fe(ce,H+(!ce.key||he&&he.key===ce.key?"":(""+ce.key).replace(oe,"$&/")+"/")+O)),V.push(ce)),1;if(he=0,te=te===""?".":te+":",z(O))for(var Oe=0;Oe<O.length;Oe++){U=O[Oe];var K=te+ke(U,Oe);he+=Ee(U,V,H,K,ce)}else if(K=j(O),typeof K=="function")for(O=K.call(O),Oe=0;!(U=O.next()).done;)U=U.value,K=te+ke(U,Oe++),he+=Ee(U,V,H,K,ce);else if(U==="object")throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return he}function we(O,V,H){if(O==null)return O;var te=[],ce=0;return Ee(O,te,"","",function(U){return V.call(H,U,ce++)}),te}function ye(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(H){(O._status===0||O._status===-1)&&(O._status=1,O._result=H)},function(H){(O._status===0||O._status===-1)&&(O._status=2,O._result=H)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var T={current:null},M={transition:null},G={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:q};function D(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:we,forEach:function(O,V,H){we(O,function(){V.apply(this,arguments)},H)},count:function(O){var V=0;return we(O,function(){V++}),V},toArray:function(O){return we(O,function(V){return V})||[]},only:function(O){if(!ee(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},rt.Component=P,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=F,rt.StrictMode=s,rt.Suspense=m,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,rt.act=D,rt.cloneElement=function(O,V,H){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var te=k({},O.props),ce=O.key,U=O.ref,he=O._owner;if(V!=null){if(V.ref!==void 0&&(U=V.ref,he=q.current),V.key!==void 0&&(ce=""+V.key),O.type&&O.type.defaultProps)var Oe=O.type.defaultProps;for(K in V)W.call(V,K)&&!ne.hasOwnProperty(K)&&(te[K]=V[K]===void 0&&Oe!==void 0?Oe[K]:V[K])}var K=arguments.length-2;if(K===1)te.children=H;else if(1<K){Oe=Array(K);for(var pe=0;pe<K;pe++)Oe[pe]=arguments[pe+2];te.children=Oe}return{$$typeof:t,type:O.type,key:ce,ref:U,props:te,_owner:he}},rt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},rt.createElement=J,rt.createFactory=function(O){var V=J.bind(null,O);return V.type=O,V},rt.createRef=function(){return{current:null}},rt.forwardRef=function(O){return{$$typeof:h,render:O}},rt.isValidElement=ee,rt.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ye}},rt.memo=function(O,V){return{$$typeof:x,type:O,compare:V===void 0?null:V}},rt.startTransition=function(O){var V=M.transition;M.transition={};try{O()}finally{M.transition=V}},rt.unstable_act=D,rt.useCallback=function(O,V){return T.current.useCallback(O,V)},rt.useContext=function(O){return T.current.useContext(O)},rt.useDebugValue=function(){},rt.useDeferredValue=function(O){return T.current.useDeferredValue(O)},rt.useEffect=function(O,V){return T.current.useEffect(O,V)},rt.useId=function(){return T.current.useId()},rt.useImperativeHandle=function(O,V,H){return T.current.useImperativeHandle(O,V,H)},rt.useInsertionEffect=function(O,V){return T.current.useInsertionEffect(O,V)},rt.useLayoutEffect=function(O,V){return T.current.useLayoutEffect(O,V)},rt.useMemo=function(O,V){return T.current.useMemo(O,V)},rt.useReducer=function(O,V,H){return T.current.useReducer(O,V,H)},rt.useRef=function(O){return T.current.useRef(O)},rt.useState=function(O){return T.current.useState(O)},rt.useSyncExternalStore=function(O,V,H){return T.current.useSyncExternalStore(O,V,H)},rt.useTransition=function(){return T.current.useTransition()},rt.version="18.3.1",rt}var nx;function d0(){return nx||(nx=1,yg.exports=W_()),yg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function H_(){if(sx)return Rd;sx=1;var t=d0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,x){var y,b={},j=null,C=null;x!==void 0&&(j=""+x),m.key!==void 0&&(j=""+m.key),m.ref!==void 0&&(C=m.ref);for(y in m)s.call(m,y)&&!c.hasOwnProperty(y)&&(b[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:e,type:h,key:j,ref:C,props:b,_owner:i.current}}return Rd.Fragment=n,Rd.jsx=u,Rd.jsxs=u,Rd}var rx;function $_(){return rx||(rx=1,xg.exports=H_()),xg.exports}var l=$_(),R=d0();const st=z_(R),U_=B_({__proto__:null,default:st},[R]);var im={},vg={exports:{}},js={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function V_(){return ix||(ix=1,function(t){function e(M,G){var D=M.length;M.push(G);e:for(;0<D;){var O=D-1>>>1,V=M[O];if(0<i(V,G))M[O]=G,M[D]=V,D=O;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var G=M[0],D=M.pop();if(D!==G){M[0]=D;e:for(var O=0,V=M.length,H=V>>>1;O<H;){var te=2*(O+1)-1,ce=M[te],U=te+1,he=M[U];if(0>i(ce,D))U<V&&0>i(he,ce)?(M[O]=he,M[U]=D,O=U):(M[O]=ce,M[te]=D,O=te);else if(U<V&&0>i(he,D))M[O]=he,M[U]=D,O=U;else break e}}return G}function i(M,G){var D=M.sortIndex-G.sortIndex;return D!==0?D:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],x=[],y=1,b=null,j=3,C=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(M){for(var G=n(x);G!==null;){if(G.callback===null)s(x);else if(G.startTime<=M)s(x),G.sortIndex=G.expirationTime,e(m,G);else break;G=n(x)}}function z(M){if(N=!1,B(M),!k)if(n(m)!==null)k=!0,ye(W);else{var G=n(x);G!==null&&T(z,G.startTime-M)}}function W(M,G){k=!1,N&&(N=!1,S(J),J=-1),C=!0;var D=j;try{for(B(G),b=n(m);b!==null&&(!(b.expirationTime>G)||M&&!ie());){var O=b.callback;if(typeof O=="function"){b.callback=null,j=b.priorityLevel;var V=O(b.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?b.callback=V:b===n(m)&&s(m),B(G)}else s(m);b=n(m)}if(b!==null)var H=!0;else{var te=n(x);te!==null&&T(z,te.startTime-G),H=!1}return H}finally{b=null,j=D,C=!1}}var q=!1,ne=null,J=-1,fe=5,ee=-1;function ie(){return!(t.unstable_now()-ee<fe)}function oe(){if(ne!==null){var M=t.unstable_now();ee=M;var G=!0;try{G=ne(!0,M)}finally{G?ke():(q=!1,ne=null)}}else q=!1}var ke;if(typeof F=="function")ke=function(){F(oe)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,we=Ee.port2;Ee.port1.onmessage=oe,ke=function(){we.postMessage(null)}}else ke=function(){P(oe,0)};function ye(M){ne=M,q||(q=!0,ke())}function T(M,G){J=P(function(){M(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){k||C||(k=!0,ye(W))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(M){switch(j){case 1:case 2:case 3:var G=3;break;default:G=j}var D=j;j=G;try{return M()}finally{j=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=j;j=M;try{return G()}finally{j=D}},t.unstable_scheduleCallback=function(M,G,D){var O=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?O+D:O):D=O,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,M={id:y++,callback:G,priorityLevel:M,startTime:D,expirationTime:V,sortIndex:-1},D>O?(M.sortIndex=D,e(x,M),n(m)===null&&M===n(x)&&(N?(S(J),J=-1):N=!0,T(z,D-O))):(M.sortIndex=V,e(m,M),k||C||(k=!0,ye(W))),M},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(M){var G=j;return function(){var D=j;j=G;try{return M.apply(this,arguments)}finally{j=D}}}}(wg)),wg}var ax;function Y_(){return ax||(ax=1,bg.exports=V_()),bg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function q_(){if(ox)return js;ox=1;var t=d0(),e=Y_();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(i[r]=a,r=0;r<a.length;r++)s.add(a[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function j(r){return m.call(b,r)?!0:m.call(y,r)?!1:x.test(r)?b[r]=!0:(y[r]=!0,!1)}function C(r,a,f,p){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:f!==null?!f.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,a,f,p){if(a===null||typeof a>"u"||C(r,a,f,p))return!0;if(p)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(r,a,f,p,v,w,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=r,this.type=a,this.sanitizeURL=w,this.removeEmptyString=A}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];P[a]=new N(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,F);P[a]=new N(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,F);P[a]=new N(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,F);P[a]=new N(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,a,f,p){var v=P.hasOwnProperty(a)?P[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,f,v,p)&&(f=null),p||v===null?j(a)&&(f===null?r.removeAttribute(a):r.setAttribute(a,""+f)):v.mustUseProperty?r[v.propertyName]=f===null?v.type===3?!1:"":f:(a=v.attributeName,p=v.attributeNamespace,f===null?r.removeAttribute(a):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,p?r.setAttributeNS(p,a,f):r.setAttribute(a,f))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ie=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),M=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var D=Object.assign,O;function V(r){if(O===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||""}return`
`+O+r}var H=!1;function te(r,a){if(!r||H)return"";H=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(de){var p=de}Reflect.construct(r,[],a)}else{try{a.call()}catch(de){p=de}r.call(a.prototype)}else{try{throw Error()}catch(de){p=de}r()}}catch(de){if(de&&p&&typeof de.stack=="string"){for(var v=de.stack.split(`
`),w=p.stack.split(`
`),A=v.length-1,$=w.length-1;1<=A&&0<=$&&v[A]!==w[$];)$--;for(;1<=A&&0<=$;A--,$--)if(v[A]!==w[$]){if(A!==1||$!==1)do if(A--,$--,0>$||v[A]!==w[$]){var Q=`
`+v[A].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=A&&0<=$);break}}}finally{H=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?V(r):""}function ce(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=te(r.type,!1),r;case 11:return r=te(r.type.render,!1),r;case 1:return r=te(r.type,!0),r;default:return""}}function U(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ne:return"Fragment";case q:return"Portal";case fe:return"Profiler";case J:return"StrictMode";case ke:return"Suspense";case Ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ie:return(r.displayName||"Context")+".Consumer";case ee:return(r._context.displayName||"Context")+".Provider";case oe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case we:return a=r.displayName||null,a!==null?a:U(r.type)||"Memo";case ye:a=r._payload,r=r._init;try{return U(r(a))}catch{}}return null}function he(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function K(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pe(r){var a=K(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),p=""+r[a];if(!r.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,w=f.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(A){p=""+A,w.call(this,A)}}),Object.defineProperty(r,a,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Qe(r){r._valueTracker||(r._valueTracker=pe(r))}function We(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var f=a.getValue(),p="";return r&&(p=K(r)?r.checked?"true":"false":r.value),r=p,r!==f?(a.setValue(r),!0):!1}function Ie(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ge(r,a){var f=a.checked;return D({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??r._wrapperState.initialChecked})}function Fe(r,a){var f=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;f=Oe(a.value!=null?a.value:f),r._wrapperState={initialChecked:p,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ot(r,a){a=a.checked,a!=null&&B(r,"checked",a,!1)}function ct(r,a){ot(r,a);var f=Oe(a.value),p=a.type;if(f!=null)p==="number"?(f===0&&r.value===""||r.value!=f)&&(r.value=""+f):r.value!==""+f&&(r.value=""+f);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Jt(r,a.type,f):a.hasOwnProperty("defaultValue")&&Jt(r,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function jt(r,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,f||a===r.value||(r.value=a),r.defaultValue=a}f=r.name,f!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,f!==""&&(r.name=f)}function Jt(r,a,f){(a!=="number"||Ie(r.ownerDocument)!==r)&&(f==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+f&&(r.defaultValue=""+f))}var an=Array.isArray;function yt(r,a,f,p){if(r=r.options,a){a={};for(var v=0;v<f.length;v++)a["$"+f[v]]=!0;for(f=0;f<r.length;f++)v=a.hasOwnProperty("$"+r[f].value),r[f].selected!==v&&(r[f].selected=v),v&&p&&(r[f].defaultSelected=!0)}else{for(f=""+Oe(f),a=null,v=0;v<r.length;v++){if(r[v].value===f){r[v].selected=!0,p&&(r[v].defaultSelected=!0);return}a!==null||r[v].disabled||(a=r[v])}a!==null&&(a.selected=!0)}}function os(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Er(r,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(n(92));if(an(f)){if(1<f.length)throw Error(n(93));f=f[0]}a=f}a==null&&(a=""),f=a}r._wrapperState={initialValue:Oe(f)}}function jf(r,a){var f=Oe(a.value),p=Oe(a.defaultValue);f!=null&&(f=""+f,f!==r.value&&(r.value=f),a.defaultValue==null&&r.defaultValue!==f&&(r.defaultValue=f)),p!=null&&(r.defaultValue=""+p)}function Zi(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Nf(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ci(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Nf(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var cr,hl=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,p,v){MSApp.execUnsafeLocalFunction(function(){return r(a,f,p,v)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function ui(r,a){if(a){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=a;return}}r.textContent=a}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iu=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(r){iu.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),di[a]=di[r]})});function ml(r,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||di.hasOwnProperty(r)&&di[r]?(""+a).trim():a+"px"}function pl(r,a){r=r.style;for(var f in a)if(a.hasOwnProperty(f)){var p=f.indexOf("--")===0,v=ml(f,a[f],p);f==="float"&&(f="cssFloat"),p?r.setProperty(f,v):r[f]=v}}var au=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(r,a){if(a){if(au[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ka(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function lu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var cu=null,fi=null,hi=null;function Sf(r){if(r=wn(r)){if(typeof cu!="function")throw Error(n(280));var a=r.stateNode;a&&(a=Yl(a),cu(r.stateNode,r.type,a))}}function kf(r){fi?hi?hi.push(r):hi=[r]:fi=r}function Cf(){if(fi){var r=fi,a=hi;if(hi=fi=null,Sf(r),a)for(r=0;r<a.length;r++)Sf(a[r])}}function Pf(r,a){return r(a)}function uu(){}var du=!1;function Ef(r,a,f){if(du)return r(a,f);du=!0;try{return Pf(r,a,f)}finally{du=!1,(fi!==null||hi!==null)&&(uu(),Cf())}}function Qa(r,a){var f=r.stateNode;if(f===null)return null;var p=Yl(f);if(p===null)return null;f=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(n(231,a,typeof f));return f}var Xa=!1;if(h)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Xa=!1}function fu(r,a,f,p,v,w,A,$,Q){var de=Array.prototype.slice.call(arguments,3);try{a.apply(f,de)}catch(je){this.onError(je)}}var Ja=!1,gl=null,xl=!1,hu=null,hp={onError:function(r){Ja=!0,gl=r}};function mp(r,a,f,p,v,w,A,$,Q){Ja=!1,gl=null,fu.apply(hp,arguments)}function pp(r,a,f,p,v,w,A,$,Q){if(mp.apply(this,arguments),Ja){if(Ja){var de=gl;Ja=!1,gl=null}else throw Error(n(198));xl||(xl=!0,hu=de)}}function mi(r){var a=r,f=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(f=a.return),r=a.return;while(r)}return a.tag===3?f:null}function mu(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function Of(r){if(mi(r)!==r)throw Error(n(188))}function gp(r){var a=r.alternate;if(!a){if(a=mi(r),a===null)throw Error(n(188));return a!==r?null:r}for(var f=r,p=a;;){var v=f.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){f=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===f)return Of(v),r;if(w===p)return Of(v),a;w=w.sibling}throw Error(n(188))}if(f.return!==p.return)f=v,p=w;else{for(var A=!1,$=v.child;$;){if($===f){A=!0,f=v,p=w;break}if($===p){A=!0,p=v,f=w;break}$=$.sibling}if(!A){for($=w.child;$;){if($===f){A=!0,f=w,p=v;break}if($===p){A=!0,p=w,f=v;break}$=$.sibling}if(!A)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?r:a}function Af(r){return r=gp(r),r!==null?Tf(r):null}function Tf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Tf(r);if(a!==null)return a;r=r.sibling}return null}var Mf=e.unstable_scheduleCallback,Lf=e.unstable_cancelCallback,yl=e.unstable_shouldYield,xp=e.unstable_requestPaint,At=e.unstable_now,yp=e.unstable_getCurrentPriorityLevel,pu=e.unstable_ImmediatePriority,Rf=e.unstable_UserBlockingPriority,Za=e.unstable_NormalPriority,Df=e.unstable_LowPriority,gu=e.unstable_IdlePriority,vl=null,$s=null;function vp(r){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(vl,r,void 0,(r.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:Bf,If=Math.log,Ff=Math.LN2;function Bf(r){return r>>>=0,r===0?32:31-(If(r)/Ff|0)|0}var ea=64,bl=4194304;function ta(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function pi(r,a){var f=r.pendingLanes;if(f===0)return 0;var p=0,v=r.suspendedLanes,w=r.pingedLanes,A=f&268435455;if(A!==0){var $=A&~v;$!==0?p=ta($):(w&=A,w!==0&&(p=ta(w)))}else A=f&~v,A!==0?p=ta(A):w!==0&&(p=ta(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,w=a&-a,v>=w||v===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=f&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=p;0<a;)f=31-Ps(a),v=1<<f,p|=r[f],a&=~v;return p}function zf(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(r,a){for(var f=r.suspendedLanes,p=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes;0<w;){var A=31-Ps(w),$=1<<A,Q=v[A];Q===-1?(($&f)===0||($&p)!==0)&&(v[A]=zf($,a)):Q<=a&&(r.expiredLanes|=$),w&=~$}}function wl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xu(){var r=ea;return ea<<=1,(ea&4194240)===0&&(ea=64),r}function eo(r){for(var a=[],f=0;31>f;f++)a.push(r);return a}function to(r,a,f){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Ps(a),r[a]=f}function Wf(r,a){var f=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<f;){var v=31-Ps(f),w=1<<v;a[v]=0,p[v]=-1,r[v]=-1,f&=~w}}function no(r,a){var f=r.entangledLanes|=a;for(r=r.entanglements;f;){var p=31-Ps(f),v=1<<p;v&a|r[p]&a&&(r[p]|=a),f&=~v}}var xt=0;function gi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var yu,_l,Hf,vu,bu,jl=!1,so=[],Or=null,Ar=null,Tr=null,na=new Map,ro=new Map,Mr=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $f(r,a){switch(r){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":na.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(a.pointerId)}}function xi(r,a,f,p,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:a,domEventName:f,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},a!==null&&(a=wn(a),a!==null&&_l(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),r)}function _p(r,a,f,p,v){switch(a){case"focusin":return Or=xi(Or,r,a,f,p,v),!0;case"dragenter":return Ar=xi(Ar,r,a,f,p,v),!0;case"mouseover":return Tr=xi(Tr,r,a,f,p,v),!0;case"pointerover":var w=v.pointerId;return na.set(w,xi(na.get(w)||null,r,a,f,p,v)),!0;case"gotpointercapture":return w=v.pointerId,ro.set(w,xi(ro.get(w)||null,r,a,f,p,v)),!0}return!1}function Uf(r){var a=qs(r.target);if(a!==null){var f=mi(a);if(f!==null){if(a=f.tag,a===13){if(a=mu(f),a!==null){r.blockedOn=a,bu(r.priority,function(){Hf(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nl(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var f=Cl(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(f===null){f=r.nativeEvent;var p=new f.constructor(f.type,f);ou=p,f.target.dispatchEvent(p),ou=null}else return a=wn(f),a!==null&&_l(a),r.blockedOn=f,!1;a.shift()}return!0}function Vf(r,a,f){Nl(r)&&f.delete(a)}function jp(){jl=!1,Or!==null&&Nl(Or)&&(Or=null),Ar!==null&&Nl(Ar)&&(Ar=null),Tr!==null&&Nl(Tr)&&(Tr=null),na.forEach(Vf),ro.forEach(Vf)}function bt(r,a){r.blockedOn===a&&(r.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jp)))}function vt(r){function a(v){return bt(v,r)}if(0<so.length){bt(so[0],r);for(var f=1;f<so.length;f++){var p=so[f];p.blockedOn===r&&(p.blockedOn=null)}}for(Or!==null&&bt(Or,r),Ar!==null&&bt(Ar,r),Tr!==null&&bt(Tr,r),na.forEach(a),ro.forEach(a),f=0;f<Mr.length;f++)p=Mr[f],p.blockedOn===r&&(p.blockedOn=null);for(;0<Mr.length&&(f=Mr[0],f.blockedOn===null);)Uf(f),f.blockedOn===null&&Mr.shift()}var sa=z.ReactCurrentBatchConfig,Sl=!0;function Np(r,a,f,p){var v=xt,w=sa.transition;sa.transition=null;try{xt=1,wu(r,a,f,p)}finally{xt=v,sa.transition=w}}function Sp(r,a,f,p){var v=xt,w=sa.transition;sa.transition=null;try{xt=4,wu(r,a,f,p)}finally{xt=v,sa.transition=w}}function wu(r,a,f,p){if(Sl){var v=Cl(r,a,f,p);if(v===null)Fu(r,a,p,kl,f),$f(r,p);else if(_p(v,r,a,f,p))p.stopPropagation();else if($f(r,p),a&4&&-1<wp.indexOf(r)){for(;v!==null;){var w=wn(v);if(w!==null&&yu(w),w=Cl(r,a,f,p),w===null&&Fu(r,a,p,kl,f),w===v)break;v=w}v!==null&&p.stopPropagation()}else Fu(r,a,p,null,f)}}var kl=null;function Cl(r,a,f,p){if(kl=null,r=lu(p),r=qs(r),r!==null)if(a=mi(r),a===null)r=null;else if(f=a.tag,f===13){if(r=mu(a),r!==null)return r;r=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return kl=r,null}function Yf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case pu:return 1;case Rf:return 4;case Za:case Df:return 16;case gu:return 536870912;default:return 16}default:return 16}}var Tt=null,io=null,Us=null;function _u(){if(Us)return Us;var r,a=io,f=a.length,p,v="value"in Tt?Tt.value:Tt.textContent,w=v.length;for(r=0;r<f&&a[r]===v[r];r++);var A=f-r;for(p=1;p<=A&&a[f-p]===v[w-p];p++);return Us=v.slice(r,1<p?1-p:void 0)}function ra(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Pn(){return!0}function ju(){return!1}function Dn(r){function a(f,p,v,w,A){this._reactName=f,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var $ in r)r.hasOwnProperty($)&&(f=r[$],this[$]=f?f(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Pn:ju,this.isPropagationStopped=ju,this}return D(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Pn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Pn)},persist:function(){},isPersistent:Pn}),a}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Dn(yi),ia=D({},yi,{view:0,detail:0}),qf=Dn(ia),En,Nu,vn,El=D({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vn&&(vn&&r.type==="mousemove"?(En=r.screenX-vn.screenX,Nu=r.screenY-vn.screenY):Nu=En=0,vn=r),En)},movementY:function(r){return"movementY"in r?r.movementY:Nu}}),Su=Dn(El),Lr=D({},El,{dataTransfer:0}),Ol=Dn(Lr),ku=D({},ia,{relatedTarget:0}),kt=Dn(ku),Rr=D({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Dn(Rr),kp=D({},yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pu=Dn(kp),Cp=D({},yi,{data:0}),Kf=Dn(Cp),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aa(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Al[r])?!!a[r]:!1}function Eu(){return aa}var Xf=D({},ia,{key:function(r){if(r.key){var a=Pp[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ra(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(r){return r.type==="keypress"?ra(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ra(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Gf=Dn(Xf),Ou=D({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Dn(Ou),Jf=D({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Ep=Dn(Jf),Au=D({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Dn(Au),Op=D({},El,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=Dn(Op),Xn=[9,13,27,32],ao=h&&"CompositionEvent"in window,ur=null;h&&"documentMode"in document&&(ur=document.documentMode);var eh=h&&"TextEvent"in window&&!ur,Mu=h&&(!ao||ur&&8<ur&&11>=ur),th=" ",nh=!1;function sh(r,a){switch(r){case"keyup":return Xn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oa=!1;function la(r,a){switch(r){case"compositionend":return rh(a);case"keypress":return a.which!==32?null:(nh=!0,th);case"textInput":return r=a.data,r===th&&nh?null:r;default:return null}}function Ap(r,a){if(oa)return r==="compositionend"||!ao&&sh(r,a)?(r=_u(),Us=io=Tt=null,oa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mu&&a.locale!=="ko"?null:a.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Tp[r.type]:a==="textarea"}function Lu(r,a,f,p){kf(p),a=Hl(a,"onChange"),0<a.length&&(f=new Pl("onChange","change",null,f,p),r.push({event:f,listeners:a}))}var ls=null,Dr=null;function Mp(r){dh(r,0)}function Ll(r){var a=Ge(r);if(We(a))return r}function Lp(r,a){if(r==="change")return a}var vi=!1;if(h){var Gn;if(h){var Rl="oninput"in document;if(!Rl){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Rl=typeof ih.oninput=="function"}Gn=Rl}else Gn=!1;vi=Gn&&(!document.documentMode||9<document.documentMode)}function ah(){ls&&(ls.detachEvent("onpropertychange",oh),Dr=ls=null)}function oh(r){if(r.propertyName==="value"&&Ll(Dr)){var a=[];Lu(a,Dr,r,lu(r)),Ef(Mp,a)}}function Rp(r,a,f){r==="focusin"?(ah(),ls=a,Dr=f,ls.attachEvent("onpropertychange",oh)):r==="focusout"&&ah()}function Dp(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ll(Dr)}function ca(r,a){if(r==="click")return Ll(a)}function se(r,a){if(r==="input"||r==="change")return Ll(a)}function xe(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ue=typeof Object.is=="function"?Object.is:xe;function Te(r,a){if(ue(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var f=Object.keys(r),p=Object.keys(a);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var v=f[p];if(!m.call(a,v)||!ue(r[v],a[v]))return!1}return!0}function Xe(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ht(r,a){var f=Xe(r);r=0;for(var p;f;){if(f.nodeType===3){if(p=r+f.textContent.length,r<=a&&p>=a)return{node:f,offset:a-r};r=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Xe(f)}}function qt(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?qt(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function wt(){for(var r=window,a=Ie();a instanceof r.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)r=a.contentWindow;else break;a=Ie(r.document)}return a}function oo(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Ip(r){var a=wt(),f=r.focusedElem,p=r.selectionRange;if(a!==f&&f&&f.ownerDocument&&qt(f.ownerDocument.documentElement,f)){if(p!==null&&oo(f)){if(a=p.start,r=p.end,r===void 0&&(r=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(r,f.value.length);else if(r=(a=f.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var v=f.textContent.length,w=Math.min(p.start,v);p=p.end===void 0?w:Math.min(p.end,v),!r.extend&&w>p&&(v=p,p=w,w=v),v=ht(f,w);var A=ht(f,p);v&&A&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),r.removeAllRanges(),w>p?(r.addRange(a),r.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),r.addRange(a)))}}for(a=[],r=f;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)r=a[f],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cs=h&&"documentMode"in document&&11>=document.documentMode,dr=null,Ru=null,Vs=null,ua=!1;function lo(r,a,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ua||dr==null||dr!==Ie(p)||(p=dr,"selectionStart"in p&&oo(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vs&&Te(Vs,p)||(Vs=p,p=Hl(Ru,"onSelect"),0<p.length&&(a=new Pl("onSelect","select",null,a,f),r.push({event:a,listeners:p}),a.target=dr)))}function mt(r,a){var f={};return f[r.toLowerCase()]=a.toLowerCase(),f["Webkit"+r]="webkit"+a,f["Moz"+r]="moz"+a,f}var da={animationend:mt("Animation","AnimationEnd"),animationiteration:mt("Animation","AnimationIteration"),animationstart:mt("Animation","AnimationStart"),transitionend:mt("Transition","TransitionEnd")},Dl={},co={};h&&(co=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Il(r){if(Dl[r])return Dl[r];if(!da[r])return r;var a=da[r],f;for(f in a)if(a.hasOwnProperty(f)&&f in co)return Dl[r]=a[f];return r}var lh=Il("animationend"),ch=Il("animationiteration"),uo=Il("animationstart"),fr=Il("transitionend"),fo=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(r,a){fo.set(r,a),c(a,[r])}for(var Fl=0;Fl<Du.length;Fl++){var Bl=Du[Fl],zl=Bl.toLowerCase(),uh=Bl[0].toUpperCase()+Bl.slice(1);Es(zl,"on"+uh)}Es(lh,"onAnimationEnd"),Es(ch,"onAnimationIteration"),Es(uo,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(fr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function ho(r,a,f){var p=r.type||"unknown-event";r.currentTarget=f,pp(p,a,void 0,r),r.currentTarget=null}function dh(r,a){a=(a&4)!==0;for(var f=0;f<r.length;f++){var p=r[f],v=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var A=p.length-1;0<=A;A--){var $=p[A],Q=$.instance,de=$.currentTarget;if($=$.listener,Q!==w&&v.isPropagationStopped())break e;ho(v,$,de),w=Q}else for(A=0;A<p.length;A++){if($=p[A],Q=$.instance,de=$.currentTarget,$=$.listener,Q!==w&&v.isPropagationStopped())break e;ho(v,$,de),w=Q}}}if(xl)throw r=hu,xl=!1,hu=null,r}function Pt(r,a){var f=a[Vl];f===void 0&&(f=a[Vl]=new Set);var p=r+"__bubble";f.has(p)||(Wl(a,r,2,!1),f.add(p))}function Iu(r,a,f){var p=0;a&&(p|=4),Wl(f,r,p,a)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Ir(r){if(!r[wi]){r[wi]=!0,s.forEach(function(f){f!=="selectionchange"&&(bi.has(f)||Iu(f,!1,r),Iu(f,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[wi]||(a[wi]=!0,Iu("selectionchange",!1,a))}}function Wl(r,a,f,p){switch(Yf(a)){case 1:var v=Np;break;case 4:v=Sp;break;default:v=wu}f=v.bind(null,a,f,r),v=void 0,!Xa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?r.addEventListener(a,f,{capture:!0,passive:v}):r.addEventListener(a,f,!0):v!==void 0?r.addEventListener(a,f,{passive:v}):r.addEventListener(a,f,!1)}function Fu(r,a,f,p,v){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var $=p.stateNode.containerInfo;if($===v||$.nodeType===8&&$.parentNode===v)break;if(A===4)for(A=p.return;A!==null;){var Q=A.tag;if((Q===3||Q===4)&&(Q=A.stateNode.containerInfo,Q===v||Q.nodeType===8&&Q.parentNode===v))return;A=A.return}for(;$!==null;){if(A=qs($),A===null)return;if(Q=A.tag,Q===5||Q===6){p=w=A;continue e}$=$.parentNode}}p=p.return}Ef(function(){var de=w,je=lu(f),Ce=[];e:{var _e=fo.get(r);if(_e!==void 0){var Me=Pl,Re=r;switch(r){case"keypress":if(ra(f)===0)break e;case"keydown":case"keyup":Me=Gf;break;case"focusin":Re="focus",Me=kt;break;case"focusout":Re="blur",Me=kt;break;case"beforeblur":case"afterblur":Me=kt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=Ep;break;case lh:case ch:case uo:Me=Cu;break;case fr:Me=Tu;break;case"scroll":Me=qf;break;case"wheel":Me=Zf;break;case"copy":case"cut":case"paste":Me=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Tl}var De=(a&4)!==0,Ht=!De&&r==="scroll",ae=De?_e!==null?_e+"Capture":null:_e;De=[];for(var Z=de,le;Z!==null;){le=Z;var Pe=le.stateNode;if(le.tag===5&&Pe!==null&&(le=Pe,ae!==null&&(Pe=Qa(Z,ae),Pe!=null&&De.push(fa(Z,Pe,le)))),Ht)break;Z=Z.return}0<De.length&&(_e=new Me(_e,Re,null,f,je),Ce.push({event:_e,listeners:De}))}}if((a&7)===0){e:{if(_e=r==="mouseover"||r==="pointerover",Me=r==="mouseout"||r==="pointerout",_e&&f!==ou&&(Re=f.relatedTarget||f.fromElement)&&(qs(Re)||Re[Jn]))break e;if((Me||_e)&&(_e=je.window===je?je:(_e=je.ownerDocument)?_e.defaultView||_e.parentWindow:window,Me?(Re=f.relatedTarget||f.toElement,Me=de,Re=Re?qs(Re):null,Re!==null&&(Ht=mi(Re),Re!==Ht||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Me=null,Re=de),Me!==Re)){if(De=Su,Pe="onMouseLeave",ae="onMouseEnter",Z="mouse",(r==="pointerout"||r==="pointerover")&&(De=Tl,Pe="onPointerLeave",ae="onPointerEnter",Z="pointer"),Ht=Me==null?_e:Ge(Me),le=Re==null?_e:Ge(Re),_e=new De(Pe,Z+"leave",Me,f,je),_e.target=Ht,_e.relatedTarget=le,Pe=null,qs(je)===de&&(De=new De(ae,Z+"enter",Re,f,je),De.target=le,De.relatedTarget=Ht,Pe=De),Ht=Pe,Me&&Re)t:{for(De=Me,ae=Re,Z=0,le=De;le;le=ha(le))Z++;for(le=0,Pe=ae;Pe;Pe=ha(Pe))le++;for(;0<Z-le;)De=ha(De),Z--;for(;0<le-Z;)ae=ha(ae),le--;for(;Z--;){if(De===ae||ae!==null&&De===ae.alternate)break t;De=ha(De),ae=ha(ae)}De=null}else De=null;Me!==null&&Kt(Ce,_e,Me,De,!1),Re!==null&&Ht!==null&&Kt(Ce,Ht,Re,De,!0)}}e:{if(_e=de?Ge(de):window,Me=_e.nodeName&&_e.nodeName.toLowerCase(),Me==="select"||Me==="input"&&_e.type==="file")var Be=Lp;else if(Ml(_e))if(vi)Be=se;else{Be=Dp;var Ue=Rp}else(Me=_e.nodeName)&&Me.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Be=ca);if(Be&&(Be=Be(r,de))){Lu(Ce,Be,f,je);break e}Ue&&Ue(r,_e,de),r==="focusout"&&(Ue=_e._wrapperState)&&Ue.controlled&&_e.type==="number"&&Jt(_e,"number",_e.value)}switch(Ue=de?Ge(de):window,r){case"focusin":(Ml(Ue)||Ue.contentEditable==="true")&&(dr=Ue,Ru=de,Vs=null);break;case"focusout":Vs=Ru=dr=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,lo(Ce,f,je);break;case"selectionchange":if(cs)break;case"keydown":case"keyup":lo(Ce,f,je)}var He;if(ao)e:{switch(r){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else oa?sh(r,f)&&(Ye="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Ye="onCompositionStart");Ye&&(Mu&&f.locale!=="ko"&&(oa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&oa&&(He=_u()):(Tt=je,io="value"in Tt?Tt.value:Tt.textContent,oa=!0)),Ue=Hl(de,Ye),0<Ue.length&&(Ye=new Kf(Ye,r,null,f,je),Ce.push({event:Ye,listeners:Ue}),He?Ye.data=He:(He=rh(f),He!==null&&(Ye.data=He)))),(He=eh?la(r,f):Ap(r,f))&&(de=Hl(de,"onBeforeInput"),0<de.length&&(je=new Kf("onBeforeInput","beforeinput",null,f,je),Ce.push({event:je,listeners:de}),je.data=He))}dh(Ce,a)})}function fa(r,a,f){return{instance:r,listener:a,currentTarget:f}}function Hl(r,a){for(var f=a+"Capture",p=[];r!==null;){var v=r,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Qa(r,f),w!=null&&p.unshift(fa(r,w,v)),w=Qa(r,a),w!=null&&p.push(fa(r,w,v))),r=r.return}return p}function ha(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Kt(r,a,f,p,v){for(var w=a._reactName,A=[];f!==null&&f!==p;){var $=f,Q=$.alternate,de=$.stateNode;if(Q!==null&&Q===p)break;$.tag===5&&de!==null&&($=de,v?(Q=Qa(f,w),Q!=null&&A.unshift(fa(f,Q,$))):v||(Q=Qa(f,w),Q!=null&&A.push(fa(f,Q,$)))),f=f.return}A.length!==0&&r.push({event:a,listeners:A})}var bn=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function fh(r){return(typeof r=="string"?r:""+r).replace(bn,`
`).replace(Fp,"")}function mo(r,a,f){if(a=fh(a),fh(r)!==a&&f)throw Error(n(425))}function $l(){}var po=null,_i=null;function go(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fr=typeof setTimeout=="function"?setTimeout:void 0,xo=typeof clearTimeout=="function"?clearTimeout:void 0,ma=typeof Promise=="function"?Promise:void 0,Ul=typeof queueMicrotask=="function"?queueMicrotask:typeof ma<"u"?function(r){return ma.resolve(null).then(r).catch(pa)}:Fr;function pa(r){setTimeout(function(){throw r})}function Bu(r,a){var f=a,p=0;do{var v=f.nextSibling;if(r.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(p===0){r.removeChild(v),vt(a);return}p--}else f!=="$"&&f!=="$?"&&f!=="$!"||p++;f=v}while(f);vt(a)}function Br(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function hh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return r;a--}else f==="/$"&&a++}r=r.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Ys="__reactFiber$"+ga,zr="__reactProps$"+ga,Jn="__reactContainer$"+ga,Vl="__reactEvents$"+ga,L="__reactListeners$"+ga,xa="__reactHandles$"+ga;function qs(r){var a=r[Ys];if(a)return a;for(var f=r.parentNode;f;){if(a=f[Jn]||f[Ys]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(r=hh(r);r!==null;){if(f=r[Ys])return f;r=hh(r)}return a}r=f,f=r.parentNode}return null}function wn(r){return r=r[Ys]||r[Jn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ge(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Yl(r){return r[zr]||null}var zu=[],ya=-1;function In(r){return{current:r}}function Et(r){0>ya||(r.current=zu[ya],zu[ya]=null,ya--)}function Ct(r,a){ya++,zu[ya]=r.current,r.current=a}var Wr={},_n=In(Wr),Fn=In(!1),On=Wr;function va(r,a){var f=r.type.contextTypes;if(!f)return Wr;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in f)v[w]=a[w];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=v),v}function Bn(r){return r=r.childContextTypes,r!=null}function ql(){Et(Fn),Et(_n)}function mh(r,a,f){if(_n.current!==Wr)throw Error(n(168));Ct(_n,a),Ct(Fn,f)}function ph(r,a,f){var p=r.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,he(r)||"Unknown",v));return D({},f,p)}function us(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wr,On=_n.current,Ct(_n,r),Ct(Fn,Fn.current),!0}function gh(r,a,f){var p=r.stateNode;if(!p)throw Error(n(169));f?(r=ph(r,a,On),p.__reactInternalMemoizedMergedChildContext=r,Et(Fn),Et(_n),Ct(_n,r)):Et(Fn),Ct(Fn,f)}var mr=null,Kl=!1,Wu=!1;function xh(r){mr===null?mr=[r]:mr.push(r)}function ji(r){Kl=!0,xh(r)}function Hr(){if(!Wu&&mr!==null){Wu=!0;var r=0,a=xt;try{var f=mr;for(xt=1;r<f.length;r++){var p=f[r];do p=p(!0);while(p!==null)}mr=null,Kl=!1}catch(v){throw mr!==null&&(mr=mr.slice(r+1)),Mf(pu,Hr),v}finally{xt=a,Wu=!1}}return null}var ba=[],jn=0,Ql=null,Xl=0,ds=[],fs=0,Ni=null,Ks=1,Qs="";function Si(r,a){ba[jn++]=Xl,ba[jn++]=Ql,Ql=r,Xl=a}function yh(r,a,f){ds[fs++]=Ks,ds[fs++]=Qs,ds[fs++]=Ni,Ni=r;var p=Ks;r=Qs;var v=32-Ps(p)-1;p&=~(1<<v),f+=1;var w=32-Ps(a)+v;if(30<w){var A=v-v%5;w=(p&(1<<A)-1).toString(32),p>>=A,v-=A,Ks=1<<32-Ps(a)+v|f<<v|p,Qs=w+r}else Ks=1<<w|f<<v|p,Qs=r}function yo(r){r.return!==null&&(Si(r,1),yh(r,1,0))}function ki(r){for(;r===Ql;)Ql=ba[--jn],ba[jn]=null,Xl=ba[--jn],ba[jn]=null;for(;r===Ni;)Ni=ds[--fs],ds[fs]=null,Qs=ds[--fs],ds[fs]=null,Ks=ds[--fs],ds[fs]=null}var Nn=null,Zn=null,Ot=!1,Os=null;function Xs(r,a){var f=vs(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=r,a=r.deletions,a===null?(r.deletions=[f],r.flags|=16):a.push(f)}function Gl(r,a){switch(r.tag){case 5:var f=r.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Nn=r,Zn=Br(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Nn=r,Zn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=Ni!==null?{id:Ks,overflow:Qs}:null,r.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=vs(18,null,null,0),f.stateNode=a,f.return=r,r.child=f,Nn=r,Zn=null,!0):!1;default:return!1}}function pr(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zn(r){if(Ot){var a=Zn;if(a){var f=a;if(!Gl(r,a)){if(pr(r))throw Error(n(418));a=Br(f.nextSibling);var p=Nn;a&&Gl(r,a)?Xs(p,f):(r.flags=r.flags&-4097|2,Ot=!1,Nn=r)}}else{if(pr(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ot=!1,Nn=r}}}function vh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nn=r}function vo(r){if(r!==Nn)return!1;if(!Ot)return vh(r),Ot=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!go(r.type,r.memoizedProps)),a&&(a=Zn)){if(pr(r))throw Hu(),Error(n(418));for(;a;)Xs(r,a),a=Br(a.nextSibling)}if(vh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"){if(a===0){Zn=Br(r.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}r=r.nextSibling}Zn=null}}else Zn=Nn?Br(r.stateNode.nextSibling):null;return!0}function Hu(){for(var r=Zn;r;)r=Br(r.nextSibling)}function Gs(){Zn=Nn=null,Ot=!1}function Js(r){Os===null?Os=[r]:Os.push(r)}var bh=z.ReactCurrentBatchConfig;function bo(r,a,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var p=f.stateNode}if(!p)throw Error(n(147,r));var v=p,w=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(A){var $=v.refs;A===null?delete $[w]:$[w]=A},a._stringRef=w,a)}if(typeof r!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,r))}return r}function Ci(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function wh(r){var a=r._init;return a(r._payload)}function $u(r){function a(ae,Z){if(r){var le=ae.deletions;le===null?(ae.deletions=[Z],ae.flags|=16):le.push(Z)}}function f(ae,Z){if(!r)return null;for(;Z!==null;)a(ae,Z),Z=Z.sibling;return null}function p(ae,Z){for(ae=new Map;Z!==null;)Z.key!==null?ae.set(Z.key,Z):ae.set(Z.index,Z),Z=Z.sibling;return ae}function v(ae,Z){return ae=Is(ae,Z),ae.index=0,ae.sibling=null,ae}function w(ae,Z,le){return ae.index=le,r?(le=ae.alternate,le!==null?(le=le.index,le<Z?(ae.flags|=2,Z):le):(ae.flags|=2,Z)):(ae.flags|=1048576,Z)}function A(ae){return r&&ae.alternate===null&&(ae.flags|=2),ae}function $(ae,Z,le,Pe){return Z===null||Z.tag!==6?(Z=Ed(le,ae.mode,Pe),Z.return=ae,Z):(Z=v(Z,le),Z.return=ae,Z)}function Q(ae,Z,le,Pe){var Be=le.type;return Be===ne?je(ae,Z,le.props.children,Pe,le.key):Z!==null&&(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ye&&wh(Be)===Z.type)?(Pe=v(Z,le.props),Pe.ref=bo(ae,Z,le),Pe.return=ae,Pe):(Pe=Tc(le.type,le.key,le.props,null,ae.mode,Pe),Pe.ref=bo(ae,Z,le),Pe.return=ae,Pe)}function de(ae,Z,le,Pe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=Od(le,ae.mode,Pe),Z.return=ae,Z):(Z=v(Z,le.children||[]),Z.return=ae,Z)}function je(ae,Z,le,Pe,Be){return Z===null||Z.tag!==7?(Z=Fi(le,ae.mode,Pe,Be),Z.return=ae,Z):(Z=v(Z,le),Z.return=ae,Z)}function Ce(ae,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Ed(""+Z,ae.mode,le),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case W:return le=Tc(Z.type,Z.key,Z.props,null,ae.mode,le),le.ref=bo(ae,null,Z),le.return=ae,le;case q:return Z=Od(Z,ae.mode,le),Z.return=ae,Z;case ye:var Pe=Z._init;return Ce(ae,Pe(Z._payload),le)}if(an(Z)||G(Z))return Z=Fi(Z,ae.mode,le,null),Z.return=ae,Z;Ci(ae,Z)}return null}function _e(ae,Z,le,Pe){var Be=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Be!==null?null:$(ae,Z,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case W:return le.key===Be?Q(ae,Z,le,Pe):null;case q:return le.key===Be?de(ae,Z,le,Pe):null;case ye:return Be=le._init,_e(ae,Z,Be(le._payload),Pe)}if(an(le)||G(le))return Be!==null?null:je(ae,Z,le,Pe,null);Ci(ae,le)}return null}function Me(ae,Z,le,Pe,Be){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ae=ae.get(le)||null,$(Z,ae,""+Pe,Be);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case W:return ae=ae.get(Pe.key===null?le:Pe.key)||null,Q(Z,ae,Pe,Be);case q:return ae=ae.get(Pe.key===null?le:Pe.key)||null,de(Z,ae,Pe,Be);case ye:var Ue=Pe._init;return Me(ae,Z,le,Ue(Pe._payload),Be)}if(an(Pe)||G(Pe))return ae=ae.get(le)||null,je(Z,ae,Pe,Be,null);Ci(Z,Pe)}return null}function Re(ae,Z,le,Pe){for(var Be=null,Ue=null,He=Z,Ye=Z=0,cn=null;He!==null&&Ye<le.length;Ye++){He.index>Ye?(cn=He,He=null):cn=He.sibling;var pt=_e(ae,He,le[Ye],Pe);if(pt===null){He===null&&(He=cn);break}r&&He&&pt.alternate===null&&a(ae,He),Z=w(pt,Z,Ye),Ue===null?Be=pt:Ue.sibling=pt,Ue=pt,He=cn}if(Ye===le.length)return f(ae,He),Ot&&Si(ae,Ye),Be;if(He===null){for(;Ye<le.length;Ye++)He=Ce(ae,le[Ye],Pe),He!==null&&(Z=w(He,Z,Ye),Ue===null?Be=He:Ue.sibling=He,Ue=He);return Ot&&Si(ae,Ye),Be}for(He=p(ae,He);Ye<le.length;Ye++)cn=Me(He,ae,Ye,le[Ye],Pe),cn!==null&&(r&&cn.alternate!==null&&He.delete(cn.key===null?Ye:cn.key),Z=w(cn,Z,Ye),Ue===null?Be=cn:Ue.sibling=cn,Ue=cn);return r&&He.forEach(function(ei){return a(ae,ei)}),Ot&&Si(ae,Ye),Be}function De(ae,Z,le,Pe){var Be=G(le);if(typeof Be!="function")throw Error(n(150));if(le=Be.call(le),le==null)throw Error(n(151));for(var Ue=Be=null,He=Z,Ye=Z=0,cn=null,pt=le.next();He!==null&&!pt.done;Ye++,pt=le.next()){He.index>Ye?(cn=He,He=null):cn=He.sibling;var ei=_e(ae,He,pt.value,Pe);if(ei===null){He===null&&(He=cn);break}r&&He&&ei.alternate===null&&a(ae,He),Z=w(ei,Z,Ye),Ue===null?Be=ei:Ue.sibling=ei,Ue=ei,He=cn}if(pt.done)return f(ae,He),Ot&&Si(ae,Ye),Be;if(He===null){for(;!pt.done;Ye++,pt=le.next())pt=Ce(ae,pt.value,Pe),pt!==null&&(Z=w(pt,Z,Ye),Ue===null?Be=pt:Ue.sibling=pt,Ue=pt);return Ot&&Si(ae,Ye),Be}for(He=p(ae,He);!pt.done;Ye++,pt=le.next())pt=Me(He,ae,Ye,pt.value,Pe),pt!==null&&(r&&pt.alternate!==null&&He.delete(pt.key===null?Ye:pt.key),Z=w(pt,Z,Ye),Ue===null?Be=pt:Ue.sibling=pt,Ue=pt);return r&&He.forEach(function(ig){return a(ae,ig)}),Ot&&Si(ae,Ye),Be}function Ht(ae,Z,le,Pe){if(typeof le=="object"&&le!==null&&le.type===ne&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case W:e:{for(var Be=le.key,Ue=Z;Ue!==null;){if(Ue.key===Be){if(Be=le.type,Be===ne){if(Ue.tag===7){f(ae,Ue.sibling),Z=v(Ue,le.props.children),Z.return=ae,ae=Z;break e}}else if(Ue.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ye&&wh(Be)===Ue.type){f(ae,Ue.sibling),Z=v(Ue,le.props),Z.ref=bo(ae,Ue,le),Z.return=ae,ae=Z;break e}f(ae,Ue);break}else a(ae,Ue);Ue=Ue.sibling}le.type===ne?(Z=Fi(le.props.children,ae.mode,Pe,le.key),Z.return=ae,ae=Z):(Pe=Tc(le.type,le.key,le.props,null,ae.mode,Pe),Pe.ref=bo(ae,Z,le),Pe.return=ae,ae=Pe)}return A(ae);case q:e:{for(Ue=le.key;Z!==null;){if(Z.key===Ue)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){f(ae,Z.sibling),Z=v(Z,le.children||[]),Z.return=ae,ae=Z;break e}else{f(ae,Z);break}else a(ae,Z);Z=Z.sibling}Z=Od(le,ae.mode,Pe),Z.return=ae,ae=Z}return A(ae);case ye:return Ue=le._init,Ht(ae,Z,Ue(le._payload),Pe)}if(an(le))return Re(ae,Z,le,Pe);if(G(le))return De(ae,Z,le,Pe);Ci(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(f(ae,Z.sibling),Z=v(Z,le),Z.return=ae,ae=Z):(f(ae,Z),Z=Ed(le,ae.mode,Pe),Z.return=ae,ae=Z),A(ae)):f(ae,Z)}return Ht}var Bt=$u(!0),Jl=$u(!1),wo=In(null),es=null,$r=null,wa=null;function gr(){wa=$r=es=null}function Zl(r){var a=wo.current;Et(wo),r._currentValue=a}function un(r,a,f){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===f)break;r=r.return}}function Ur(r,a){es=r,wa=$r=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Tn=!0),r.firstContext=null)}function hs(r){var a=r._currentValue;if(wa!==r)if(r={context:r,memoizedValue:a,next:null},$r===null){if(es===null)throw Error(n(308));$r=r,es.dependencies={lanes:0,firstContext:r}}else $r=$r.next=r;return a}var Pi=null;function Uu(r){Pi===null?Pi=[r]:Pi.push(r)}function ec(r,a,f,p){var v=a.interleaved;return v===null?(f.next=f,Uu(a)):(f.next=v.next,v.next=f),a.interleaved=f,xr(r,p)}function xr(r,a){r.lanes|=a;var f=r.alternate;for(f!==null&&(f.lanes|=a),f=r,r=r.return;r!==null;)r.childLanes|=a,f=r.alternate,f!==null&&(f.childLanes|=a),f=r,r=r.return;return f.tag===3?f.stateNode:null}var ms=!1;function tc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yr(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function ps(r,a,f){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ut&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,xr(r,f)}return v=p.interleaved,v===null?(a.next=a,Uu(p)):(a.next=v.next,v.next=a),p.interleaved=a,xr(r,f)}function nc(r,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var p=a.lanes;p&=r.pendingLanes,f|=p,a.lanes=f,no(r,f)}}function jh(r,a){var f=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var v=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var A={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};w===null?v=w=A:w=w.next=A,f=f.next}while(f!==null);w===null?v=w=a:w=w.next=a}else v=w=a;f={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,effects:p.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=a:r.next=a,f.lastBaseUpdate=a}function _a(r,a,f,p){var v=r.updateQueue;ms=!1;var w=v.firstBaseUpdate,A=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var Q=$,de=Q.next;Q.next=null,A===null?w=de:A.next=de,A=Q;var je=r.alternate;je!==null&&(je=je.updateQueue,$=je.lastBaseUpdate,$!==A&&($===null?je.firstBaseUpdate=de:$.next=de,je.lastBaseUpdate=Q))}if(w!==null){var Ce=v.baseState;A=0,je=de=Q=null,$=w;do{var _e=$.lane,Me=$.eventTime;if((p&_e)===_e){je!==null&&(je=je.next={eventTime:Me,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Re=r,De=$;switch(_e=a,Me=f,De.tag){case 1:if(Re=De.payload,typeof Re=="function"){Ce=Re.call(Me,Ce,_e);break e}Ce=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=De.payload,_e=typeof Re=="function"?Re.call(Me,Ce,_e):Re,_e==null)break e;Ce=D({},Ce,_e);break e;case 2:ms=!0}}$.callback!==null&&$.lane!==0&&(r.flags|=64,_e=v.effects,_e===null?v.effects=[$]:_e.push($))}else Me={eventTime:Me,lane:_e,tag:$.tag,payload:$.payload,callback:$.callback,next:null},je===null?(de=je=Me,Q=Ce):je=je.next=Me,A|=_e;if($=$.next,$===null){if($=v.shared.pending,$===null)break;_e=$,$=_e.next,_e.next=null,v.lastBaseUpdate=_e,v.shared.pending=null}}while(!0);if(je===null&&(Q=Ce),v.baseState=Q,v.firstBaseUpdate=de,v.lastBaseUpdate=je,a=v.shared.interleaved,a!==null){v=a;do A|=v.lane,v=v.next;while(v!==a)}else w===null&&(v.shared.lanes=0);Qr|=A,r.lanes=A,r.memoizedState=Ce}}function Vu(r,a,f){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],v=p.callback;if(v!==null){if(p.callback=null,p=f,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var _o={},Zs=In(_o),jo=In(_o),ja=In(_o);function vr(r){if(r===_o)throw Error(n(174));return r}function Yu(r,a){switch(Ct(ja,a),Ct(jo,r),Ct(Zs,_o),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ci(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=ci(a,r)}Et(Zs),Ct(Zs,a)}function Vr(){Et(Zs),Et(jo),Et(ja)}function qu(r){vr(ja.current);var a=vr(Zs.current),f=ci(a,r.type);a!==f&&(Ct(jo,r),Ct(Zs,f))}function sc(r){jo.current===r&&(Et(Zs),Et(jo))}var Mt=In(0);function Ei(r){for(var a=r;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ku=[];function rc(){for(var r=0;r<Ku.length;r++)Ku[r]._workInProgressVersionPrimary=null;Ku.length=0}var No=z.ReactCurrentDispatcher,Qu=z.ReactCurrentBatchConfig,Yr=0,Dt=null,Wt=null,Zt=null,Na=!1,So=!1,Oi=0,et=0;function Sn(){throw Error(n(321))}function Xu(r,a){if(a===null)return!1;for(var f=0;f<a.length&&f<r.length;f++)if(!ue(r[f],a[f]))return!1;return!0}function Ai(r,a,f,p,v,w){if(Yr=w,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,No.current=r===null||r.memoizedState===null?zp:dc,r=f(p,v),So){w=0;do{if(So=!1,Oi=0,25<=w)throw Error(n(301));w+=1,Zt=Wt=null,a.updateQueue=null,No.current=Pa,r=f(p,v)}while(So)}if(No.current=uc,a=Wt!==null&&Wt.next!==null,Yr=0,Zt=Wt=Dt=null,Na=!1,a)throw Error(n(300));return r}function ic(){var r=Oi!==0;return Oi=0,r}function er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Dt.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function gs(){if(Wt===null){var r=Dt.alternate;r=r!==null?r.memoizedState:null}else r=Wt.next;var a=Zt===null?Dt.memoizedState:Zt.next;if(a!==null)Zt=a,Wt=r;else{if(r===null)throw Error(n(310));Wt=r,r={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Zt===null?Dt.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function kn(r,a){return typeof a=="function"?a(r):a}function Gu(r){var a=gs(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=Wt,v=p.baseQueue,w=f.pending;if(w!==null){if(v!==null){var A=v.next;v.next=w.next,w.next=A}p.baseQueue=v=w,f.pending=null}if(v!==null){w=v.next,p=p.baseState;var $=A=null,Q=null,de=w;do{var je=de.lane;if((Yr&je)===je)Q!==null&&(Q=Q.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),p=de.hasEagerState?de.eagerState:r(p,de.action);else{var Ce={lane:je,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Q===null?($=Q=Ce,A=p):Q=Q.next=Ce,Dt.lanes|=je,Qr|=je}de=de.next}while(de!==null&&de!==w);Q===null?A=p:Q.next=$,ue(p,a.memoizedState)||(Tn=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=Q,f.lastRenderedState=p}if(r=f.interleaved,r!==null){v=r;do w=v.lane,Dt.lanes|=w,Qr|=w,v=v.next;while(v!==r)}else v===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function Sa(r){var a=gs(),f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=f.dispatch,v=f.pending,w=a.memoizedState;if(v!==null){f.pending=null;var A=v=v.next;do w=r(w,A.action),A=A.next;while(A!==v);ue(w,a.memoizedState)||(Tn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),f.lastRenderedState=w}return[w,p]}function ac(){}function Ju(r,a){var f=Dt,p=gs(),v=a(),w=!ue(p.memoizedState,v);if(w&&(p.memoizedState=v,Tn=!0),p=p.queue,tr(br.bind(null,f,p,r),[r]),p.getSnapshot!==a||w||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,ka(9,Wn.bind(null,f,p,v,a),void 0,null),ln===null)throw Error(n(349));(Yr&30)!==0||Zu(f,a,v)}return v}function Zu(r,a,f){r.flags|=16384,r={getSnapshot:a,value:f},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.stores=[r]):(f=a.stores,f===null?a.stores=[r]:f.push(r))}function Wn(r,a,f,p){a.value=f,a.getSnapshot=p,oc(a)&&ed(r)}function br(r,a,f){return f(function(){oc(a)&&ed(r)})}function oc(r){var a=r.getSnapshot;r=r.value;try{var f=a();return!ue(r,f)}catch{return!0}}function ed(r){var a=xr(r,1);a!==null&&Ds(a,r,1,-1)}function ko(r){var a=er();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:r},a.queue=r,r=r.dispatch=Eh.bind(null,Dt,r),[a.memoizedState,r]}function ka(r,a,f,p){return r={tag:r,create:a,destroy:f,deps:p,next:null},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.lastEffect=r.next=r):(f=a.lastEffect,f===null?a.lastEffect=r.next=r:(p=f.next,f.next=r,r.next=p,a.lastEffect=r)),r}function lc(){return gs().memoizedState}function Co(r,a,f,p){var v=er();Dt.flags|=r,v.memoizedState=ka(1|a,f,void 0,p===void 0?null:p)}function Ca(r,a,f,p){var v=gs();p=p===void 0?null:p;var w=void 0;if(Wt!==null){var A=Wt.memoizedState;if(w=A.destroy,p!==null&&Xu(p,A.deps)){v.memoizedState=ka(a,f,w,p);return}}Dt.flags|=r,v.memoizedState=ka(1|a,f,w,p)}function cc(r,a){return Co(8390656,8,r,a)}function tr(r,a){return Ca(2048,8,r,a)}function Nh(r,a){return Ca(4,2,r,a)}function wr(r,a){return Ca(4,4,r,a)}function td(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function nd(r,a,f){return f=f!=null?f.concat([r]):null,Ca(4,4,td.bind(null,a,r),f)}function Po(){}function Sh(r,a){var f=gs();a=a===void 0?null:a;var p=f.memoizedState;return p!==null&&a!==null&&Xu(a,p[1])?p[0]:(f.memoizedState=[r,a],r)}function kh(r,a){var f=gs();a=a===void 0?null:a;var p=f.memoizedState;return p!==null&&a!==null&&Xu(a,p[1])?p[0]:(r=r(),f.memoizedState=[r,a],r)}function Ch(r,a,f){return(Yr&21)===0?(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=f):(ue(f,a)||(f=xu(),Dt.lanes|=f,Qr|=f,r.baseState=!0),a)}function Ph(r,a){var f=xt;xt=f!==0&&4>f?f:4,r(!0);var p=Qu.transition;Qu.transition={};try{r(!1),a()}finally{xt=f,Qu.transition=p}}function sd(){return gs().memoizedState}function Bp(r,a,f){var p=Jr(r);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},rd(r))An(a,f);else if(f=ec(r,a,f,p),f!==null){var v=Rn();Ds(f,r,p,v),As(f,a,p)}}function Eh(r,a,f){var p=Jr(r),v={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(rd(r))An(a,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var A=a.lastRenderedState,$=w(A,f);if(v.hasEagerState=!0,v.eagerState=$,ue($,A)){var Q=a.interleaved;Q===null?(v.next=v,Uu(a)):(v.next=Q.next,Q.next=v),a.interleaved=v;return}}catch{}finally{}f=ec(r,a,v,p),f!==null&&(v=Rn(),Ds(f,r,p,v),As(f,a,p))}}function rd(r){var a=r.alternate;return r===Dt||a!==null&&a===Dt}function An(r,a){So=Na=!0;var f=r.pending;f===null?a.next=a:(a.next=f.next,f.next=a),r.pending=a}function As(r,a,f){if((f&4194240)!==0){var p=a.lanes;p&=r.pendingLanes,f|=p,a.lanes=f,no(r,f)}}var uc={readContext:hs,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},zp={readContext:hs,useCallback:function(r,a){return er().memoizedState=[r,a===void 0?null:a],r},useContext:hs,useEffect:cc,useImperativeHandle:function(r,a,f){return f=f!=null?f.concat([r]):null,Co(4194308,4,td.bind(null,a,r),f)},useLayoutEffect:function(r,a){return Co(4194308,4,r,a)},useInsertionEffect:function(r,a){return Co(4,2,r,a)},useMemo:function(r,a){var f=er();return a=a===void 0?null:a,r=r(),f.memoizedState=[r,a],r},useReducer:function(r,a,f){var p=er();return a=f!==void 0?f(a):a,p.memoizedState=p.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},p.queue=r,r=r.dispatch=Bp.bind(null,Dt,r),[p.memoizedState,r]},useRef:function(r){var a=er();return r={current:r},a.memoizedState=r},useState:ko,useDebugValue:Po,useDeferredValue:function(r){return er().memoizedState=r},useTransition:function(){var r=ko(!1),a=r[0];return r=Ph.bind(null,r[1]),er().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,f){var p=Dt,v=er();if(Ot){if(f===void 0)throw Error(n(407));f=f()}else{if(f=a(),ln===null)throw Error(n(349));(Yr&30)!==0||Zu(p,a,f)}v.memoizedState=f;var w={value:f,getSnapshot:a};return v.queue=w,cc(br.bind(null,p,w,r),[r]),p.flags|=2048,ka(9,Wn.bind(null,p,w,f,a),void 0,null),f},useId:function(){var r=er(),a=ln.identifierPrefix;if(Ot){var f=Qs,p=Ks;f=(p&~(1<<32-Ps(p)-1)).toString(32)+f,a=":"+a+"R"+f,f=Oi++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=et++,a=":"+a+"r"+f.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},dc={readContext:hs,useCallback:Sh,useContext:hs,useEffect:tr,useImperativeHandle:nd,useInsertionEffect:Nh,useLayoutEffect:wr,useMemo:kh,useReducer:Gu,useRef:lc,useState:function(){return Gu(kn)},useDebugValue:Po,useDeferredValue:function(r){var a=gs();return Ch(a,Wt.memoizedState,r)},useTransition:function(){var r=Gu(kn)[0],a=gs().memoizedState;return[r,a]},useMutableSource:ac,useSyncExternalStore:Ju,useId:sd,unstable_isNewReconciler:!1},Pa={readContext:hs,useCallback:Sh,useContext:hs,useEffect:tr,useImperativeHandle:nd,useInsertionEffect:Nh,useLayoutEffect:wr,useMemo:kh,useReducer:Sa,useRef:lc,useState:function(){return Sa(kn)},useDebugValue:Po,useDeferredValue:function(r){var a=gs();return Wt===null?a.memoizedState=r:Ch(a,Wt.memoizedState,r)},useTransition:function(){var r=Sa(kn)[0],a=gs().memoizedState;return[r,a]},useMutableSource:ac,useSyncExternalStore:Ju,useId:sd,unstable_isNewReconciler:!1};function xs(r,a){if(r&&r.defaultProps){a=D({},a),r=r.defaultProps;for(var f in r)a[f]===void 0&&(a[f]=r[f]);return a}return a}function fc(r,a,f,p){a=r.memoizedState,f=f(p,a),f=f==null?a:D({},a,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var hc={isMounted:function(r){return(r=r._reactInternals)?mi(r)===r:!1},enqueueSetState:function(r,a,f){r=r._reactInternals;var p=Rn(),v=Jr(r),w=yr(p,v);w.payload=a,f!=null&&(w.callback=f),a=ps(r,w,v),a!==null&&(Ds(a,r,v,p),nc(a,r,v))},enqueueReplaceState:function(r,a,f){r=r._reactInternals;var p=Rn(),v=Jr(r),w=yr(p,v);w.tag=1,w.payload=a,f!=null&&(w.callback=f),a=ps(r,w,v),a!==null&&(Ds(a,r,v,p),nc(a,r,v))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var f=Rn(),p=Jr(r),v=yr(f,p);v.tag=2,a!=null&&(v.callback=a),a=ps(r,v,p),a!==null&&(Ds(a,r,p,f),nc(a,r,p))}};function id(r,a,f,p,v,w,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,w,A):a.prototype&&a.prototype.isPureReactComponent?!Te(f,p)||!Te(v,w):!0}function Ti(r,a,f){var p=!1,v=Wr,w=a.contextType;return typeof w=="object"&&w!==null?w=hs(w):(v=Bn(a)?On:_n.current,p=a.contextTypes,w=(p=p!=null)?va(r,v):Wr),a=new a(f,w),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hc,r.stateNode=a,a._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=w),a}function Ea(r,a,f,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,p),a.state!==r&&hc.enqueueReplaceState(a,a.state,null)}function ad(r,a,f,p){var v=r.stateNode;v.props=f,v.state=r.memoizedState,v.refs={},tc(r);var w=a.contextType;typeof w=="object"&&w!==null?v.context=hs(w):(w=Bn(a)?On:_n.current,v.context=va(r,w)),v.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(fc(r,a,w,f),v.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&hc.enqueueReplaceState(v,v.state,null),_a(r,f,v,p),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function Mi(r,a){try{var f="",p=a;do f+=ce(p),p=p.return;while(p);var v=f}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:a,stack:v,digest:null}}function mc(r,a,f){return{value:r,source:null,stack:f??null,digest:a??null}}function Oa(r,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var Oh=typeof WeakMap=="function"?WeakMap:Map;function Eo(r,a,f){f=yr(-1,f),f.tag=3,f.payload={element:null};var p=a.value;return f.callback=function(){Sc||(Sc=!0,_d=p),Oa(r,a)},f}function pc(r,a,f){f=yr(-1,f),f.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;f.payload=function(){return p(v)},f.callback=function(){Oa(r,a)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(f.callback=function(){Oa(r,a),typeof p!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),f}function Oo(r,a,f){var p=r.pingCache;if(p===null){p=r.pingCache=new Oh;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(f)||(v.add(f),r=Kp.bind(null,r,a,f),a.then(r,r))}function Ah(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function od(r,a,f,p,v){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=yr(-1,1),a.tag=2,ps(f,a,1))),f.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var gc=z.ReactCurrentOwner,Tn=!1;function dn(r,a,f,p){a.child=r===null?Jl(a,null,f,p):Bt(a,r.child,f,p)}function Th(r,a,f,p,v){f=f.render;var w=a.ref;return Ur(a,v),p=Ai(r,a,f,p,w,v),f=ic(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~v,Ts(r,a,v)):(Ot&&f&&yo(a),a.flags|=1,dn(r,a,p,v),a.child)}function ld(r,a,f,p,v){if(r===null){var w=f.type;return typeof w=="function"&&!Ac(w)&&w.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=w,nr(r,a,w,p,v)):(r=Tc(f.type,null,p,a,a.mode,v),r.ref=a.ref,r.return=a,a.child=r)}if(w=r.child,(r.lanes&v)===0){var A=w.memoizedProps;if(f=f.compare,f=f!==null?f:Te,f(A,p)&&r.ref===a.ref)return Ts(r,a,v)}return a.flags|=1,r=Is(w,p),r.ref=a.ref,r.return=a,a.child=r}function nr(r,a,f,p,v){if(r!==null){var w=r.memoizedProps;if(Te(w,p)&&r.ref===a.ref)if(Tn=!1,a.pendingProps=p=w,(r.lanes&v)!==0)(r.flags&131072)!==0&&(Tn=!0);else return a.lanes=r.lanes,Ts(r,a,v)}return dd(r,a,f,p,v)}function cd(r,a,f){var p=a.pendingProps,v=p.children,w=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(La,ns),ns|=f;else{if((f&1073741824)===0)return r=w!==null?w.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ct(La,ns),ns|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:f,Ct(La,ns),ns|=p}else w!==null?(p=w.baseLanes|f,a.memoizedState=null):p=f,Ct(La,ns),ns|=p;return dn(r,a,v,f),a.child}function ud(r,a){var f=a.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function dd(r,a,f,p,v){var w=Bn(f)?On:_n.current;return w=va(a,w),Ur(a,v),f=Ai(r,a,f,p,w,v),p=ic(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~v,Ts(r,a,v)):(Ot&&p&&yo(a),a.flags|=1,dn(r,a,f,v),a.child)}function fd(r,a,f,p,v){if(Bn(f)){var w=!0;us(a)}else w=!1;if(Ur(a,v),a.stateNode===null)yc(r,a),Ti(a,f,p),ad(a,f,p,v),p=!0;else if(r===null){var A=a.stateNode,$=a.memoizedProps;A.props=$;var Q=A.context,de=f.contextType;typeof de=="object"&&de!==null?de=hs(de):(de=Bn(f)?On:_n.current,de=va(a,de));var je=f.getDerivedStateFromProps,Ce=typeof je=="function"||typeof A.getSnapshotBeforeUpdate=="function";Ce||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==p||Q!==de)&&Ea(a,A,p,de),ms=!1;var _e=a.memoizedState;A.state=_e,_a(a,p,A,v),Q=a.memoizedState,$!==p||_e!==Q||Fn.current||ms?(typeof je=="function"&&(fc(a,f,je,p),Q=a.memoizedState),($=ms||id(a,f,$,p,_e,Q,de))?(Ce||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Q),A.props=p,A.state=Q,A.context=de,p=$):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,_h(r,a),$=a.memoizedProps,de=a.type===a.elementType?$:xs(a.type,$),A.props=de,Ce=a.pendingProps,_e=A.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=hs(Q):(Q=Bn(f)?On:_n.current,Q=va(a,Q));var Me=f.getDerivedStateFromProps;(je=typeof Me=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==Ce||_e!==Q)&&Ea(a,A,p,Q),ms=!1,_e=a.memoizedState,A.state=_e,_a(a,p,A,v);var Re=a.memoizedState;$!==Ce||_e!==Re||Fn.current||ms?(typeof Me=="function"&&(fc(a,f,Me,p),Re=a.memoizedState),(de=ms||id(a,f,de,p,_e,Re,Q)||!1)?(je||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Re,Q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Re,Q)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===r.memoizedProps&&_e===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&_e===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Re),A.props=p,A.state=Re,A.context=Q,p=de):(typeof A.componentDidUpdate!="function"||$===r.memoizedProps&&_e===r.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===r.memoizedProps&&_e===r.memoizedState||(a.flags|=1024),p=!1)}return hd(r,a,f,p,w,v)}function hd(r,a,f,p,v,w){ud(r,a);var A=(a.flags&128)!==0;if(!p&&!A)return v&&gh(a,f,!1),Ts(r,a,w);p=a.stateNode,gc.current=a;var $=A&&typeof f.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&A?(a.child=Bt(a,r.child,null,w),a.child=Bt(a,null,$,w)):dn(r,a,$,w),a.memoizedState=p.state,v&&gh(a,f,!0),a.child}function Mh(r){var a=r.stateNode;a.pendingContext?mh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&mh(r,a.context,!1),Yu(r,a.containerInfo)}function sr(r,a,f,p,v){return Gs(),Js(v),a.flags|=256,dn(r,a,f,p),a.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function To(r){return{baseLanes:r,cachePool:null,transitions:null}}function xc(r,a,f){var p=a.pendingProps,v=Mt.current,w=!1,A=(a.flags&128)!==0,$;if(($=A)||($=r!==null&&r.memoizedState===null?!1:(v&2)!==0),$?(w=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),Ct(Mt,v&1),r===null)return zn(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=p.children,r=p.fallback,w?(p=a.mode,w=a.child,A={mode:"hidden",children:A},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Mc(A,p,0,null),r=Fi(r,p,f,null),w.return=a,r.return=a,w.sibling=r,a.child=w,a.child.memoizedState=To(f),a.memoizedState=Ao,r):Aa(a,A));if(v=r.memoizedState,v!==null&&($=v.dehydrated,$!==null))return Ve(r,a,A,p,$,v,f);if(w){w=p.fallback,A=a.mode,v=r.child,$=v.sibling;var Q={mode:"hidden",children:p.children};return(A&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=Q,a.deletions=null):(p=Is(v,Q),p.subtreeFlags=v.subtreeFlags&14680064),$!==null?w=Is($,w):(w=Fi(w,A,f,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,A=r.child.memoizedState,A=A===null?To(f):{baseLanes:A.baseLanes|f,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=r.childLanes&~f,a.memoizedState=Ao,p}return w=r.child,r=w.sibling,p=Is(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=f),p.return=a,p.sibling=null,r!==null&&(f=a.deletions,f===null?(a.deletions=[r],a.flags|=16):f.push(r)),a.child=p,a.memoizedState=null,p}function Aa(r,a){return a=Mc({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function _r(r,a,f,p){return p!==null&&Js(p),Bt(a,r.child,null,f),r=Aa(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Ve(r,a,f,p,v,w,A){if(f)return a.flags&256?(a.flags&=-257,p=mc(Error(n(422))),_r(r,a,A,p)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(w=p.fallback,v=a.mode,p=Mc({mode:"visible",children:p.children},v,0,null),w=Fi(w,v,A,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Bt(a,r.child,null,A),a.child.memoizedState=To(A),a.memoizedState=Ao,w);if((a.mode&1)===0)return _r(r,a,A,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var $=p.dgst;return p=$,w=Error(n(419)),p=mc(w,p,void 0),_r(r,a,A,p)}if($=(A&r.childLanes)!==0,Tn||$){if(p=ln,p!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|A))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,xr(r,v),Ds(p,r,v,-1))}return Pd(),p=mc(Error(n(421))),_r(r,a,A,p)}return v.data==="$?"?(a.flags|=128,a.child=r.child,a=Qp.bind(null,r),v._reactRetry=a,null):(r=w.treeContext,Zn=Br(v.nextSibling),Nn=a,Ot=!0,Os=null,r!==null&&(ds[fs++]=Ks,ds[fs++]=Qs,ds[fs++]=Ni,Ks=r.id,Qs=r.overflow,Ni=a),a=Aa(a,p.children),a.flags|=4096,a)}function Mo(r,a,f){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),un(r.return,a,f)}function Lo(r,a,f,p,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=f,w.tailMode=v)}function qr(r,a,f){var p=a.pendingProps,v=p.revealOrder,w=p.tail;if(dn(r,a,p.children,f),p=Mt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Mo(r,f,a);else if(r.tag===19)Mo(r,f,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Ct(Mt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(f=a.child,v=null;f!==null;)r=f.alternate,r!==null&&Ei(r)===null&&(v=f),f=f.sibling;f=v,f===null?(v=a.child,a.child=null):(v=f.sibling,f.sibling=null),Lo(a,!1,v,f,w);break;case"backwards":for(f=null,v=a.child,a.child=null;v!==null;){if(r=v.alternate,r!==null&&Ei(r)===null){a.child=v;break}r=v.sibling,v.sibling=f,f=v,v=r}Lo(a,!0,f,null,w);break;case"together":Lo(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function yc(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Ts(r,a,f){if(r!==null&&(a.dependencies=r.dependencies),Qr|=a.lanes,(f&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,f=Is(r,r.pendingProps),a.child=f,f.return=a;r.sibling!==null;)r=r.sibling,f=f.sibling=Is(r,r.pendingProps),f.return=a;f.sibling=null}return a.child}function Lh(r,a,f){switch(a.tag){case 3:Mh(a),Gs();break;case 5:qu(a);break;case 1:Bn(a.type)&&us(a);break;case 4:Yu(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;Ct(wo,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Ct(Mt,Mt.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?xc(r,a,f):(Ct(Mt,Mt.current&1),r=Ts(r,a,f),r!==null?r.sibling:null);Ct(Mt,Mt.current&1);break;case 19:if(p=(f&a.childLanes)!==0,(r.flags&128)!==0){if(p)return qr(r,a,f);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ct(Mt,Mt.current),p)break;return null;case 22:case 23:return a.lanes=0,cd(r,a,f)}return Ts(r,a,f)}var fn,md,Rh,pd;fn=function(r,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},md=function(){},Rh=function(r,a,f,p){var v=r.memoizedProps;if(v!==p){r=a.stateNode,vr(Zs.current);var w=null;switch(f){case"input":v=ge(r,v),p=ge(r,p),w=[];break;case"select":v=D({},v,{value:void 0}),p=D({},p,{value:void 0}),w=[];break;case"textarea":v=os(r,v),p=os(r,p),w=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=$l)}qa(f,p);var A;f=null;for(de in v)if(!p.hasOwnProperty(de)&&v.hasOwnProperty(de)&&v[de]!=null)if(de==="style"){var $=v[de];for(A in $)$.hasOwnProperty(A)&&(f||(f={}),f[A]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?w||(w=[]):(w=w||[]).push(de,null));for(de in p){var Q=p[de];if($=v!=null?v[de]:void 0,p.hasOwnProperty(de)&&Q!==$&&(Q!=null||$!=null))if(de==="style")if($){for(A in $)!$.hasOwnProperty(A)||Q&&Q.hasOwnProperty(A)||(f||(f={}),f[A]="");for(A in Q)Q.hasOwnProperty(A)&&$[A]!==Q[A]&&(f||(f={}),f[A]=Q[A])}else f||(w||(w=[]),w.push(de,f)),f=Q;else de==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,$=$?$.__html:void 0,Q!=null&&$!==Q&&(w=w||[]).push(de,Q)):de==="children"?typeof Q!="string"&&typeof Q!="number"||(w=w||[]).push(de,""+Q):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(Q!=null&&de==="onScroll"&&Pt("scroll",r),w||$===Q||(w=[])):(w=w||[]).push(de,Q))}f&&(w=w||[]).push("style",f);var de=w;(a.updateQueue=de)&&(a.flags|=4)}},pd=function(r,a,f,p){f!==p&&(a.flags|=4)};function Ro(r,a){if(!Ot)switch(r.tailMode){case"hidden":a=r.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function hn(r){var a=r.alternate!==null&&r.alternate.child===r.child,f=0,p=0;if(a)for(var v=r.child;v!==null;)f|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)f|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=p,r.childLanes=f,a}function Wp(r,a,f){var p=a.pendingProps;switch(ki(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(a),null;case 1:return Bn(a.type)&&ql(),hn(a),null;case 3:return p=a.stateNode,Vr(),Et(Fn),Et(_n),rc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(vo(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Os!==null&&(Sd(Os),Os=null))),md(r,a),hn(a),null;case 5:sc(a);var v=vr(ja.current);if(f=a.type,r!==null&&a.stateNode!=null)Rh(r,a,f,p,v),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return hn(a),null}if(r=vr(Zs.current),vo(a)){p=a.stateNode,f=a.type;var w=a.memoizedProps;switch(p[Ys]=a,p[zr]=w,r=(a.mode&1)!==0,f){case"dialog":Pt("cancel",p),Pt("close",p);break;case"iframe":case"object":case"embed":Pt("load",p);break;case"video":case"audio":for(v=0;v<hr.length;v++)Pt(hr[v],p);break;case"source":Pt("error",p);break;case"img":case"image":case"link":Pt("error",p),Pt("load",p);break;case"details":Pt("toggle",p);break;case"input":Fe(p,w),Pt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Pt("invalid",p);break;case"textarea":Er(p,w),Pt("invalid",p)}qa(f,w),v=null;for(var A in w)if(w.hasOwnProperty(A)){var $=w[A];A==="children"?typeof $=="string"?p.textContent!==$&&(w.suppressHydrationWarning!==!0&&mo(p.textContent,$,r),v=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(w.suppressHydrationWarning!==!0&&mo(p.textContent,$,r),v=["children",""+$]):i.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&Pt("scroll",p)}switch(f){case"input":Qe(p),jt(p,w,!0);break;case"textarea":Qe(p),Zi(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=$l)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Nf(f)),r==="http://www.w3.org/1999/xhtml"?f==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=A.createElement(f,{is:p.is}):(r=A.createElement(f),f==="select"&&(A=r,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):r=A.createElementNS(r,f),r[Ys]=a,r[zr]=p,fn(r,a,!1,!1),a.stateNode=r;e:{switch(A=Ka(f,p),f){case"dialog":Pt("cancel",r),Pt("close",r),v=p;break;case"iframe":case"object":case"embed":Pt("load",r),v=p;break;case"video":case"audio":for(v=0;v<hr.length;v++)Pt(hr[v],r);v=p;break;case"source":Pt("error",r),v=p;break;case"img":case"image":case"link":Pt("error",r),Pt("load",r),v=p;break;case"details":Pt("toggle",r),v=p;break;case"input":Fe(r,p),v=ge(r,p),Pt("invalid",r);break;case"option":v=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},v=D({},p,{value:void 0}),Pt("invalid",r);break;case"textarea":Er(r,p),v=os(r,p),Pt("invalid",r);break;default:v=p}qa(f,v),$=v;for(w in $)if($.hasOwnProperty(w)){var Q=$[w];w==="style"?pl(r,Q):w==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&hl(r,Q)):w==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&ui(r,Q):typeof Q=="number"&&ui(r,""+Q):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?Q!=null&&w==="onScroll"&&Pt("scroll",r):Q!=null&&B(r,w,Q,A))}switch(f){case"input":Qe(r),jt(r,p,!1);break;case"textarea":Qe(r),Zi(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Oe(p.value));break;case"select":r.multiple=!!p.multiple,w=p.value,w!=null?yt(r,!!p.multiple,w,!1):p.defaultValue!=null&&yt(r,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=$l)}switch(f){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return hn(a),null;case 6:if(r&&a.stateNode!=null)pd(r,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(f=vr(ja.current),vr(Zs.current),vo(a)){if(p=a.stateNode,f=a.memoizedProps,p[Ys]=a,(w=p.nodeValue!==f)&&(r=Nn,r!==null))switch(r.tag){case 3:mo(p.nodeValue,f,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&mo(p.nodeValue,f,(r.mode&1)!==0)}w&&(a.flags|=4)}else p=(f.nodeType===9?f:f.ownerDocument).createTextNode(p),p[Ys]=a,a.stateNode=p}return hn(a),null;case 13:if(Et(Mt),p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ot&&Zn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Hu(),Gs(),a.flags|=98560,w=!1;else if(w=vo(a),p!==null&&p.dehydrated!==null){if(r===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ys]=a}else Gs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;hn(a),w=!1}else Os!==null&&(Sd(Os),Os=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Mt.current&1)!==0?en===0&&(en=3):Pd())),a.updateQueue!==null&&(a.flags|=4),hn(a),null);case 4:return Vr(),md(r,a),r===null&&Ir(a.stateNode.containerInfo),hn(a),null;case 10:return Zl(a.type._context),hn(a),null;case 17:return Bn(a.type)&&ql(),hn(a),null;case 19:if(Et(Mt),w=a.memoizedState,w===null)return hn(a),null;if(p=(a.flags&128)!==0,A=w.rendering,A===null)if(p)Ro(w,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(A=Ei(r),A!==null){for(a.flags|=128,Ro(w,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=f,f=a.child;f!==null;)w=f,r=p,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,r=A.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),f=f.sibling;return Ct(Mt,Mt.current&1|2),a.child}r=r.sibling}w.tail!==null&&At()>Li&&(a.flags|=128,p=!0,Ro(w,!1),a.lanes=4194304)}else{if(!p)if(r=Ei(A),r!==null){if(a.flags|=128,p=!0,f=r.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),Ro(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Ot)return hn(a),null}else 2*At()-w.renderingStartTime>Li&&f!==1073741824&&(a.flags|=128,p=!0,Ro(w,!1),a.lanes=4194304);w.isBackwards?(A.sibling=a.child,a.child=A):(f=w.last,f!==null?f.sibling=A:a.child=A,w.last=A)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=At(),a.sibling=null,f=Mt.current,Ct(Mt,p?f&1|2:f&1),a):(hn(a),null);case 22:case 23:return Cd(),p=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(ns&1073741824)!==0&&(hn(a),a.subtreeFlags&6&&(a.flags|=8192)):hn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Hp(r,a){switch(ki(a),a.tag){case 1:return Bn(a.type)&&ql(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Vr(),Et(Fn),Et(_n),rc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return sc(a),null;case 13:if(Et(Mt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Gs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Et(Mt),null;case 4:return Vr(),null;case 10:return Zl(a.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var vc=!1,Lt=!1,Mn=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ta(r,a){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){It(r,a,p)}else f.current=null}function Do(r,a,f){try{f()}catch(p){It(r,a,p)}}var Dh=!1;function $p(r,a){if(po=Sl,r=wt(),oo(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var A=0,$=-1,Q=-1,de=0,je=0,Ce=r,_e=null;t:for(;;){for(var Me;Ce!==f||v!==0&&Ce.nodeType!==3||($=A+v),Ce!==w||p!==0&&Ce.nodeType!==3||(Q=A+p),Ce.nodeType===3&&(A+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)_e=Ce,Ce=Me;for(;;){if(Ce===r)break t;if(_e===f&&++de===v&&($=A),_e===w&&++je===p&&(Q=A),(Me=Ce.nextSibling)!==null)break;Ce=_e,_e=Ce.parentNode}Ce=Me}f=$===-1||Q===-1?null:{start:$,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(_i={focusedElem:r,selectionRange:f},Sl=!1,Le=a;Le!==null;)if(a=Le,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Le=r;else for(;Le!==null;){a=Le;try{var Re=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var De=Re.memoizedProps,Ht=Re.memoizedState,ae=a.stateNode,Z=ae.getSnapshotBeforeUpdate(a.elementType===a.type?De:xs(a.type,De),Ht);ae.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var le=a.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){It(a,a.return,Pe)}if(r=a.sibling,r!==null){r.return=a.return,Le=r;break}Le=a.return}return Re=Dh,Dh=!1,Re}function jr(r,a,f){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&r)===r){var w=v.destroy;v.destroy=void 0,w!==void 0&&Do(a,f,w)}v=v.next}while(v!==p)}}function Io(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&r)===r){var p=f.create;f.destroy=p()}f=f.next}while(f!==a)}}function bc(r){var a=r.ref;if(a!==null){var f=r.stateNode;switch(r.tag){case 5:r=f;break;default:r=f}typeof a=="function"?a(r):a.current=r}}function Ih(r){var a=r.alternate;a!==null&&(r.alternate=null,Ih(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Ys],delete a[zr],delete a[Vl],delete a[L],delete a[xa])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fh(r){return r.tag===5||r.tag===3||r.tag===4}function Bh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fh(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gd(r,a,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(r,a):f.insertBefore(r,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(r,f)):(a=f,a.appendChild(r)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=$l));else if(p!==4&&(r=r.child,r!==null))for(gd(r,a,f),r=r.sibling;r!==null;)gd(r,a,f),r=r.sibling}function wc(r,a,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?f.insertBefore(r,a):f.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(wc(r,a,f),r=r.sibling;r!==null;)wc(r,a,f),r=r.sibling}var on=null,Ms=!1;function rr(r,a,f){for(f=f.child;f!==null;)xd(r,a,f),f=f.sibling}function xd(r,a,f){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(vl,f)}catch{}switch(f.tag){case 5:Lt||Ta(f,a);case 6:var p=on,v=Ms;on=null,rr(r,a,f),on=p,Ms=v,on!==null&&(Ms?(r=on,f=f.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)):on.removeChild(f.stateNode));break;case 18:on!==null&&(Ms?(r=on,f=f.stateNode,r.nodeType===8?Bu(r.parentNode,f):r.nodeType===1&&Bu(r,f),vt(r)):Bu(on,f.stateNode));break;case 4:p=on,v=Ms,on=f.stateNode.containerInfo,Ms=!0,rr(r,a,f),on=p,Ms=v;break;case 0:case 11:case 14:case 15:if(!Lt&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var w=v,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&Do(f,a,A),v=v.next}while(v!==p)}rr(r,a,f);break;case 1:if(!Lt&&(Ta(f,a),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch($){It(f,a,$)}rr(r,a,f);break;case 21:rr(r,a,f);break;case 22:f.mode&1?(Lt=(p=Lt)||f.memoizedState!==null,rr(r,a,f),Lt=p):rr(r,a,f);break;default:rr(r,a,f)}}function Ma(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new Mn),a.forEach(function(p){var v=Xp.bind(null,r,p);f.has(p)||(f.add(p),p.then(v,v))})}}function ts(r,a){var f=a.deletions;if(f!==null)for(var p=0;p<f.length;p++){var v=f[p];try{var w=r,A=a,$=A;e:for(;$!==null;){switch($.tag){case 5:on=$.stateNode,Ms=!1;break e;case 3:on=$.stateNode.containerInfo,Ms=!0;break e;case 4:on=$.stateNode.containerInfo,Ms=!0;break e}$=$.return}if(on===null)throw Error(n(160));xd(w,A,v),on=null,Ms=!1;var Q=v.alternate;Q!==null&&(Q.return=null),v.return=null}catch(de){It(v,a,de)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)yd(a,r),a=a.sibling}function yd(r,a){var f=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(ts(a,r),Ls(r),p&4){try{jr(3,r,r.return),Io(3,r)}catch(De){It(r,r.return,De)}try{jr(5,r,r.return)}catch(De){It(r,r.return,De)}}break;case 1:ts(a,r),Ls(r),p&512&&f!==null&&Ta(f,f.return);break;case 5:if(ts(a,r),Ls(r),p&512&&f!==null&&Ta(f,f.return),r.flags&32){var v=r.stateNode;try{ui(v,"")}catch(De){It(r,r.return,De)}}if(p&4&&(v=r.stateNode,v!=null)){var w=r.memoizedProps,A=f!==null?f.memoizedProps:w,$=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{$==="input"&&w.type==="radio"&&w.name!=null&&ot(v,w),Ka($,A);var de=Ka($,w);for(A=0;A<Q.length;A+=2){var je=Q[A],Ce=Q[A+1];je==="style"?pl(v,Ce):je==="dangerouslySetInnerHTML"?hl(v,Ce):je==="children"?ui(v,Ce):B(v,je,Ce,de)}switch($){case"input":ct(v,w);break;case"textarea":jf(v,w);break;case"select":var _e=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var Me=w.value;Me!=null?yt(v,!!w.multiple,Me,!1):_e!==!!w.multiple&&(w.defaultValue!=null?yt(v,!!w.multiple,w.defaultValue,!0):yt(v,!!w.multiple,w.multiple?[]:"",!1))}v[zr]=w}catch(De){It(r,r.return,De)}}break;case 6:if(ts(a,r),Ls(r),p&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,w=r.memoizedProps;try{v.nodeValue=w}catch(De){It(r,r.return,De)}}break;case 3:if(ts(a,r),Ls(r),p&4&&f!==null&&f.memoizedState.isDehydrated)try{vt(a.containerInfo)}catch(De){It(r,r.return,De)}break;case 4:ts(a,r),Ls(r);break;case 13:ts(a,r),Ls(r),v=r.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(wd=At())),p&4&&Ma(r);break;case 22:if(je=f!==null&&f.memoizedState!==null,r.mode&1?(Lt=(de=Lt)||je,ts(a,r),Lt=de):ts(a,r),Ls(r),p&8192){if(de=r.memoizedState!==null,(r.stateNode.isHidden=de)&&!je&&(r.mode&1)!==0)for(Le=r,je=r.child;je!==null;){for(Ce=Le=je;Le!==null;){switch(_e=Le,Me=_e.child,_e.tag){case 0:case 11:case 14:case 15:jr(4,_e,_e.return);break;case 1:Ta(_e,_e.return);var Re=_e.stateNode;if(typeof Re.componentWillUnmount=="function"){p=_e,f=_e.return;try{a=p,Re.props=a.memoizedProps,Re.state=a.memoizedState,Re.componentWillUnmount()}catch(De){It(p,f,De)}}break;case 5:Ta(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Kr(Ce);continue}}Me!==null?(Me.return=_e,Le=Me):Kr(Ce)}je=je.sibling}e:for(je=null,Ce=r;;){if(Ce.tag===5){if(je===null){je=Ce;try{v=Ce.stateNode,de?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):($=Ce.stateNode,Q=Ce.memoizedProps.style,A=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,$.style.display=ml("display",A))}catch(De){It(r,r.return,De)}}}else if(Ce.tag===6){if(je===null)try{Ce.stateNode.nodeValue=de?"":Ce.memoizedProps}catch(De){It(r,r.return,De)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===r)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===r)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===r)break e;je===Ce&&(je=null),Ce=Ce.return}je===Ce&&(je=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:ts(a,r),Ls(r),p&4&&Ma(r);break;case 21:break;default:ts(a,r),Ls(r)}}function Ls(r){var a=r.flags;if(a&2){try{e:{for(var f=r.return;f!==null;){if(Fh(f)){var p=f;break e}f=f.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(ui(v,""),p.flags&=-33);var w=Bh(r);wc(r,w,v);break;case 3:case 4:var A=p.stateNode.containerInfo,$=Bh(r);gd(r,$,A);break;default:throw Error(n(161))}}catch(Q){It(r,r.return,Q)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function _c(r,a,f){Le=r,vd(r)}function vd(r,a,f){for(var p=(r.mode&1)!==0;Le!==null;){var v=Le,w=v.child;if(v.tag===22&&p){var A=v.memoizedState!==null||vc;if(!A){var $=v.alternate,Q=$!==null&&$.memoizedState!==null||Lt;$=vc;var de=Lt;if(vc=A,(Lt=Q)&&!de)for(Le=v;Le!==null;)A=Le,Q=A.child,A.tag===22&&A.memoizedState!==null?zh(v):Q!==null?(Q.return=A,Le=Q):zh(v);for(;w!==null;)Le=w,vd(w),w=w.sibling;Le=v,vc=$,Lt=de}Rs(r)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,Le=w):Rs(r)}}function Rs(r){for(;Le!==null;){var a=Le;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Lt||Io(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Lt)if(f===null)p.componentDidMount();else{var v=a.elementType===a.type?f.memoizedProps:xs(a.type,f.memoizedProps);p.componentDidUpdate(v,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&Vu(a,w,p);break;case 3:var A=a.updateQueue;if(A!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}Vu(a,A,f)}break;case 5:var $=a.stateNode;if(f===null&&a.flags&4){f=$;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var de=a.alternate;if(de!==null){var je=de.memoizedState;if(je!==null){var Ce=je.dehydrated;Ce!==null&&vt(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||a.flags&512&&bc(a)}catch(_e){It(a,a.return,_e)}}if(a===r){Le=null;break}if(f=a.sibling,f!==null){f.return=a.return,Le=f;break}Le=a.return}}function Kr(r){for(;Le!==null;){var a=Le;if(a===r){Le=null;break}var f=a.sibling;if(f!==null){f.return=a.return,Le=f;break}Le=a.return}}function zh(r){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{Io(4,a)}catch(Q){It(a,f,Q)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(Q){It(a,v,Q)}}var w=a.return;try{bc(a)}catch(Q){It(a,w,Q)}break;case 5:var A=a.return;try{bc(a)}catch(Q){It(a,A,Q)}}}catch(Q){It(a,a.return,Q)}if(a===r){Le=null;break}var $=a.sibling;if($!==null){$.return=a.return,Le=$;break}Le=a.return}}var Wh=Math.ceil,jc=z.ReactCurrentDispatcher,bd=z.ReactCurrentOwner,ys=z.ReactCurrentBatchConfig,ut=0,ln=null,Qt=null,mn=0,ns=0,La=In(0),en=0,Fo=null,Qr=0,Bo=0,Nc=0,zo=null,Hn=null,wd=0,Li=1/0,Nr=null,Sc=!1,_d=null,Xr=null,kc=!1,Gr=null,Ln=0,Wo=0,jd=null,Cc=-1,Ho=0;function Rn(){return(ut&6)!==0?At():Cc!==-1?Cc:Cc=At()}function Jr(r){return(r.mode&1)===0?1:(ut&2)!==0&&mn!==0?mn&-mn:bh.transition!==null?(Ho===0&&(Ho=xu()),Ho):(r=xt,r!==0||(r=window.event,r=r===void 0?16:Yf(r.type)),r)}function Ds(r,a,f,p){if(50<Wo)throw Wo=0,jd=null,Error(n(185));to(r,f,p),((ut&2)===0||r!==ln)&&(r===ln&&((ut&2)===0&&(Bo|=f),en===4&&Zr(r,mn)),$n(r,p),f===1&&ut===0&&(a.mode&1)===0&&(Li=At()+500,Kl&&Hr()))}function $n(r,a){var f=r.callbackNode;bp(r,a);var p=pi(r,r===ln?mn:0);if(p===0)f!==null&&Lf(f),r.callbackNode=null,r.callbackPriority=0;else if(a=p&-p,r.callbackPriority!==a){if(f!=null&&Lf(f),a===1)r.tag===0?ji(Hh.bind(null,r)):xh(Hh.bind(null,r)),Ul(function(){(ut&6)===0&&Hr()}),f=null;else{switch(gi(p)){case 1:f=pu;break;case 4:f=Rf;break;case 16:f=Za;break;case 536870912:f=gu;break;default:f=Za}f=Qh(f,Pc.bind(null,r))}r.callbackPriority=a,r.callbackNode=f}}function Pc(r,a){if(Cc=-1,Ho=0,(ut&6)!==0)throw Error(n(327));var f=r.callbackNode;if(Ra()&&r.callbackNode!==f)return null;var p=pi(r,r===ln?mn:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||a)a=Ec(r,p);else{a=p;var v=ut;ut|=2;var w=Uh();(ln!==r||mn!==a)&&(Nr=null,Li=At()+500,Di(r,a));do try{Yp();break}catch($){$h(r,$)}while(!0);gr(),jc.current=w,ut=v,Qt!==null?a=0:(ln=null,mn=0,a=en)}if(a!==0){if(a===2&&(v=wl(r),v!==0&&(p=v,a=Nd(r,v))),a===1)throw f=Fo,Di(r,0),Zr(r,p),$n(r,At()),f;if(a===6)Zr(r,p);else{if(v=r.current.alternate,(p&30)===0&&!Up(v)&&(a=Ec(r,p),a===2&&(w=wl(r),w!==0&&(p=w,a=Nd(r,w))),a===1))throw f=Fo,Di(r,0),Zr(r,p),$n(r,At()),f;switch(r.finishedWork=v,r.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Ii(r,Hn,Nr);break;case 3:if(Zr(r,p),(p&130023424)===p&&(a=wd+500-At(),10<a)){if(pi(r,0)!==0)break;if(v=r.suspendedLanes,(v&p)!==p){Rn(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=Fr(Ii.bind(null,r,Hn,Nr),a);break}Ii(r,Hn,Nr);break;case 4:if(Zr(r,p),(p&4194240)===p)break;for(a=r.eventTimes,v=-1;0<p;){var A=31-Ps(p);w=1<<A,A=a[A],A>v&&(v=A),p&=~w}if(p=v,p=At()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Wh(p/1960))-p,10<p){r.timeoutHandle=Fr(Ii.bind(null,r,Hn,Nr),p);break}Ii(r,Hn,Nr);break;case 5:Ii(r,Hn,Nr);break;default:throw Error(n(329))}}}return $n(r,At()),r.callbackNode===f?Pc.bind(null,r):null}function Nd(r,a){var f=zo;return r.current.memoizedState.isDehydrated&&(Di(r,a).flags|=256),r=Ec(r,a),r!==2&&(a=Hn,Hn=f,a!==null&&Sd(a)),r}function Sd(r){Hn===null?Hn=r:Hn.push.apply(Hn,r)}function Up(r){for(var a=r;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var v=f[p],w=v.getSnapshot;v=v.value;try{if(!ue(w(),v))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zr(r,a){for(a&=~Nc,a&=~Bo,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var f=31-Ps(a),p=1<<f;r[f]=-1,a&=~p}}function Hh(r){if((ut&6)!==0)throw Error(n(327));Ra();var a=pi(r,0);if((a&1)===0)return $n(r,At()),null;var f=Ec(r,a);if(r.tag!==0&&f===2){var p=wl(r);p!==0&&(a=p,f=Nd(r,p))}if(f===1)throw f=Fo,Di(r,0),Zr(r,a),$n(r,At()),f;if(f===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,Ii(r,Hn,Nr),$n(r,At()),null}function kd(r,a){var f=ut;ut|=1;try{return r(a)}finally{ut=f,ut===0&&(Li=At()+500,Kl&&Hr())}}function Ri(r){Gr!==null&&Gr.tag===0&&(ut&6)===0&&Ra();var a=ut;ut|=1;var f=ys.transition,p=xt;try{if(ys.transition=null,xt=1,r)return r()}finally{xt=p,ys.transition=f,ut=a,(ut&6)===0&&Hr()}}function Cd(){ns=La.current,Et(La)}function Di(r,a){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==-1&&(r.timeoutHandle=-1,xo(f)),Qt!==null)for(f=Qt.return;f!==null;){var p=f;switch(ki(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ql();break;case 3:Vr(),Et(Fn),Et(_n),rc();break;case 5:sc(p);break;case 4:Vr();break;case 13:Et(Mt);break;case 19:Et(Mt);break;case 10:Zl(p.type._context);break;case 22:case 23:Cd()}f=f.return}if(ln=r,Qt=r=Is(r.current,null),mn=ns=a,en=0,Fo=null,Nc=Bo=Qr=0,Hn=zo=null,Pi!==null){for(a=0;a<Pi.length;a++)if(f=Pi[a],p=f.interleaved,p!==null){f.interleaved=null;var v=p.next,w=f.pending;if(w!==null){var A=w.next;w.next=v,p.next=A}f.pending=p}Pi=null}return r}function $h(r,a){do{var f=Qt;try{if(gr(),No.current=uc,Na){for(var p=Dt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Na=!1}if(Yr=0,Zt=Wt=Dt=null,So=!1,Oi=0,bd.current=null,f===null||f.return===null){en=1,Fo=a,Qt=null;break}e:{var w=r,A=f.return,$=f,Q=a;if(a=mn,$.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var de=Q,je=$,Ce=je.tag;if((je.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var _e=je.alternate;_e?(je.updateQueue=_e.updateQueue,je.memoizedState=_e.memoizedState,je.lanes=_e.lanes):(je.updateQueue=null,je.memoizedState=null)}var Me=Ah(A);if(Me!==null){Me.flags&=-257,od(Me,A,$,w,a),Me.mode&1&&Oo(w,de,a),a=Me,Q=de;var Re=a.updateQueue;if(Re===null){var De=new Set;De.add(Q),a.updateQueue=De}else Re.add(Q);break e}else{if((a&1)===0){Oo(w,de,a),Pd();break e}Q=Error(n(426))}}else if(Ot&&$.mode&1){var Ht=Ah(A);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),od(Ht,A,$,w,a),Js(Mi(Q,$));break e}}w=Q=Mi(Q,$),en!==4&&(en=2),zo===null?zo=[w]:zo.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var ae=Eo(w,Q,a);jh(w,ae);break e;case 1:$=Q;var Z=w.type,le=w.stateNode;if((w.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Xr===null||!Xr.has(le)))){w.flags|=65536,a&=-a,w.lanes|=a;var Pe=pc(w,$,a);jh(w,Pe);break e}}w=w.return}while(w!==null)}Yh(f)}catch(Be){a=Be,Qt===f&&f!==null&&(Qt=f=f.return);continue}break}while(!0)}function Uh(){var r=jc.current;return jc.current=uc,r===null?uc:r}function Pd(){(en===0||en===3||en===2)&&(en=4),ln===null||(Qr&268435455)===0&&(Bo&268435455)===0||Zr(ln,mn)}function Ec(r,a){var f=ut;ut|=2;var p=Uh();(ln!==r||mn!==a)&&(Nr=null,Di(r,a));do try{Vp();break}catch(v){$h(r,v)}while(!0);if(gr(),ut=f,jc.current=p,Qt!==null)throw Error(n(261));return ln=null,mn=0,en}function Vp(){for(;Qt!==null;)Vh(Qt)}function Yp(){for(;Qt!==null&&!yl();)Vh(Qt)}function Vh(r){var a=Kh(r.alternate,r,ns);r.memoizedProps=r.pendingProps,a===null?Yh(r):Qt=a,bd.current=null}function Yh(r){var a=r;do{var f=a.alternate;if(r=a.return,(a.flags&32768)===0){if(f=Wp(f,a,ns),f!==null){Qt=f;return}}else{if(f=Hp(f,a),f!==null){f.flags&=32767,Qt=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,Qt=null;return}}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=r}while(a!==null);en===0&&(en=5)}function Ii(r,a,f){var p=xt,v=ys.transition;try{ys.transition=null,xt=1,qp(r,a,f,p)}finally{ys.transition=v,xt=p}return null}function qp(r,a,f,p){do Ra();while(Gr!==null);if((ut&6)!==0)throw Error(n(327));f=r.finishedWork;var v=r.finishedLanes;if(f===null)return null;if(r.finishedWork=null,r.finishedLanes=0,f===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var w=f.lanes|f.childLanes;if(Wf(r,w),r===ln&&(Qt=ln=null,mn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||kc||(kc=!0,Qh(Za,function(){return Ra(),null})),w=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||w){w=ys.transition,ys.transition=null;var A=xt;xt=1;var $=ut;ut|=4,bd.current=null,$p(r,f),yd(f,r),Ip(_i),Sl=!!po,_i=po=null,r.current=f,_c(f),xp(),ut=$,xt=A,ys.transition=w}else r.current=f;if(kc&&(kc=!1,Gr=r,Ln=v),w=r.pendingLanes,w===0&&(Xr=null),vp(f.stateNode),$n(r,At()),a!==null)for(p=r.onRecoverableError,f=0;f<a.length;f++)v=a[f],p(v.value,{componentStack:v.stack,digest:v.digest});if(Sc)throw Sc=!1,r=_d,_d=null,r;return(Ln&1)!==0&&r.tag!==0&&Ra(),w=r.pendingLanes,(w&1)!==0?r===jd?Wo++:(Wo=0,jd=r):Wo=0,Hr(),null}function Ra(){if(Gr!==null){var r=gi(Ln),a=ys.transition,f=xt;try{if(ys.transition=null,xt=16>r?16:r,Gr===null)var p=!1;else{if(r=Gr,Gr=null,Ln=0,(ut&6)!==0)throw Error(n(331));var v=ut;for(ut|=4,Le=r.current;Le!==null;){var w=Le,A=w.child;if((Le.flags&16)!==0){var $=w.deletions;if($!==null){for(var Q=0;Q<$.length;Q++){var de=$[Q];for(Le=de;Le!==null;){var je=Le;switch(je.tag){case 0:case 11:case 15:jr(8,je,w)}var Ce=je.child;if(Ce!==null)Ce.return=je,Le=Ce;else for(;Le!==null;){je=Le;var _e=je.sibling,Me=je.return;if(Ih(je),je===de){Le=null;break}if(_e!==null){_e.return=Me,Le=_e;break}Le=Me}}}var Re=w.alternate;if(Re!==null){var De=Re.child;if(De!==null){Re.child=null;do{var Ht=De.sibling;De.sibling=null,De=Ht}while(De!==null)}}Le=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,Le=A;else e:for(;Le!==null;){if(w=Le,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:jr(9,w,w.return)}var ae=w.sibling;if(ae!==null){ae.return=w.return,Le=ae;break e}Le=w.return}}var Z=r.current;for(Le=Z;Le!==null;){A=Le;var le=A.child;if((A.subtreeFlags&2064)!==0&&le!==null)le.return=A,Le=le;else e:for(A=Z;Le!==null;){if($=Le,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Io(9,$)}}catch(Be){It($,$.return,Be)}if($===A){Le=null;break e}var Pe=$.sibling;if(Pe!==null){Pe.return=$.return,Le=Pe;break e}Le=$.return}}if(ut=v,Hr(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(vl,r)}catch{}p=!0}return p}finally{xt=f,ys.transition=a}}return!1}function Oc(r,a,f){a=Mi(f,a),a=Eo(r,a,1),r=ps(r,a,1),a=Rn(),r!==null&&(to(r,1,a),$n(r,a))}function It(r,a,f){if(r.tag===3)Oc(r,r,f);else for(;a!==null;){if(a.tag===3){Oc(a,r,f);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xr===null||!Xr.has(p))){r=Mi(f,r),r=pc(a,r,1),a=ps(a,r,1),r=Rn(),a!==null&&(to(a,1,r),$n(a,r));break}}a=a.return}}function Kp(r,a,f){var p=r.pingCache;p!==null&&p.delete(a),a=Rn(),r.pingedLanes|=r.suspendedLanes&f,ln===r&&(mn&f)===f&&(en===4||en===3&&(mn&130023424)===mn&&500>At()-wd?Di(r,0):Nc|=f),$n(r,a)}function qh(r,a){a===0&&((r.mode&1)===0?a=1:(a=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var f=Rn();r=xr(r,a),r!==null&&(to(r,a,f),$n(r,f))}function Qp(r){var a=r.memoizedState,f=0;a!==null&&(f=a.retryLane),qh(r,f)}function Xp(r,a){var f=0;switch(r.tag){case 13:var p=r.stateNode,v=r.memoizedState;v!==null&&(f=v.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),qh(r,f)}var Kh;Kh=function(r,a,f){if(r!==null)if(r.memoizedProps!==a.pendingProps||Fn.current)Tn=!0;else{if((r.lanes&f)===0&&(a.flags&128)===0)return Tn=!1,Lh(r,a,f);Tn=(r.flags&131072)!==0}else Tn=!1,Ot&&(a.flags&1048576)!==0&&yh(a,Xl,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;yc(r,a),r=a.pendingProps;var v=va(a,_n.current);Ur(a,f),v=Ai(null,a,p,r,v,f);var w=ic();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bn(p)?(w=!0,us(a)):w=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,tc(a),v.updater=hc,a.stateNode=v,v._reactInternals=a,ad(a,p,r,f),a=hd(null,a,p,!0,w,f)):(a.tag=0,Ot&&w&&yo(a),dn(null,a,v,f),a=a.child),a;case 16:p=a.elementType;e:{switch(yc(r,a),r=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=Jp(p),r=xs(p,r),v){case 0:a=dd(null,a,p,r,f);break e;case 1:a=fd(null,a,p,r,f);break e;case 11:a=Th(null,a,p,r,f);break e;case 14:a=ld(null,a,p,xs(p.type,r),f);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:xs(p,v),dd(r,a,p,v,f);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:xs(p,v),fd(r,a,p,v,f);case 3:e:{if(Mh(a),r===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,v=w.element,_h(r,a),_a(a,p,null,f);var A=a.memoizedState;if(p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){v=Mi(Error(n(423)),a),a=sr(r,a,p,f,v);break e}else if(p!==v){v=Mi(Error(n(424)),a),a=sr(r,a,p,f,v);break e}else for(Zn=Br(a.stateNode.containerInfo.firstChild),Nn=a,Ot=!0,Os=null,f=Jl(a,null,p,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Gs(),p===v){a=Ts(r,a,f);break e}dn(r,a,p,f)}a=a.child}return a;case 5:return qu(a),r===null&&zn(a),p=a.type,v=a.pendingProps,w=r!==null?r.memoizedProps:null,A=v.children,go(p,v)?A=null:w!==null&&go(p,w)&&(a.flags|=32),ud(r,a),dn(r,a,A,f),a.child;case 6:return r===null&&zn(a),null;case 13:return xc(r,a,f);case 4:return Yu(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=Bt(a,null,p,f):dn(r,a,p,f),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:xs(p,v),Th(r,a,p,v,f);case 7:return dn(r,a,a.pendingProps,f),a.child;case 8:return dn(r,a,a.pendingProps.children,f),a.child;case 12:return dn(r,a,a.pendingProps.children,f),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,w=a.memoizedProps,A=v.value,Ct(wo,p._currentValue),p._currentValue=A,w!==null)if(ue(w.value,A)){if(w.children===v.children&&!Fn.current){a=Ts(r,a,f);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var $=w.dependencies;if($!==null){A=w.child;for(var Q=$.firstContext;Q!==null;){if(Q.context===p){if(w.tag===1){Q=yr(-1,f&-f),Q.tag=2;var de=w.updateQueue;if(de!==null){de=de.shared;var je=de.pending;je===null?Q.next=Q:(Q.next=je.next,je.next=Q),de.pending=Q}}w.lanes|=f,Q=w.alternate,Q!==null&&(Q.lanes|=f),un(w.return,f,a),$.lanes|=f;break}Q=Q.next}}else if(w.tag===10)A=w.type===a.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(n(341));A.lanes|=f,$=A.alternate,$!==null&&($.lanes|=f),un(A,f,a),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===a){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}dn(r,a,v.children,f),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,Ur(a,f),v=hs(v),p=p(v),a.flags|=1,dn(r,a,p,f),a.child;case 14:return p=a.type,v=xs(p,a.pendingProps),v=xs(p.type,v),ld(r,a,p,v,f);case 15:return nr(r,a,a.type,a.pendingProps,f);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:xs(p,v),yc(r,a),a.tag=1,Bn(p)?(r=!0,us(a)):r=!1,Ur(a,f),Ti(a,p,v),ad(a,p,v,f),hd(null,a,p,!0,r,f);case 19:return qr(r,a,f);case 22:return cd(r,a,f)}throw Error(n(156,a.tag))};function Qh(r,a){return Mf(r,a)}function Gp(r,a,f,p){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(r,a,f,p){return new Gp(r,a,f,p)}function Ac(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jp(r){if(typeof r=="function")return Ac(r)?1:0;if(r!=null){if(r=r.$$typeof,r===oe)return 11;if(r===we)return 14}return 2}function Is(r,a){var f=r.alternate;return f===null?(f=vs(r.tag,a,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=a,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,a=r.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function Tc(r,a,f,p,v,w){var A=2;if(p=r,typeof r=="function")Ac(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case ne:return Fi(f.children,v,w,a);case J:A=8,v|=8;break;case fe:return r=vs(12,f,a,v|2),r.elementType=fe,r.lanes=w,r;case ke:return r=vs(13,f,a,v),r.elementType=ke,r.lanes=w,r;case Ee:return r=vs(19,f,a,v),r.elementType=Ee,r.lanes=w,r;case T:return Mc(f,v,w,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ee:A=10;break e;case ie:A=9;break e;case oe:A=11;break e;case we:A=14;break e;case ye:A=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=vs(A,f,a,v),a.elementType=r,a.type=p,a.lanes=w,a}function Fi(r,a,f,p){return r=vs(7,r,p,a),r.lanes=f,r}function Mc(r,a,f,p){return r=vs(22,r,p,a),r.elementType=T,r.lanes=f,r.stateNode={isHidden:!1},r}function Ed(r,a,f){return r=vs(6,r,null,a),r.lanes=f,r}function Od(r,a,f){return a=vs(4,r.children!==null?r.children:[],r.key,a),a.lanes=f,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Zp(r,a,f,p,v){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Ad(r,a,f,p,v,w,A,$,Q){return r=new Zp(r,a,f,$,Q),a===1?(a=1,w===!0&&(a|=8)):a=0,w=vs(3,null,null,a),r.current=w,w.stateNode=r,w.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(w),r}function eg(r,a,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:r,containerInfo:a,implementation:f}}function Xh(r){if(!r)return Wr;r=r._reactInternals;e:{if(mi(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var f=r.type;if(Bn(f))return ph(r,f,a)}return a}function Gh(r,a,f,p,v,w,A,$,Q){return r=Ad(f,p,!0,r,v,w,A,$,Q),r.context=Xh(null),f=r.current,p=Rn(),v=Jr(f),w=yr(p,v),w.callback=a??null,ps(f,w,v),r.current.lanes=v,to(r,v,p),$n(r,p),r}function Lc(r,a,f,p){var v=a.current,w=Rn(),A=Jr(v);return f=Xh(f),a.context===null?a.context=f:a.pendingContext=f,a=yr(w,A),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=ps(v,a,A),r!==null&&(Ds(r,v,A,w),nc(r,v,A)),A}function Rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jh(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<a?f:a}}function Td(r,a){Jh(r,a),(r=r.alternate)&&Jh(r,a)}function tg(){return null}var Zh=typeof reportError=="function"?reportError:function(r){console.error(r)};function Dc(r){this._internalRoot=r}$o.prototype.render=Dc.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));Lc(r,a,null,null)},$o.prototype.unmount=Dc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Ri(function(){Lc(null,r,null,null)}),a[Jn]=null}};function $o(r){this._internalRoot=r}$o.prototype.unstable_scheduleHydration=function(r){if(r){var a=vu();r={blockedOn:null,target:r,priority:a};for(var f=0;f<Mr.length&&a!==0&&a<Mr[f].priority;f++);Mr.splice(f,0,r),f===0&&Uf(r)}};function Md(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function em(){}function ng(r,a,f,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var de=Rc(A);w.call(de)}}var A=Gh(a,p,r,0,null,!1,!1,"",em);return r._reactRootContainer=A,r[Jn]=A.current,Ir(r.nodeType===8?r.parentNode:r),Ri(),A}for(;v=r.lastChild;)r.removeChild(v);if(typeof p=="function"){var $=p;p=function(){var de=Rc(Q);$.call(de)}}var Q=Ad(r,0,!1,null,null,!1,!1,"",em);return r._reactRootContainer=Q,r[Jn]=Q.current,Ir(r.nodeType===8?r.parentNode:r),Ri(function(){Lc(a,Q,f,p)}),Q}function Bi(r,a,f,p,v){var w=f._reactRootContainer;if(w){var A=w;if(typeof v=="function"){var $=v;v=function(){var Q=Rc(A);$.call(Q)}}Lc(a,A,r,v)}else A=ng(f,a,r,v,p);return Rc(A)}yu=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var f=ta(a.pendingLanes);f!==0&&(no(a,f|1),$n(a,At()),(ut&6)===0&&(Li=At()+500,Hr()))}break;case 13:Ri(function(){var p=xr(r,1);if(p!==null){var v=Rn();Ds(p,r,1,v)}}),Td(r,1)}},_l=function(r){if(r.tag===13){var a=xr(r,134217728);if(a!==null){var f=Rn();Ds(a,r,134217728,f)}Td(r,134217728)}},Hf=function(r){if(r.tag===13){var a=Jr(r),f=xr(r,a);if(f!==null){var p=Rn();Ds(f,r,a,p)}Td(r,a)}},vu=function(){return xt},bu=function(r,a){var f=xt;try{return xt=r,a()}finally{xt=f}},cu=function(r,a,f){switch(a){case"input":if(ct(r,f),a=f.name,f.type==="radio"&&a!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var p=f[a];if(p!==r&&p.form===r.form){var v=Yl(p);if(!v)throw Error(n(90));We(p),ct(p,v)}}}break;case"textarea":jf(r,f);break;case"select":a=f.value,a!=null&&yt(r,!!f.multiple,a,!1)}},Pf=kd,uu=Ri;var sg={usingClientEntryPoint:!1,Events:[wn,Ge,Yl,kf,Cf,kd]},Uo={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rg={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Af(r),r===null?null:r.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{vl=Fc.inject(rg),$s=Fc}catch{}}return js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg,js.createPortal=function(r,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(a))throw Error(n(200));return eg(r,a,null,f)},js.createRoot=function(r,a){if(!Md(r))throw Error(n(299));var f=!1,p="",v=Zh;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Ad(r,1,!1,null,null,f,!1,p,v),r[Jn]=a.current,Ir(r.nodeType===8?r.parentNode:r),new Dc(a)},js.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Af(a),r=r===null?null:r.stateNode,r},js.flushSync=function(r){return Ri(r)},js.hydrate=function(r,a,f){if(!Ic(a))throw Error(n(200));return Bi(null,r,a,!0,f)},js.hydrateRoot=function(r,a,f){if(!Md(r))throw Error(n(405));var p=f!=null&&f.hydratedSources||null,v=!1,w="",A=Zh;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),a=Gh(a,null,r,1,f??null,v,!1,w,A),r[Jn]=a.current,Ir(r),p)for(r=0;r<p.length;r++)f=p[r],v=f._getVersion,v=v(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,v]:a.mutableSourceEagerHydrationData.push(f,v);return new $o(a)},js.render=function(r,a,f){if(!Ic(a))throw Error(n(200));return Bi(null,r,a,!1,f)},js.unmountComponentAtNode=function(r){if(!Ic(r))throw Error(n(40));return r._reactRootContainer?(Ri(function(){Bi(null,null,r,!1,function(){r._reactRootContainer=null,r[Jn]=null})}),!0):!1},js.unstable_batchedUpdates=kd,js.unstable_renderSubtreeIntoContainer=function(r,a,f,p){if(!Ic(f))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Bi(r,a,f,!1,p)},js.version="18.3.1-next-f1338f8080-20240426",js}var lx;function uv(){if(lx)return vg.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=q_(),vg.exports}var cx;function K_(){if(cx)return im;cx=1;var t=uv();return im.createRoot=t.createRoot,im.hydrateRoot=t.hydrateRoot,im}var Q_=K_();uv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nf.apply(this,arguments)}var Ba;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ba||(Ba={}));const ux="popstate";function X_(t){t===void 0&&(t={});function e(s,i){let{pathname:c,search:u,hash:h}=s.location;return zg("",{pathname:c,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Om(i)}return J_(e,n,null,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G_(){return Math.random().toString(36).substr(2,8)}function dx(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n,s){return n===void 0&&(n=null),nf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jc(e):e,{state:n,key:e&&e.key||s||G_()})}function Om(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Jc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function J_(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:c=!1}=s,u=i.history,h=Ba.Pop,m=null,x=y();x==null&&(x=0,u.replaceState(nf({},u.state,{idx:x}),""));function y(){return(u.state||{idx:null}).idx}function b(){h=Ba.Pop;let P=y(),S=P==null?null:P-x;x=P,m&&m({action:h,location:N.location,delta:S})}function j(P,S){h=Ba.Push;let F=zg(N.location,P,S);x=y()+1;let B=dx(F,x),z=N.createHref(F);try{u.pushState(B,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}c&&m&&m({action:h,location:N.location,delta:1})}function C(P,S){h=Ba.Replace;let F=zg(N.location,P,S);x=y();let B=dx(F,x),z=N.createHref(F);u.replaceState(B,"",z),c&&m&&m({action:h,location:N.location,delta:0})}function k(P){let S=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof P=="string"?P:Om(P);return F=F.replace(/ $/,"%20"),Yt(S,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,S)}let N={get action(){return h},get location(){return t(i,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(ux,b),m=P,()=>{i.removeEventListener(ux,b),m=null}},createHref(P){return e(i,P)},createURL:k,encodeLocation(P){let S=k(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:j,replace:C,go(P){return u.go(P)}};return N}var fx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fx||(fx={}));function Z_(t,e,n){return n===void 0&&(n="/"),e2(t,e,n)}function e2(t,e,n,s){let i=typeof e=="string"?Jc(e):e,c=Kc(i.pathname||"/",n);if(c==null)return null;let u=fv(t);t2(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let x=f2(c);h=u2(u[m],x)}return h}function fv(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(c,u,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(Yt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let x=$a([s,m.relativePath]),y=n.concat(m);c.children&&c.children.length>0&&(Yt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),fv(c.children,e,y,x)),!(c.path==null&&!c.index)&&e.push({path:x,score:l2(x,c.index),routesMeta:y})};return t.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))i(c,u);else for(let m of hv(c.path))i(c,u,m)}),e}function hv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return i?[c,""]:[c];let u=hv(s.join("/")),h=[];return h.push(...u.map(m=>m===""?c:[c,m].join("/"))),i&&h.push(...u),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function t2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const n2=/^:[\w-]+$/,s2=3,r2=2,i2=1,a2=10,o2=-2,hx=t=>t==="*";function l2(t,e){let n=t.split("/"),s=n.length;return n.some(hx)&&(s+=o2),e&&(s+=r2),n.filter(i=>!hx(i)).reduce((i,c)=>i+(n2.test(c)?s2:c===""?i2:a2),s)}function c2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function u2(t,e,n){let{routesMeta:s}=t,i={},c="/",u=[];for(let h=0;h<s.length;++h){let m=s[h],x=h===s.length-1,y=c==="/"?e:e.slice(c.length)||"/",b=Wg({path:m.relativePath,caseSensitive:m.caseSensitive,end:x},y),j=m.route;if(!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:$a([c,b.pathname]),pathnameBase:g2($a([c,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(c=$a([c,b.pathnameBase]))}return u}function Wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=d2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:s.reduce((x,y,b)=>{let{paramName:j,isOptional:C}=y;if(j==="*"){let N=h[b]||"";u=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const k=h[b];return C&&!k?x[j]=void 0:x[j]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:u,pattern:t}}function d2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function f2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function h2(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Jc(t):t;return{pathname:n?n.startsWith("/")?n:m2(n,e):e,search:x2(s),hash:y2(i)}}function m2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _g(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function f0(t,e){let n=p2(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function h0(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Jc(t):(i=nf({},t),Yt(!i.pathname||!i.pathname.includes("?"),_g("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),_g("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),_g("#","search","hash",i)));let c=t===""||i.pathname==="",u=c?"/":i.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let j=u.split("/");for(;j[0]==="..";)j.shift(),b-=1;i.pathname=j.join("/")}h=b>=0?e[b]:"/"}let m=h2(i,h),x=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(x||y)&&(m.pathname+="/"),m}const $a=t=>t.join("/").replace(/\/\/+/g,"/"),g2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mv=["post","put","patch","delete"];new Set(mv);const b2=["get",...mv];new Set(b2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sf.apply(this,arguments)}const Km=R.createContext(null),pv=R.createContext(null),Qi=R.createContext(null),Qm=R.createContext(null),Xi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),gv=R.createContext(null);function w2(t,e){let{relative:n}=e===void 0?{}:e;Zc()||Yt(!1);let{basename:s,navigator:i}=R.useContext(Qi),{hash:c,pathname:u,search:h}=Xm(t,{relative:n}),m=u;return s!=="/"&&(m=u==="/"?s:$a([s,u])),i.createHref({pathname:m,search:h,hash:c})}function Zc(){return R.useContext(Qm)!=null}function Gi(){return Zc()||Yt(!1),R.useContext(Qm).location}function xv(t){R.useContext(Qi).static||R.useLayoutEffect(t)}function li(){let{isDataRoute:t}=R.useContext(Xi);return t?D2():_2()}function _2(){Zc()||Yt(!1);let t=R.useContext(Km),{basename:e,future:n,navigator:s}=R.useContext(Qi),{matches:i}=R.useContext(Xi),{pathname:c}=Gi(),u=JSON.stringify(f0(i,n.v7_relativeSplatPath)),h=R.useRef(!1);return xv(()=>{h.current=!0}),R.useCallback(function(x,y){if(y===void 0&&(y={}),!h.current)return;if(typeof x=="number"){s.go(x);return}let b=h0(x,JSON.parse(u),c,y.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:$a([e,b.pathname])),(y.replace?s.replace:s.push)(b,y.state,y)},[e,s,u,c,t])}const j2=R.createContext(null);function N2(t){let e=R.useContext(Xi).outlet;return e&&R.createElement(j2.Provider,{value:t},e)}function Xm(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=R.useContext(Qi),{matches:i}=R.useContext(Xi),{pathname:c}=Gi(),u=JSON.stringify(f0(i,s.v7_relativeSplatPath));return R.useMemo(()=>h0(t,JSON.parse(u),c,n==="path"),[t,u,c,n])}function S2(t,e){return k2(t,e)}function k2(t,e,n,s){Zc()||Yt(!1);let{navigator:i,static:c}=R.useContext(Qi),{matches:u}=R.useContext(Xi),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let y=Gi(),b;if(e){var j;let S=typeof e=="string"?Jc(e):e;x==="/"||(j=S.pathname)!=null&&j.startsWith(x)||Yt(!1),b=S}else b=y;let C=b.pathname||"/",k=C;if(x!=="/"){let S=x.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=Z_(t,{pathname:k}),P=A2(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},m,S.params),pathname:$a([x,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?x:$a([x,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,n,s);return e&&P?R.createElement(Qm.Provider,{value:{location:sf({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Ba.Pop}},P):P}function C2(){let t=R2(),e=v2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const P2=R.createElement(C2,null);class E2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Xi.Provider,{value:this.props.routeContext},R.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O2(t){let{routeContext:e,match:n,children:s}=t,i=R.useContext(Km);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Xi.Provider,{value:e},s)}function A2(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var c;if(!n)return null;if(n.errors)t=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(i=n)==null?void 0:i.errors;if(h!=null){let y=u.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);y>=0||Yt(!1),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,x=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=y),b.route.id){let{loaderData:j,errors:C}=n,k=b.route.loader&&j[b.route.id]===void 0&&(!C||C[b.route.id]===void 0);if(b.route.lazy||k){m=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((y,b,j)=>{let C,k=!1,N=null,P=null;n&&(C=h&&b.route.id?h[b.route.id]:void 0,N=b.route.errorElement||P2,m&&(x<0&&j===0?(I2("route-fallback"),k=!0,P=null):x===j&&(k=!0,P=b.route.hydrateFallbackElement||null)));let S=e.concat(u.slice(0,j+1)),F=()=>{let B;return C?B=N:k?B=P:b.route.Component?B=R.createElement(b.route.Component,null):b.route.element?B=b.route.element:B=y,R.createElement(O2,{match:b,routeContext:{outlet:y,matches:S,isDataRoute:n!=null},children:B})};return n&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?R.createElement(E2,{location:n.location,revalidation:n.revalidation,component:N,error:C,children:F(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):F()},null)}var yv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yv||{}),vv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vv||{});function T2(t){let e=R.useContext(Km);return e||Yt(!1),e}function M2(t){let e=R.useContext(pv);return e||Yt(!1),e}function L2(t){let e=R.useContext(Xi);return e||Yt(!1),e}function bv(t){let e=L2(),n=e.matches[e.matches.length-1];return n.route.id||Yt(!1),n.route.id}function R2(){var t;let e=R.useContext(gv),n=M2(),s=bv();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function D2(){let{router:t}=T2(yv.UseNavigateStable),e=bv(vv.UseNavigateStable),n=R.useRef(!1);return xv(()=>{n.current=!0}),R.useCallback(function(i,c){c===void 0&&(c={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sf({fromRouteId:e},c)))},[t,e])}const mx={};function I2(t,e,n){mx[t]||(mx[t]=!0)}function F2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xo(t){let{to:e,replace:n,state:s,relative:i}=t;Zc()||Yt(!1);let{future:c,static:u}=R.useContext(Qi),{matches:h}=R.useContext(Xi),{pathname:m}=Gi(),x=li(),y=h0(e,f0(h,c.v7_relativeSplatPath),m,i==="path"),b=JSON.stringify(y);return R.useEffect(()=>x(JSON.parse(b),{replace:n,state:s,relative:i}),[x,b,i,n,s]),null}function wv(t){return N2(t.context)}function Ut(t){Yt(!1)}function B2(t){let{basename:e="/",children:n=null,location:s,navigationType:i=Ba.Pop,navigator:c,static:u=!1,future:h}=t;Zc()&&Yt(!1);let m=e.replace(/^\/*/,"/"),x=R.useMemo(()=>({basename:m,navigator:c,static:u,future:sf({v7_relativeSplatPath:!1},h)}),[m,h,c,u]);typeof s=="string"&&(s=Jc(s));let{pathname:y="/",search:b="",hash:j="",state:C=null,key:k="default"}=s,N=R.useMemo(()=>{let P=Kc(y,m);return P==null?null:{location:{pathname:P,search:b,hash:j,state:C,key:k},navigationType:i}},[m,y,b,j,C,k,i]);return N==null?null:R.createElement(Qi.Provider,{value:x},R.createElement(Qm.Provider,{children:n,value:N}))}function z2(t){let{children:e,location:n}=t;return S2(Hg(e),n)}new Promise(()=>{});function Hg(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(s,i)=>{if(!R.isValidElement(s))return;let c=[...e,i];if(s.type===R.Fragment){n.push.apply(n,Hg(s.props.children,c));return}s.type!==Ut&&Yt(!1),!s.props.index||!s.props.children||Yt(!1);let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Hg(s.props.children,c)),n.push(u)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Am.apply(this,arguments)}function _v(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,c;for(c=0;c<s.length;c++)i=s[c],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H2(t,e){return t.button===0&&(!e||e==="_self")&&!W2(t)}function $g(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function $2(t,e){let n=$g(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(c=>{n.append(i,c)})}),n}const U2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Y2="6";try{window.__reactRouterVersion=Y2}catch{}const q2=R.createContext({isTransitioning:!1}),K2="startTransition",px=U_[K2];function Q2(t){let{basename:e,children:n,future:s,window:i}=t,c=R.useRef();c.current==null&&(c.current=X_({window:i,v5Compat:!0}));let u=c.current,[h,m]=R.useState({action:u.action,location:u.location}),{v7_startTransition:x}=s||{},y=R.useCallback(b=>{x&&px?px(()=>m(b)):m(b)},[m,x]);return R.useLayoutEffect(()=>u.listen(y),[u,y]),R.useEffect(()=>F2(s),[s]),R.createElement(B2,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:s})}const X2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=R.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:c,replace:u,state:h,target:m,to:x,preventScrollReset:y,viewTransition:b}=e,j=_v(e,U2),{basename:C}=R.useContext(Qi),k,N=!1;if(typeof x=="string"&&G2.test(x)&&(k=x,X2))try{let B=new URL(window.location.href),z=x.startsWith("//")?new URL(B.protocol+x):new URL(x),W=Kc(z.pathname,C);z.origin===B.origin&&W!=null?x=W+z.search+z.hash:N=!0}catch{}let P=w2(x,{relative:i}),S=Z2(x,{replace:u,state:h,target:m,preventScrollReset:y,relative:i,viewTransition:b});function F(B){s&&s(B),B.defaultPrevented||S(B)}return R.createElement("a",Am({},j,{href:k||P,onClick:N||c?s:F,ref:n,target:m}))}),jg=R.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:i=!1,className:c="",end:u=!1,style:h,to:m,viewTransition:x,children:y}=e,b=_v(e,V2),j=Xm(m,{relative:b.relative}),C=Gi(),k=R.useContext(pv),{navigator:N,basename:P}=R.useContext(Qi),S=k!=null&&tj(j)&&x===!0,F=N.encodeLocation?N.encodeLocation(j).pathname:j.pathname,B=C.pathname,z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(B=B.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&P&&(z=Kc(z,P)||z);const W=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let q=B===F||!u&&B.startsWith(F)&&B.charAt(W)==="/",ne=z!=null&&(z===F||!u&&z.startsWith(F)&&z.charAt(F.length)==="/"),J={isActive:q,isPending:ne,isTransitioning:S},fe=q?s:void 0,ee;typeof c=="function"?ee=c(J):ee=[c,q?"active":null,ne?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ie=typeof h=="function"?h(J):h;return R.createElement(zt,Am({},b,{"aria-current":fe,className:ee,ref:n,style:ie,to:m,viewTransition:x}),typeof y=="function"?y(J):y)});var Ug;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ug||(Ug={}));var gx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function J2(t){let e=R.useContext(Km);return e||Yt(!1),e}function Z2(t,e){let{target:n,replace:s,state:i,preventScrollReset:c,relative:u,viewTransition:h}=e===void 0?{}:e,m=li(),x=Gi(),y=Xm(t,{relative:u});return R.useCallback(b=>{if(H2(b,n)){b.preventDefault();let j=s!==void 0?s:Om(x)===Om(y);m(t,{replace:j,state:i,preventScrollReset:c,relative:u,viewTransition:h})}},[x,m,y,s,i,n,t,c,u,h])}function ej(t){let e=R.useRef($g(t)),n=R.useRef(!1),s=Gi(),i=R.useMemo(()=>$2(s.search,n.current?null:e.current),[s.search]),c=li(),u=R.useCallback((h,m)=>{const x=$g(typeof h=="function"?h(i):h);n.current=!0,c("?"+x,m)},[c,i]);return[i,u]}function tj(t,e){e===void 0&&(e={});let n=R.useContext(q2);n==null&&Yt(!1);let{basename:s}=J2(Ug.useViewTransitionState),i=Xm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Kc(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Kc(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wg(i.pathname,u)!=null||Wg(i.pathname,c)!=null}var jv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xx=st.createContext&&st.createContext(jv),nj=["attr","size","title"];function sj(t,e){if(t==null)return{};var n=rj(t,e),s,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)s=c[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function rj(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Tm.apply(this,arguments)}function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(n),!0).forEach(function(s){ij(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ij(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=oj(t,"string");return typeof e=="symbol"?e:e+""}function oj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(t){return t&&t.map((e,n)=>st.createElement(e.tag,Mm({key:n},e.attr),Nv(e.child)))}function lt(t){return e=>st.createElement(lj,Tm({attr:Mm({},t.attr)},e),Nv(t.child))}function lj(t){var e=n=>{var{attr:s,size:i,title:c}=t,u=sj(t,nj),h=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),st.createElement("svg",Tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:m,style:Mm(Mm({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),c&&st.createElement("title",null,c),t.children)};return xx!==void 0?st.createElement(xx.Consumer,null,n=>e(n)):e(jv)}function qn(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function cj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function uj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function dj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function fj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function m0(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function sl(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Ua(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function hj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Vg(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function vx(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function gn(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function bx(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Yg(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function mj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Sv(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function pj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function gj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function rf(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function xj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function Gm(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function kv(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function yj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function vj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function ai(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Cv(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function eu(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function bj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function af(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function wj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function p0(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Vc(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function _j(t){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 256v128m64-64H192M80 176a16 16 0 0 0-16 16v216c0 30.24 25.76 56 56 56h272c30.24 0 56-24.51 56-54.75V192a16 16 0 0 0-16-16zm80 0v-32a96 96 0 0 1 96-96h0a96 96 0 0 1 96 96v32"},child:[]}]})(t)}function jj(t){return lt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 14V22H4C4 17.5817 7.58172 14 12 14ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM21 17H22V22H14V17H15V16C15 14.3431 16.3431 13 18 13C19.6569 13 21 14.3431 21 16V17ZM19 17V16C19 15.4477 18.5523 15 18 15C17.4477 15 17 15.4477 17 16V17H19Z"},child:[]}]})(t)}function wx(t){return lt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m12 2-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z"},child:[]}]})(t)}const _x="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='32'%20rx='8'%20fill='%230066CC'/%3e%3cpath%20d='M21.5%2010H10.5C9.11929%2010%208%2011.1193%208%2012.5V19.5C8%2020.8807%209.11929%2022%2010.5%2022H21.5C22.8807%2022%2024%2020.8807%2024%2019.5V12.5C24%2011.1193%2022.8807%2010%2021.5%2010Z'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2014H24'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2018H16'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function Pv(t,e){return function(){return t.apply(e,arguments)}}const{toString:Nj}=Object.prototype,{getPrototypeOf:g0}=Object,{iterator:Jm,toStringTag:Ev}=Symbol,Zm=(t=>e=>{const n=Nj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>Zm(e)===t),ep=t=>e=>typeof e===t,{isArray:tu}=Array,of=ep("undefined");function Sj(t){return t!==null&&!of(t)&&t.constructor!==null&&!of(t.constructor)&&ks(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ov=Cr("ArrayBuffer");function kj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ov(t.buffer),e}const Cj=ep("string"),ks=ep("function"),Av=ep("number"),tp=t=>t!==null&&typeof t=="object",Pj=t=>t===!0||t===!1,jm=t=>{if(Zm(t)!=="object")return!1;const e=g0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ev in t)&&!(Jm in t)},Ej=Cr("Date"),Oj=Cr("File"),Aj=Cr("Blob"),Tj=Cr("FileList"),Mj=t=>tp(t)&&ks(t.pipe),Lj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ks(t.append)&&((e=Zm(t))==="formdata"||e==="object"&&ks(t.toString)&&t.toString()==="[object FormData]"))},Rj=Cr("URLSearchParams"),[Dj,Ij,Fj,Bj]=["ReadableStream","Request","Response","Headers"].map(Cr),zj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),tu(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let h;for(s=0;s<u;s++)h=c[s],e.call(null,t[h],h,t)}}function Tv(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const el=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mv=t=>!of(t)&&t!==el;function qg(){const{caseless:t}=Mv(this)&&this||{},e={},n=(s,i)=>{const c=t&&Tv(e,i)||i;jm(e[c])&&jm(s)?e[c]=qg(e[c],s):jm(s)?e[c]=qg({},s):tu(s)?e[c]=s.slice():e[c]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&vf(arguments[s],n);return e}const Wj=(t,e,n,{allOwnKeys:s}={})=>(vf(e,(i,c)=>{n&&ks(i)?t[c]=Pv(i,n):t[c]=i},{allOwnKeys:s}),t),Hj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$j=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Uj=(t,e,n,s)=>{let i,c,u;const h={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),c=i.length;c-- >0;)u=i[c],(!s||s(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&g0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Vj=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Yj=t=>{if(!t)return null;if(tu(t))return t;let e=t.length;if(!Av(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},qj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&g0(Uint8Array)),Kj=(t,e)=>{const s=(t&&t[Jm]).call(t);let i;for(;(i=s.next())&&!i.done;){const c=i.value;e.call(t,c[0],c[1])}},Qj=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Xj=Cr("HTMLFormElement"),Gj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),jx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Jj=Cr("RegExp"),Lv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};vf(n,(i,c)=>{let u;(u=e(i,c,t))!==!1&&(s[c]=u||i)}),Object.defineProperties(t,s)},Zj=t=>{Lv(t,(e,n)=>{if(ks(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(ks(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eN=(t,e)=>{const n={},s=i=>{i.forEach(c=>{n[c]=!0})};return tu(t)?s(t):s(String(t).split(e)),n},tN=()=>{},nN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sN(t){return!!(t&&ks(t.append)&&t[Ev]==="FormData"&&t[Jm])}const rN=t=>{const e=new Array(10),n=(s,i)=>{if(tp(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const c=tu(s)?[]:{};return vf(s,(u,h)=>{const m=n(u,i+1);!of(m)&&(c[h]=m)}),e[i]=void 0,c}}return s};return n(t,0)},iN=Cr("AsyncFunction"),aN=t=>t&&(tp(t)||ks(t))&&ks(t.then)&&ks(t.catch),Rv=((t,e)=>t?setImmediate:e?((n,s)=>(el.addEventListener("message",({source:i,data:c})=>{i===el&&c===n&&s.length&&s.shift()()},!1),i=>{s.push(i),el.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ks(el.postMessage)),oN=typeof queueMicrotask<"u"?queueMicrotask.bind(el):typeof process<"u"&&process.nextTick||Rv,lN=t=>t!=null&&ks(t[Jm]),me={isArray:tu,isArrayBuffer:Ov,isBuffer:Sj,isFormData:Lj,isArrayBufferView:kj,isString:Cj,isNumber:Av,isBoolean:Pj,isObject:tp,isPlainObject:jm,isReadableStream:Dj,isRequest:Ij,isResponse:Fj,isHeaders:Bj,isUndefined:of,isDate:Ej,isFile:Oj,isBlob:Aj,isRegExp:Jj,isFunction:ks,isStream:Mj,isURLSearchParams:Rj,isTypedArray:qj,isFileList:Tj,forEach:vf,merge:qg,extend:Wj,trim:zj,stripBOM:Hj,inherits:$j,toFlatObject:Uj,kindOf:Zm,kindOfTest:Cr,endsWith:Vj,toArray:Yj,forEachEntry:Kj,matchAll:Qj,isHTMLForm:Xj,hasOwnProperty:jx,hasOwnProp:jx,reduceDescriptors:Lv,freezeMethods:Zj,toObjectSet:eN,toCamelCase:Gj,noop:tN,toFiniteNumber:nN,findKey:Tv,global:el,isContextDefined:Mv,isSpecCompliantForm:sN,toJSONObject:rN,isAsyncFn:iN,isThenable:aN,setImmediate:Rv,asap:oN,isIterable:lN};function Ze(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Dv=Ze.prototype,Iv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Iv[t]={value:t}});Object.defineProperties(Ze,Iv);Object.defineProperty(Dv,"isAxiosError",{value:!0});Ze.from=(t,e,n,s,i,c)=>{const u=Object.create(Dv);return me.toFlatObject(t,u,function(m){return m!==Error.prototype},h=>h!=="isAxiosError"),Ze.call(u,t.message,e,n,s,i),u.cause=t,u.name=t.name,c&&Object.assign(u,c),u};const cN=null;function Kg(t){return me.isPlainObject(t)||me.isArray(t)}function Fv(t){return me.endsWith(t,"[]")?t.slice(0,-2):t}function Nx(t,e,n){return t?t.concat(e).map(function(i,c){return i=Fv(i),!n&&c?"["+i+"]":i}).join(n?".":""):e}function uN(t){return me.isArray(t)&&!t.some(Kg)}const dN=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function np(t,e,n){if(!me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,P){return!me.isUndefined(P[N])});const s=n.metaTokens,i=n.visitor||y,c=n.dots,u=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function x(k){if(k===null)return"";if(me.isDate(k))return k.toISOString();if(!m&&me.isBlob(k))throw new Ze("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(k)||me.isTypedArray(k)?m&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function y(k,N,P){let S=k;if(k&&!P&&typeof k=="object"){if(me.endsWith(N,"{}"))N=s?N:N.slice(0,-2),k=JSON.stringify(k);else if(me.isArray(k)&&uN(k)||(me.isFileList(k)||me.endsWith(N,"[]"))&&(S=me.toArray(k)))return N=Fv(N),S.forEach(function(B,z){!(me.isUndefined(B)||B===null)&&e.append(u===!0?Nx([N],z,c):u===null?N:N+"[]",x(B))}),!1}return Kg(k)?!0:(e.append(Nx(P,N,c),x(k)),!1)}const b=[],j=Object.assign(dN,{defaultVisitor:y,convertValue:x,isVisitable:Kg});function C(k,N){if(!me.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+N.join("."));b.push(k),me.forEach(k,function(S,F){(!(me.isUndefined(S)||S===null)&&i.call(e,S,me.isString(F)?F.trim():F,N,j))===!0&&C(S,N?N.concat(F):[F])}),b.pop()}}if(!me.isObject(t))throw new TypeError("data must be an object");return C(t),e}function Sx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function x0(t,e){this._pairs=[],t&&np(t,this,e)}const Bv=x0.prototype;Bv.append=function(e,n){this._pairs.push([e,n])};Bv.toString=function(e){const n=e?function(s){return e.call(this,s,Sx)}:Sx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zv(t,e,n){if(!e)return t;const s=n&&n.encode||fN;me.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let c;if(i?c=i(e,n):c=me.isURLSearchParams(e)?e.toString():new x0(e,n).toString(s),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class kx{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Wv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hN=typeof URLSearchParams<"u"?URLSearchParams:x0,mN=typeof FormData<"u"?FormData:null,pN=typeof Blob<"u"?Blob:null,gN={isBrowser:!0,classes:{URLSearchParams:hN,FormData:mN,Blob:pN},protocols:["http","https","file","blob","url","data"]},y0=typeof window<"u"&&typeof document<"u",Qg=typeof navigator=="object"&&navigator||void 0,xN=y0&&(!Qg||["ReactNative","NativeScript","NS"].indexOf(Qg.product)<0),yN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vN=y0&&window.location.href||"http://localhost",bN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:y0,hasStandardBrowserEnv:xN,hasStandardBrowserWebWorkerEnv:yN,navigator:Qg,origin:vN},Symbol.toStringTag,{value:"Module"})),Vn={...bN,...gN};function wN(t,e){return np(t,new Vn.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,c){return Vn.isNode&&me.isBuffer(n)?(this.append(s,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function _N(t){return me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jN(t){const e={},n=Object.keys(t);let s;const i=n.length;let c;for(s=0;s<i;s++)c=n[s],e[c]=t[c];return e}function Hv(t){function e(n,s,i,c){let u=n[c++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),m=c>=n.length;return u=!u&&me.isArray(i)?i.length:u,m?(me.hasOwnProp(i,u)?i[u]=[i[u],s]:i[u]=s,!h):((!i[u]||!me.isObject(i[u]))&&(i[u]=[]),e(n,s,i[u],c)&&me.isArray(i[u])&&(i[u]=jN(i[u])),!h)}if(me.isFormData(t)&&me.isFunction(t.entries)){const n={};return me.forEachEntry(t,(s,i)=>{e(_N(s),i,n,0)}),n}return null}function NN(t,e,n){if(me.isString(t))try{return(e||JSON.parse)(t),me.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const bf={transitional:Wv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,c=me.isObject(e);if(c&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(Hv(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wN(e,this.formSerializer).toString();if((h=me.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return np(h?{"files[]":e}:e,m&&new m,this.formSerializer)}}return c||i?(n.setContentType("application/json",!1),NN(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(s&&!this.responseType||i)){const u=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ze.from(h,Ze.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],t=>{bf.headers[t]={}});const SN=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kN=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(u){i=u.indexOf(":"),n=u.substring(0,i).trim().toLowerCase(),s=u.substring(i+1).trim(),!(!n||e[n]&&SN[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Cx=Symbol("internals");function Dd(t){return t&&String(t).trim().toLowerCase()}function Nm(t){return t===!1||t==null?t:me.isArray(t)?t.map(Nm):String(t)}function CN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const PN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ng(t,e,n,s,i){if(me.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!me.isString(e)){if(me.isString(s))return e.indexOf(s)!==-1;if(me.isRegExp(s))return s.test(e)}}function EN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function ON(t,e){const n=me.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,c,u){return this[s].call(this,e,i,c,u)},configurable:!0})})}let Cs=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function c(h,m,x){const y=Dd(m);if(!y)throw new Error("header name must be a non-empty string");const b=me.findKey(i,y);(!b||i[b]===void 0||x===!0||x===void 0&&i[b]!==!1)&&(i[b||m]=Nm(h))}const u=(h,m)=>me.forEach(h,(x,y)=>c(x,y,m));if(me.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(me.isString(e)&&(e=e.trim())&&!PN(e))u(kN(e),n);else if(me.isObject(e)&&me.isIterable(e)){let h={},m,x;for(const y of e){if(!me.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[x=y[0]]=(m=h[x])?me.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}u(h,n)}else e!=null&&c(n,e,s);return this}get(e,n){if(e=Dd(e),e){const s=me.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return CN(i);if(me.isFunction(n))return n.call(this,i,s);if(me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Dd(e),e){const s=me.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Ng(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function c(u){if(u=Dd(u),u){const h=me.findKey(s,u);h&&(!n||Ng(s,s[h],h,n))&&(delete s[h],i=!0)}}return me.isArray(e)?e.forEach(c):c(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const c=n[s];(!e||Ng(this,this[c],c,e,!0))&&(delete this[c],i=!0)}return i}normalize(e){const n=this,s={};return me.forEach(this,(i,c)=>{const u=me.findKey(s,c);if(u){n[u]=Nm(i),delete n[c];return}const h=e?EN(c):String(c).trim();h!==c&&delete n[c],n[h]=Nm(i),s[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return me.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&me.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Cx]=this[Cx]={accessors:{}}).accessors,i=this.prototype;function c(u){const h=Dd(u);s[h]||(ON(i,u),s[h]=!0)}return me.isArray(e)?e.forEach(c):c(e),this}};Cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Cs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});me.freezeMethods(Cs);function Sg(t,e){const n=this||bf,s=e||n,i=Cs.from(s.headers);let c=s.data;return me.forEach(t,function(h){c=h.call(n,c,i.normalize(),e?e.status:void 0)}),i.normalize(),c}function $v(t){return!!(t&&t.__CANCEL__)}function nu(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}me.inherits(nu,Ze,{__CANCEL__:!0});function Uv(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TN(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,c=0,u;return e=e!==void 0?e:1e3,function(m){const x=Date.now(),y=s[c];u||(u=x),n[i]=m,s[i]=x;let b=c,j=0;for(;b!==i;)j+=n[b++],b=b%t;if(i=(i+1)%t,i===c&&(c=(c+1)%t),x-u<e)return;const C=y&&x-y;return C?Math.round(j*1e3/C):void 0}}function MN(t,e){let n=0,s=1e3/e,i,c;const u=(x,y=Date.now())=>{n=y,i=null,c&&(clearTimeout(c),c=null),t.apply(null,x)};return[(...x)=>{const y=Date.now(),b=y-n;b>=s?u(x,y):(i=x,c||(c=setTimeout(()=>{c=null,u(i)},s-b)))},()=>i&&u(i)]}const Lm=(t,e,n=3)=>{let s=0;const i=TN(50,250);return MN(c=>{const u=c.loaded,h=c.lengthComputable?c.total:void 0,m=u-s,x=i(m),y=u<=h;s=u;const b={loaded:u,total:h,progress:h?u/h:void 0,bytes:m,rate:x||void 0,estimated:x&&h&&y?(h-u)/x:void 0,event:c,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(b)},n)},Px=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Ex=t=>(...e)=>me.asap(()=>t(...e)),LN=Vn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,RN=Vn.hasStandardBrowserEnv?{write(t,e,n,s,i,c){const u=[t+"="+encodeURIComponent(e)];me.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),me.isString(s)&&u.push("path="+s),me.isString(i)&&u.push("domain="+i),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function IN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Vv(t,e,n){let s=!DN(e);return t&&(s||n==!1)?IN(t,e):e}const Ox=t=>t instanceof Cs?{...t}:t;function ll(t,e){e=e||{};const n={};function s(x,y,b,j){return me.isPlainObject(x)&&me.isPlainObject(y)?me.merge.call({caseless:j},x,y):me.isPlainObject(y)?me.merge({},y):me.isArray(y)?y.slice():y}function i(x,y,b,j){if(me.isUndefined(y)){if(!me.isUndefined(x))return s(void 0,x,b,j)}else return s(x,y,b,j)}function c(x,y){if(!me.isUndefined(y))return s(void 0,y)}function u(x,y){if(me.isUndefined(y)){if(!me.isUndefined(x))return s(void 0,x)}else return s(void 0,y)}function h(x,y,b){if(b in e)return s(x,y);if(b in t)return s(void 0,x)}const m={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(x,y,b)=>i(Ox(x),Ox(y),b,!0)};return me.forEach(Object.keys(Object.assign({},t,e)),function(y){const b=m[y]||i,j=b(t[y],e[y],y);me.isUndefined(j)&&b!==h||(n[y]=j)}),n}const Yv=t=>{const e=ll({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:c,headers:u,auth:h}=e;e.headers=u=Cs.from(u),e.url=zv(Vv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let m;if(me.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((m=u.getContentType())!==!1){const[x,...y]=m?m.split(";").map(b=>b.trim()).filter(Boolean):[];u.setContentType([x||"multipart/form-data",...y].join("; "))}}if(Vn.hasStandardBrowserEnv&&(s&&me.isFunction(s)&&(s=s(e)),s||s!==!1&&LN(e.url))){const x=i&&c&&RN.read(c);x&&u.set(i,x)}return e},FN=typeof XMLHttpRequest<"u",BN=FN&&function(t){return new Promise(function(n,s){const i=Yv(t);let c=i.data;const u=Cs.from(i.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:x}=i,y,b,j,C,k;function N(){C&&C(),k&&k(),i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function S(){if(!P)return;const B=Cs.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),W={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:B,config:t,request:P};Uv(function(ne){n(ne),N()},function(ne){s(ne),N()},W),P=null}"onloadend"in P?P.onloadend=S:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(S)},P.onabort=function(){P&&(s(new Ze("Request aborted",Ze.ECONNABORTED,t,P)),P=null)},P.onerror=function(){s(new Ze("Network Error",Ze.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||Wv;i.timeoutErrorMessage&&(z=i.timeoutErrorMessage),s(new Ze(z,W.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,t,P)),P=null},c===void 0&&u.setContentType(null),"setRequestHeader"in P&&me.forEach(u.toJSON(),function(z,W){P.setRequestHeader(W,z)}),me.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),x&&([j,k]=Lm(x,!0),P.addEventListener("progress",j)),m&&P.upload&&([b,C]=Lm(m),P.upload.addEventListener("progress",b),P.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(y=B=>{P&&(s(!B||B.type?new nu(null,t,P):B),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const F=AN(i.url);if(F&&Vn.protocols.indexOf(F)===-1){s(new Ze("Unsupported protocol "+F+":",Ze.ERR_BAD_REQUEST,t));return}P.send(c||null)})},zN=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const c=function(x){if(!i){i=!0,h();const y=x instanceof Error?x:this.reason;s.abort(y instanceof Ze?y:new nu(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,c(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(c):x.removeEventListener("abort",c)}),t=null)};t.forEach(x=>x.addEventListener("abort",c));const{signal:m}=s;return m.unsubscribe=()=>me.asap(h),m}},WN=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},HN=async function*(t,e){for await(const n of $N(t))yield*WN(n,e)},$N=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Ax=(t,e,n,s)=>{const i=HN(t,e);let c=0,u,h=m=>{u||(u=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:x,value:y}=await i.next();if(x){h(),m.close();return}let b=y.byteLength;if(n){let j=c+=b;n(j)}m.enqueue(new Uint8Array(y))}catch(x){throw h(x),x}},cancel(m){return h(m),i.return()}},{highWaterMark:2})},sp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qv=sp&&typeof ReadableStream=="function",UN=sp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Kv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},VN=qv&&Kv(()=>{let t=!1;const e=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Tx=64*1024,Xg=qv&&Kv(()=>me.isReadableStream(new Response("").body)),Rm={stream:Xg&&(t=>t.body)};sp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rm[e]&&(Rm[e]=me.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,s)})})})(new Response);const YN=async t=>{if(t==null)return 0;if(me.isBlob(t))return t.size;if(me.isSpecCompliantForm(t))return(await new Request(Vn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(me.isArrayBufferView(t)||me.isArrayBuffer(t))return t.byteLength;if(me.isURLSearchParams(t)&&(t=t+""),me.isString(t))return(await UN(t)).byteLength},qN=async(t,e)=>{const n=me.toFiniteNumber(t.getContentLength());return n??YN(e)},KN=sp&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:c,timeout:u,onDownloadProgress:h,onUploadProgress:m,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:j}=Yv(t);x=x?(x+"").toLowerCase():"text";let C=zN([i,c&&c.toAbortSignal()],u),k;const N=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let P;try{if(m&&VN&&n!=="get"&&n!=="head"&&(P=await qN(y,s))!==0){let W=new Request(e,{method:"POST",body:s,duplex:"half"}),q;if(me.isFormData(s)&&(q=W.headers.get("content-type"))&&y.setContentType(q),W.body){const[ne,J]=Px(P,Lm(Ex(m)));s=Ax(W.body,Tx,ne,J)}}me.isString(b)||(b=b?"include":"omit");const S="credentials"in Request.prototype;k=new Request(e,{...j,signal:C,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:S?b:void 0});let F=await fetch(k);const B=Xg&&(x==="stream"||x==="response");if(Xg&&(h||B&&N)){const W={};["status","statusText","headers"].forEach(fe=>{W[fe]=F[fe]});const q=me.toFiniteNumber(F.headers.get("content-length")),[ne,J]=h&&Px(q,Lm(Ex(h),!0))||[];F=new Response(Ax(F.body,Tx,ne,()=>{J&&J(),N&&N()}),W)}x=x||"text";let z=await Rm[me.findKey(Rm,x)||"text"](F,t);return!B&&N&&N(),await new Promise((W,q)=>{Uv(W,q,{data:z,headers:Cs.from(F.headers),status:F.status,statusText:F.statusText,config:t,request:k})})}catch(S){throw N&&N(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,k),{cause:S.cause||S}):Ze.from(S,S&&S.code,t,k)}}),Gg={http:cN,xhr:BN,fetch:KN};me.forEach(Gg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mx=t=>`- ${t}`,QN=t=>me.isFunction(t)||t===null||t===!1,Qv={getAdapter:t=>{t=me.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let c=0;c<e;c++){n=t[c];let u;if(s=n,!QN(n)&&(s=Gg[(u=String(n)).toLowerCase()],s===void 0))throw new Ze(`Unknown adapter '${u}'`);if(s)break;i[u||"#"+c]=s}if(!s){const c=Object.entries(i).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=e?c.length>1?`since :
`+c.map(Mx).join(`
`):" "+Mx(c[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:Gg};function kg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nu(null,t)}function Lx(t){return kg(t),t.headers=Cs.from(t.headers),t.data=Sg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Qv.getAdapter(t.adapter||bf.adapter)(t).then(function(s){return kg(t),s.data=Sg.call(t,t.transformResponse,s),s.headers=Cs.from(s.headers),s},function(s){return $v(s)||(kg(t),s&&s.response&&(s.response.data=Sg.call(t,t.transformResponse,s.response),s.response.headers=Cs.from(s.response.headers))),Promise.reject(s)})}const Xv="1.9.0",rp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Rx={};rp.transitional=function(e,n,s){function i(c,u){return"[Axios v"+Xv+"] Transitional option '"+c+"'"+u+(s?". "+s:"")}return(c,u,h)=>{if(e===!1)throw new Ze(i(u," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!Rx[u]&&(Rx[u]=!0,console.warn(i(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,h):!0}};rp.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function XN(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const c=s[i],u=e[c];if(u){const h=t[c],m=h===void 0||u(h,c,t);if(m!==!0)throw new Ze("option "+c+" must be "+m,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+c,Ze.ERR_BAD_OPTION)}}const Sm={assertOptions:XN,validators:rp},ti=Sm.validators;let rl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kx,response:new kx}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?c&&!String(s.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+c):s.stack=c}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ll(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:c}=n;s!==void 0&&Sm.assertOptions(s,{silentJSONParsing:ti.transitional(ti.boolean),forcedJSONParsing:ti.transitional(ti.boolean),clarifyTimeoutError:ti.transitional(ti.boolean)},!1),i!=null&&(me.isFunction(i)?n.paramsSerializer={serialize:i}:Sm.assertOptions(i,{encode:ti.function,serialize:ti.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sm.assertOptions(n,{baseUrl:ti.spelling("baseURL"),withXsrfToken:ti.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&me.merge(c.common,c[n.method]);c&&me.forEach(["delete","get","head","post","put","patch","common"],k=>{delete c[k]}),n.headers=Cs.concat(u,c);const h=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(m=m&&N.synchronous,h.unshift(N.fulfilled,N.rejected))});const x=[];this.interceptors.response.forEach(function(N){x.push(N.fulfilled,N.rejected)});let y,b=0,j;if(!m){const k=[Lx.bind(this),void 0];for(k.unshift.apply(k,h),k.push.apply(k,x),j=k.length,y=Promise.resolve(n);b<j;)y=y.then(k[b++],k[b++]);return y}j=h.length;let C=n;for(b=0;b<j;){const k=h[b++],N=h[b++];try{C=k(C)}catch(P){N.call(this,P);break}}try{y=Lx.call(this,C)}catch(k){return Promise.reject(k)}for(b=0,j=x.length;b<j;)y=y.then(x[b++],x[b++]);return y}getUri(e){e=ll(this.defaults,e);const n=Vv(e.baseURL,e.url,e.allowAbsoluteUrls);return zv(n,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){rl.prototype[e]=function(n,s){return this.request(ll(s||{},{method:e,url:n,data:(s||{}).data}))}});me.forEach(["post","put","patch"],function(e){function n(s){return function(c,u,h){return this.request(ll(h||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}rl.prototype[e]=n(),rl.prototype[e+"Form"]=n(!0)});let GN=class Gv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const s=this;this.promise.then(i=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](i);s._listeners=null}),this.promise.then=i=>{let c;const u=new Promise(h=>{s.subscribe(h),c=h}).then(i);return u.cancel=function(){s.unsubscribe(c)},u},e(function(c,u,h){s.reason||(s.reason=new nu(c,u,h),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Gv(function(i){e=i}),cancel:e}}};function JN(t){return function(n){return t.apply(null,n)}}function ZN(t){return me.isObject(t)&&t.isAxiosError===!0}const Jg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jg).forEach(([t,e])=>{Jg[e]=t});function Jv(t){const e=new rl(t),n=Pv(rl.prototype.request,e);return me.extend(n,rl.prototype,e,{allOwnKeys:!0}),me.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Jv(ll(t,i))},n}const rn=Jv(bf);rn.Axios=rl;rn.CanceledError=nu;rn.CancelToken=GN;rn.isCancel=$v;rn.VERSION=Xv;rn.toFormData=np;rn.AxiosError=Ze;rn.Cancel=rn.CanceledError;rn.all=function(e){return Promise.all(e)};rn.spread=JN;rn.isAxiosError=ZN;rn.mergeConfig=ll;rn.AxiosHeaders=Cs;rn.formToJSON=t=>Hv(me.isHTMLForm(t)?new FormData(t):t);rn.getAdapter=Qv.getAdapter;rn.HttpStatusCode=Jg;rn.default=rn;const{Axios:CA,AxiosError:PA,CanceledError:EA,isCancel:OA,CancelToken:AA,VERSION:TA,all:MA,Cancel:LA,isAxiosError:RA,spread:DA,toFormData:IA,AxiosHeaders:FA,HttpStatusCode:BA,formToJSON:zA,getAdapter:WA,mergeConfig:HA}=rn,su=rn.create({baseURL:"https://server.alkaramh.com"});su.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>(console.error("Request error interceptor:",t),Promise.reject(t)));su.interceptors.response.use(t=>t,t=>(console.error("Response error interceptor:",t.response||t.message||t),Promise.reject(t)));const gt=async(t,e={})=>{try{return(await su.get(t,{params:e})).data}catch(n){throw n}},yn=async(t,e={})=>{try{return(await su.post(t,e)).data}catch(n){throw n}},Ji=async(t,e={})=>{try{return(await su.put(t,e)).data}catch(n){throw n}},Zv=async t=>{try{return(await su.delete(t)).data}catch(e){throw e}},Dx=async t=>yn("/api/auth/send-otp-email",{email:t}),eS=async(t,e)=>yn("/api/auth/verify-otp-email",{email:t,otp:e}),Ix=async t=>yn("/api/auth/forgot-password-request",{email:t}),tS=async(t,e)=>yn("/api/auth/forgot-password-verify-otp",{email:t,otp:e}),nS=async(t,e)=>yn("/api/auth/reset-password",{email:t,newPassword:e}),e1=R.createContext(null),sS=({children:t})=>{const[e,n]=R.useState(null),[s,i]=R.useState(localStorage.getItem("authToken")),[c,u]=R.useState(!!localStorage.getItem("authToken")),[h,m]=R.useState(!0),[x,y]=R.useState(null),b=li();R.useEffect(()=>{const S=localStorage.getItem("user"),F=localStorage.getItem("authToken");F&&(i(F),u(!0),S&&n(JSON.parse(S))),m(!1)},[]);const j=async S=>{var F,B;m(!0),y(null);try{const z=await yn("/api/auth/login",S);return console.log("Qaisar User",z),n(z.user),i(z.token),u(!0),localStorage.setItem("user",JSON.stringify(z.data.user)),localStorage.setItem("authToken",z.data.token),z}catch(z){console.error("Login failed:",z);const W=((B=(F=z.response)==null?void 0:F.data)==null?void 0:B.message)||"Login failed. Please check your credentials.";throw y(W),u(!1),n(null),i(null),localStorage.removeItem("user"),localStorage.removeItem("authToken"),new Error(W)}finally{m(!1)}},C=async S=>{var F,B;m(!0),y(null);try{return await yn("/api/auth/signup",S)}catch(z){console.error("Signup failed:",z);const W=((B=(F=z.response)==null?void 0:F.data)==null?void 0:B.message)||"Signup failed. Please try again.";throw y(W),new Error(W)}finally{m(!1)}},k=()=>{n(null),i(null),u(!1),y(null),localStorage.removeItem("user"),localStorage.removeItem("authToken"),b("/login")},N=async S=>{var F,B;try{return await yn("/auth/change-password",S)}catch(z){console.error("Change password failed:",z);const W=((B=(F=z.response)==null?void 0:F.data)==null?void 0:B.message)||"Password change failed.";throw new Error(W)}finally{}},P=async()=>{if(e!=null&&e._id)try{const S=await gt(`/api/auth/user/${e._id}`);S&&S.data&&(n(S.data),localStorage.setItem("user",JSON.stringify(S.data)))}catch{}};return l.jsx(e1.Provider,{value:{user:e,authToken:s,isAuthenticated:c,isLoading:h,error:x,login:j,signup:C,logout:k,changePassword:N,setError:y,setUser:n,refreshUser:P},children:t})},Qn=()=>{const t=R.useContext(e1);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},t1=R.createContext({notifyCategoryCreated:()=>{},categoryCreatedThisSession:!1}),rS=({isOpen:t,isMobile:e})=>{Gi();const{user:n}=Qn(),[s,i]=R.useState(!1),[c,u]=R.useState(!1),[h,m]=R.useState(!1),{categoryEvent:x,categoryCreatedThisSession:y}=R.useContext(t1)||{},b=!!(n&&n._id&&n.managedShops&&n.managedShops.length>0);R.useEffect(()=>{const S=()=>{window.innerWidth<1024?(u(!0),i(!1)):(u(!1),i(!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),R.useEffect(()=>{if(!b)return;(async()=>{var F;try{const B=await gt(`/api/categories?shop=${((F=n.managedShops[0])==null?void 0:F._id)||n.managedShops[0]}`),W=(Array.isArray(B.data)?B.data:Array.isArray(B)?B:[]).filter(q=>q.createdBy===n._id);m(W.length>0)}catch{m(!1)}})()},[b,n]);const j=()=>i(S=>!S),C=(n==null?void 0:n.role)==="customer"&&(!n.managedShops||n.managedShops.length===0);(n==null?void 0:n.role)==="customer"&&n.managedShops&&n.managedShops.length>0;const k=h||y;let N=[];(!n||n.role!=="super_admin")&&(N=[{name:"Dashboard",icon:l.jsx(Vg,{className:"w-5 h-5"}),path:"/",exact:!0},{name:"All Products",icon:l.jsx(ai,{className:"w-5 h-5"}),path:"/products"},...(n==null?void 0:n.role)!=="worker"?[{name:"Add Product",icon:l.jsx(_j,{className:"w-5 h-5"}),path:"/products/add"}]:[],{name:"Categories",icon:l.jsx(wx,{className:"w-5 h-5"}),path:"/products/categories"},{name:"Orders",icon:l.jsx(rf,{className:"w-5 h-5"}),path:"/orders"},...(n==null?void 0:n.role)!=="worker"?[{name:"Settings",icon:l.jsx(vj,{className:"w-5 h-5"}),path:"/settings"},...(n==null?void 0:n.role)==="shop_admin"?[{name:"Workers",icon:l.jsx(p0,{className:"w-5 h-5"}),path:"/workers"}]:[]]:[]]);const P=[...N,...(n==null?void 0:n.role)==="super_admin"?[{name:"Super DashBoard",icon:l.jsx(Vg,{className:"w-5 h-5"}),path:"/superdashboard"},{name:"Super Admin",icon:l.jsx(jj,{className:"w-5 h-5"}),path:"/superadmin"},{name:"All Products",icon:l.jsx(ai,{className:"w-5 h-5"}),path:"/all-products"},{name:"All Categories",icon:l.jsx(wx,{className:"w-5 h-5"}),path:"/all-categories"},{name:"All Orders",icon:l.jsx(rf,{className:"w-5 h-5"}),path:"/all-orders"}]:[]];return l.jsxs(l.Fragment,{children:[c&&!s&&l.jsx("button",{className:"fixed top-4 left-4 z-50 bg-white rounded-full shadow p-2 lg:hidden",onClick:j,children:l.jsx(gj,{className:"h-6 w-6 text-gray-700"})}),l.jsx("aside",{className:`bg-white fixed h-full shadow-md z-20 sidebar-transition transition-all duration-300
          ${s?"w-64":"w-0 lg:w-64"}
          ${c&&!s?"-translate-x-full":"translate-x-0"}
          ${c?"top-0 left-0":""}
        `,style:{minWidth:s?256:0},children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("div",{className:`flex items-center h-16 px-4 ${!s&&"lg:justify-center"}`,children:l.jsx(zt,{to:"/",className:"flex items-center",children:s?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:_x,alt:"Logo",className:"h-8 w-8"}),l.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-800",children:"Admin"})]}):l.jsx("img",{src:_x,alt:"Logo",className:"h-8 w-8"})})}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:l.jsx("ul",{className:"space-y-0.5",children:P.map((S,F)=>{if((n==null?void 0:n.role)==="super_admin")return l.jsx("li",{children:l.jsxs(jg,{to:S.path,...S.name==="All Products"?{end:!0}:{},className:({isActive:z})=>`flex items-center px-4 py-2.5 transition-colors duration-200 hover:bg-gray-100 ${z?"text-primary-600 font-medium":"text-gray-700"}`,onClick:()=>c&&i(!1),children:[S.icon,s&&l.jsx("span",{className:"ml-3",children:S.name})]})},F);if((n==null?void 0:n.role)==="worker")return l.jsx("li",{children:l.jsxs(jg,{to:S.path,...S.name==="All Products"?{end:!0}:{},className:({isActive:z})=>`flex items-center px-4 py-2.5 transition-colors duration-200 hover:bg-gray-100 ${z?"text-primary-600 font-medium":"text-gray-700"}`,onClick:()=>c&&i(!1),children:[S.icon,s&&l.jsx("span",{className:"ml-3",children:S.name})]})},F);let B=!1;return(C&&!["Settings","Help"].includes(S.name)||!k&&!["Categories","Settings","Help"].includes(S.name))&&(B=!0),l.jsx("li",{children:B?l.jsxs("div",{className:"flex items-center px-4 py-2.5 text-gray-400 cursor-not-allowed opacity-60",title:C?"Please register your shop to access this section":"Please create a category to access this section",children:[S.icon,s&&l.jsx("span",{className:"ml-3",children:S.name})]}):l.jsxs(jg,{to:S.path,...S.name==="All Products"?{end:!0}:{},className:({isActive:z})=>`flex items-center px-4 py-2.5 transition-colors duration-200 hover:bg-gray-100 ${z?"text-primary-600 font-medium":"text-gray-700"}`,onClick:()=>c&&i(!1),children:[S.icon,s&&l.jsx("span",{className:"ml-3",children:S.name})]})},F)})})})]})}),c&&s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-10 lg:hidden",onClick:()=>i(!1)})]})},n1=R.createContext(null),iS=({children:t})=>{const{user:e,isAuthenticated:n}=Qn(),[s,i]=R.useState([]),[c,u]=R.useState(!1),[h,m]=R.useState(null),x=R.useCallback(async()=>{var j,C;if(!(!n||!(e!=null&&e._id))){u(!0),m(null);try{const k=await gt(`/cart?userId=${e._id}`);i((k==null?void 0:k.items)||[])}catch(k){console.error("Failed to fetch cart:",k),m(((C=(j=k.response)==null?void 0:j.data)==null?void 0:C.message)||"Failed to fetch cart.")}finally{u(!1)}}},[e==null?void 0:e._id,n]);R.useEffect(()=>{n&&(e!=null&&e._id)?x():i([])},[n,e==null?void 0:e._id,x]);const y=async(j,C=1)=>{var k,N;if(!n||!(e!=null&&e._id))throw m("User not authenticated. Please log in to add items to cart."),new Error("User not authenticated");u(!0),m(null);try{const P=await yn("/cart/add",{userId:e._id,productId:j,quantity:C});return i(P.items),await x(),P}catch(P){throw console.error("Failed to add to cart:",P),m(((N=(k=P.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to add item to cart."),P}finally{u(!1)}},b=async j=>{var C,k;if(!n||!(e!=null&&e._id))throw m("User not authenticated."),new Error("User not authenticated");u(!0),m(null);try{const N=await yn("/cart/remove",{userId:e._id,productId:j});return i(N.items),await x(),N}catch(N){throw console.error("Failed to remove from cart:",N),m(((k=(C=N.response)==null?void 0:C.data)==null?void 0:k.message)||"Failed to remove item from cart."),N}finally{u(!1)}};return l.jsx(n1.Provider,{value:{cartItems:s,isLoadingCart:c,errorCart:h,fetchCart:x,addToCart:y,removeFromCart:b},children:t})},v0=()=>{const t=R.useContext(n1);if(!t)throw new Error("useCart must be used within a CartProvider");return t},s1=R.createContext(null),aS=({children:t})=>{const{user:e,isAuthenticated:n}=Qn(),[s,i]=R.useState([]),[c,u]=R.useState(!1),[h,m]=R.useState(null),x=R.useCallback(async()=>{var C,k;if(!(!n||!(e!=null&&e._id))){u(!0),m(null);try{const N=await gt(`/wishlist?userId=${e._id}`);i((N==null?void 0:N.products)||[])}catch(N){console.error("Failed to fetch wishlist:",N),m(((k=(C=N.response)==null?void 0:C.data)==null?void 0:k.message)||"Failed to fetch wishlist.")}finally{u(!1)}}},[e==null?void 0:e._id,n]);R.useEffect(()=>{n&&(e!=null&&e._id)?x():i([])},[n,e==null?void 0:e._id,x]);const y=async C=>{var k,N;if(!n||!(e!=null&&e._id))throw m("User not authenticated. Please log in to add items to wishlist."),new Error("User not authenticated");try{const P=await yn("/wishlist/add",{userId:e._id,productId:C});return i(P.products),P}catch(P){throw console.error("Failed to add to wishlist:",P),m(((N=(k=P.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to add item to wishlist."),P}},b=async C=>{var k,N;if(!n||!(e!=null&&e._id))throw m("User not authenticated."),new Error("User not authenticated");try{const P=await yn("/wishlist/remove",{userId:e._id,productId:C});return i(P.products),P}catch(P){throw console.error("Failed to remove from wishlist:",P),m(((N=(k=P.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to remove item from wishlist."),P}},j=C=>s.some(k=>k._id===C);return l.jsx(s1.Provider,{value:{wishlistItems:s,isLoadingWishlist:c,errorWishlist:h,fetchWishlist:x,addToWishlist:y,removeFromWishlist:b,isProductInWishlist:j},children:t})},r1=()=>{const t=R.useContext(s1);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t};function i1(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i1(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function za(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i1(t))&&(s&&(s+=" "),s+=e);return s}const lf=t=>typeof t=="number"&&!isNaN(t),il=t=>typeof t=="string",Ws=t=>typeof t=="function",km=t=>il(t)||Ws(t)?t:null,Zg=t=>R.isValidElement(t)||il(t)||Ws(t)||lf(t);function oS(t,e,n){n===void 0&&(n=300);const{scrollHeight:s,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function ip(t){let{enter:e,exit:n,appendPosition:s=!1,collapse:i=!0,collapseDuration:c=300}=t;return function(u){let{children:h,position:m,preventExitTransition:x,done:y,nodeRef:b,isIn:j,playToast:C}=u;const k=s?`${e}--${m}`:e,N=s?`${n}--${m}`:n,P=R.useRef(0);return R.useLayoutEffect(()=>{const S=b.current,F=k.split(" "),B=z=>{z.target===b.current&&(C(),S.removeEventListener("animationend",B),S.removeEventListener("animationcancel",B),P.current===0&&z.type!=="animationcancel"&&S.classList.remove(...F))};S.classList.add(...F),S.addEventListener("animationend",B),S.addEventListener("animationcancel",B)},[]),R.useEffect(()=>{const S=b.current,F=()=>{S.removeEventListener("animationend",F),i?oS(S,y,c):y()};j||(x?F():(P.current=1,S.className+=` ${N}`,S.addEventListener("animationend",F)))},[j]),st.createElement(st.Fragment,null,h)}}function Fx(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const is=new Map;let cf=[];const e0=new Set,lS=t=>e0.forEach(e=>e(t)),a1=()=>is.size>0;function o1(t,e){var n;if(e)return!((n=is.get(e))==null||!n.isToastActive(t));let s=!1;return is.forEach(i=>{i.isToastActive(t)&&(s=!0)}),s}function l1(t,e){Zg(t)&&(a1()||cf.push({content:t,options:e}),is.forEach(n=>{n.buildToast(t,e)}))}function Bx(t,e){is.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function cS(t){const{subscribe:e,getSnapshot:n,setProps:s}=R.useRef(function(c){const u=c.containerId||1;return{subscribe(h){const m=function(y,b,j){let C=1,k=0,N=[],P=[],S=[],F=b;const B=new Map,z=new Set,W=()=>{S=Array.from(B.values()),z.forEach(J=>J())},q=J=>{P=J==null?[]:P.filter(fe=>fe!==J),W()},ne=J=>{const{toastId:fe,onOpen:ee,updateId:ie,children:oe}=J.props,ke=ie==null;J.staleId&&B.delete(J.staleId),B.set(fe,J),P=[...P,J.props.toastId].filter(Ee=>Ee!==J.staleId),W(),j(Fx(J,ke?"added":"updated")),ke&&Ws(ee)&&ee(R.isValidElement(oe)&&oe.props)};return{id:y,props:F,observe:J=>(z.add(J),()=>z.delete(J)),toggle:(J,fe)=>{B.forEach(ee=>{fe!=null&&fe!==ee.props.toastId||Ws(ee.toggle)&&ee.toggle(J)})},removeToast:q,toasts:B,clearQueue:()=>{k-=N.length,N=[]},buildToast:(J,fe)=>{if((V=>{let{containerId:H,toastId:te,updateId:ce}=V;const U=H?H!==y:y!==1,he=B.has(te)&&ce==null;return U||he})(fe))return;const{toastId:ee,updateId:ie,data:oe,staleId:ke,delay:Ee}=fe,we=()=>{q(ee)},ye=ie==null;ye&&k++;const T={...F,style:F.toastStyle,key:C++,...Object.fromEntries(Object.entries(fe).filter(V=>{let[H,te]=V;return te!=null})),toastId:ee,updateId:ie,data:oe,closeToast:we,isIn:!1,className:km(fe.className||F.toastClassName),bodyClassName:km(fe.bodyClassName||F.bodyClassName),progressClassName:km(fe.progressClassName||F.progressClassName),autoClose:!fe.isLoading&&(M=fe.autoClose,G=F.autoClose,M===!1||lf(M)&&M>0?M:G),deleteToast(){const V=B.get(ee),{onClose:H,children:te}=V.props;Ws(H)&&H(R.isValidElement(te)&&te.props),j(Fx(V,"removed")),B.delete(ee),k--,k<0&&(k=0),N.length>0?ne(N.shift()):W()}};var M,G;T.closeButton=F.closeButton,fe.closeButton===!1||Zg(fe.closeButton)?T.closeButton=fe.closeButton:fe.closeButton===!0&&(T.closeButton=!Zg(F.closeButton)||F.closeButton);let D=J;R.isValidElement(J)&&!il(J.type)?D=R.cloneElement(J,{closeToast:we,toastProps:T,data:oe}):Ws(J)&&(D=J({closeToast:we,toastProps:T,data:oe}));const O={content:D,props:T,staleId:ke};F.limit&&F.limit>0&&k>F.limit&&ye?N.push(O):lf(Ee)?setTimeout(()=>{ne(O)},Ee):ne(O)},setProps(J){F=J},setToggle:(J,fe)=>{B.get(J).toggle=fe},isToastActive:J=>P.some(fe=>fe===J),getSnapshot:()=>S}}(u,c,lS);is.set(u,m);const x=m.observe(h);return cf.forEach(y=>l1(y.content,y.options)),cf=[],()=>{x(),is.delete(u)}},setProps(h){var m;(m=is.get(u))==null||m.setProps(h)},getSnapshot(){var h;return(h=is.get(u))==null?void 0:h.getSnapshot()}}}(t)).current;s(t);const i=R.useSyncExternalStore(e,n,n);return{getToastToRender:function(c){if(!i)return[];const u=new Map;return t.newestOnTop&&i.reverse(),i.forEach(h=>{const{position:m}=h.props;u.has(m)||u.set(m,[]),u.get(m).push(h)}),Array.from(u,h=>c(h[0],h[1]))},isToastActive:o1,count:i==null?void 0:i.length}}function uS(t){const[e,n]=R.useState(!1),[s,i]=R.useState(!1),c=R.useRef(null),u=R.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:m,closeToast:x,onClick:y,closeOnClick:b}=t;var j,C;function k(){n(!0)}function N(){n(!1)}function P(B){const z=c.current;u.canDrag&&z&&(u.didMove=!0,e&&N(),u.delta=t.draggableDirection==="x"?B.clientX-u.start:B.clientY-u.start,u.start!==B.clientX&&(u.canCloseOnClick=!1),z.style.transform=`translate3d(${t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`},0)`,z.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function S(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",S);const B=c.current;if(u.canDrag&&u.didMove&&B){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}(C=is.get((j={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||C.setToggle(j.id,j.fn),R.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||N(),window.addEventListener("focus",k),window.addEventListener("blur",N),()=>{window.removeEventListener("focus",k),window.removeEventListener("blur",N)}},[t.pauseOnFocusLoss]);const F={onPointerDown:function(B){if(t.draggable===!0||t.draggable===B.pointerType){u.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",S);const z=c.current;u.canCloseOnClick=!0,u.canDrag=!0,z.style.transition="none",t.draggableDirection==="x"?(u.start=B.clientX,u.removalDistance=z.offsetWidth*(t.draggablePercent/100)):(u.start=B.clientY,u.removalDistance=z.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(B){const{top:z,bottom:W,left:q,right:ne}=c.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&t.pauseOnHover&&B.clientX>=q&&B.clientX<=ne&&B.clientY>=z&&B.clientY<=W?N():k()}};return h&&m&&(F.onMouseEnter=N,t.stacked||(F.onMouseLeave=k)),b&&(F.onClick=B=>{y&&y(B),u.canCloseOnClick&&x()}),{playToast:k,pauseToast:N,isRunning:e,preventExitTransition:s,toastRef:c,eventHandlers:F}}function dS(t){let{delay:e,isRunning:n,closeToast:s,type:i="default",hide:c,className:u,style:h,controlledProgress:m,progress:x,rtl:y,isIn:b,theme:j}=t;const C=c||m&&x===0,k={...h,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};m&&(k.transform=`scaleX(${x})`);const N=za("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${j}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":y}),P=Ws(u)?u({rtl:y,type:i,defaultClassName:N}):za(N,u),S={[m&&x>=1?"onTransitionEnd":"onAnimationEnd"]:m&&x<1?null:()=>{b&&s()}};return st.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},st.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${j} Toastify__progress-bar--${i}`}),st.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:P,style:k,...S}))}let fS=1;const c1=()=>""+fS++;function hS(t){return t&&(il(t.toastId)||lf(t.toastId))?t.toastId:c1()}function Qd(t,e){return l1(t,e),e.toastId}function Dm(t,e){return{...e,type:e&&e.type||t,toastId:hS(e)}}function am(t){return(e,n)=>Qd(e,Dm(t,n))}function Se(t,e){return Qd(t,Dm("default",e))}Se.loading=(t,e)=>Qd(t,Dm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Se.promise=function(t,e,n){let s,{pending:i,error:c,success:u}=e;i&&(s=il(i)?Se.loading(i,n):Se.loading(i.render,{...n,...i}));const h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(y,b,j)=>{if(b==null)return void Se.dismiss(s);const C={type:y,...h,...n,data:j},k=il(b)?{render:b}:b;return s?Se.update(s,{...C,...k}):Se(k.render,{...C,...k}),j},x=Ws(t)?t():t;return x.then(y=>m("success",u,y)).catch(y=>m("error",c,y)),x},Se.success=am("success"),Se.info=am("info"),Se.error=am("error"),Se.warning=am("warning"),Se.warn=Se.warning,Se.dark=(t,e)=>Qd(t,Dm("default",{theme:"dark",...e})),Se.dismiss=function(t){(function(e){var n;if(a1()){if(e==null||il(n=e)||lf(n))is.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=is.get(e.containerId);s?s.removeToast(e.id):is.forEach(i=>{i.removeToast(e.id)})}}else cf=cf.filter(s=>e!=null&&s.options.toastId!==e)})(t)},Se.clearWaitingQueue=function(t){t===void 0&&(t={}),is.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Se.isActive=o1,Se.update=function(t,e){e===void 0&&(e={});const n=((s,i)=>{var c;let{containerId:u}=i;return(c=is.get(u||1))==null?void 0:c.toasts.get(s)})(t,e);if(n){const{props:s,content:i}=n,c={delay:100,...s,...e,toastId:e.toastId||t,updateId:c1()};c.toastId!==t&&(c.staleId=t);const u=c.render||i;delete c.render,Qd(u,c)}},Se.done=t=>{Se.update(t,{progress:1})},Se.onChange=function(t){return e0.add(t),()=>{e0.delete(t)}},Se.play=t=>Bx(!0,t),Se.pause=t=>Bx(!1,t);const mS=typeof window<"u"?R.useLayoutEffect:R.useEffect,om=t=>{let{theme:e,type:n,isLoading:s,...i}=t;return st.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Cg={info:function(t){return st.createElement(om,{...t},st.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return st.createElement(om,{...t},st.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return st.createElement(om,{...t},st.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return st.createElement(om,{...t},st.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return st.createElement("div",{className:"Toastify__spinner"})}},pS=t=>{const{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:c}=uS(t),{closeButton:u,children:h,autoClose:m,onClick:x,type:y,hideProgressBar:b,closeToast:j,transition:C,position:k,className:N,style:P,bodyClassName:S,bodyStyle:F,progressClassName:B,progressStyle:z,updateId:W,role:q,progress:ne,rtl:J,toastId:fe,deleteToast:ee,isIn:ie,isLoading:oe,closeOnClick:ke,theme:Ee}=t,we=za("Toastify__toast",`Toastify__toast-theme--${Ee}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":ke}),ye=Ws(N)?N({rtl:J,position:k,type:y,defaultClassName:we}):za(we,N),T=function(O){let{theme:V,type:H,isLoading:te,icon:ce}=O,U=null;const he={theme:V,type:H};return ce===!1||(Ws(ce)?U=ce({...he,isLoading:te}):R.isValidElement(ce)?U=R.cloneElement(ce,he):te?U=Cg.spinner():(Oe=>Oe in Cg)(H)&&(U=Cg[H](he))),U}(t),M=!!ne||!m,G={closeToast:j,type:y,theme:Ee};let D=null;return u===!1||(D=Ws(u)?u(G):R.isValidElement(u)?R.cloneElement(u,G):function(O){let{closeToast:V,theme:H,ariaLabel:te="close"}=O;return st.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:ce=>{ce.stopPropagation(),V(ce)},"aria-label":te},st.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},st.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(G)),st.createElement(C,{isIn:ie,done:ee,position:k,preventExitTransition:n,nodeRef:s,playToast:c},st.createElement("div",{id:fe,onClick:x,"data-in":ie,className:ye,...i,style:P,ref:s},st.createElement("div",{...ie&&{role:q},className:Ws(S)?S({type:y}):za("Toastify__toast-body",S),style:F},T!=null&&st.createElement("div",{className:za("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},T),st.createElement("div",null,h)),D,st.createElement(dS,{...W&&!M?{key:`pb-${W}`}:{},rtl:J,theme:Ee,delay:m,isRunning:e,isIn:ie,closeToast:j,hide:b,type:y,style:z,className:B,controlledProgress:M,progress:ne||0})))},ap=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},gS=ip(ap("bounce",!0));ip(ap("slide",!0));ip(ap("zoom"));ip(ap("flip"));const xS={position:"top-right",transition:gS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function yS(t){let e={...xS,...t};const n=t.stacked,[s,i]=R.useState(!0),c=R.useRef(null),{getToastToRender:u,isToastActive:h,count:m}=cS(e),{className:x,style:y,rtl:b,containerId:j}=e;function C(N){const P=za("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":b});return Ws(x)?x({position:N,rtl:b,defaultClassName:P}):za(P,km(x))}function k(){n&&(i(!0),Se.play())}return mS(()=>{if(n){var N;const P=c.current.querySelectorAll('[data-in="true"]'),S=12,F=(N=e.position)==null?void 0:N.includes("top");let B=0,z=0;Array.from(P).reverse().forEach((W,q)=>{const ne=W;ne.classList.add("Toastify__toast--stacked"),q>0&&(ne.dataset.collapsed=`${s}`),ne.dataset.pos||(ne.dataset.pos=F?"top":"bot");const J=B*(s?.2:1)+(s?0:S*q);ne.style.setProperty("--y",`${F?J:-1*J}px`),ne.style.setProperty("--g",`${S}`),ne.style.setProperty("--s",""+(1-(s?z:0))),B+=ne.offsetHeight,z+=.025})}},[s,m,n]),st.createElement("div",{ref:c,className:"Toastify",id:j,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:k},u((N,P)=>{const S=P.length?{...y}:{...y,pointerEvents:"none"};return st.createElement("div",{className:C(N),style:S,key:`container-${N}`},P.map(F=>{let{content:B,props:z}=F;return st.createElement(pS,{...z,stacked:n,collapseAll:k,isIn:h(z.toastId,z.containerId),style:z.style,key:`toast-${z.key}`},B)}))}))}const vS=({toggleSidebar:t,sidebarOpen:e})=>{const{user:n,isAuthenticated:s,logout:i}=Qn(),{cartItems:c}=v0(),{wishlistItems:u}=r1(),h=li(),[m,x]=R.useState(!1),[y,b]=R.useState(!1),[j,C]=R.useState(""),k=R.useRef(null),N=R.useRef(null);R.useEffect(()=>{const S=F=>{k.current&&!k.current.contains(F.target)&&x(!1),N.current&&!N.current.contains(F.target)&&b(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const P=()=>{i(),x(!1),Se.success("Logged out successfully."),h("/login")};return l.jsx("header",{className:"bg-white shadow-subtle z-10",children:l.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center"}),l.jsx("div",{className:"flex items-center justify-center  space-x-4",children:s&&n?l.jsxs("div",{className:"relative",ref:k,children:[l.jsxs("button",{className:"flex items-center focus:outline-none",onClick:()=>x(!m),"aria-label":"User menu",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center text-white",children:n.name?n.name.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()}),l.jsx("span",{className:"hidden md:block ml-2 text-sm font-medium text-gray-700",children:n.name||n.email})]}),m&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-elevated overflow-hidden z-20 animate-fade-in",children:l.jsxs("div",{className:"py-1",children:[(n==null?void 0:n.role)!=="worker"&&l.jsx(zt,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),l.jsxs("button",{onClick:P,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[l.jsx(mj,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(zt,{to:"/login",className:"btn btn-secondary text-sm py-1.5 px-3 inline-flex items-center",children:[l.jsx(Yg,{className:"mr-1 h-4 w-4"}),"Login"]}),l.jsxs(zt,{to:"/signup",className:"btn btn-primary text-sm py-1.5 px-3 inline-flex items-center",children:[l.jsx(af,{className:"mr-1 h-4 w-4"}),"Sign Up"]})]})})]})})},bS=()=>{const[t,e]=R.useState(!0),[n,s]=R.useState(!1);R.useEffect(()=>{const c=()=>{s(window.innerWidth<1024),window.innerWidth<1024?e(!1):e(!0)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]);const i=()=>{e(!t)};return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-100",children:[l.jsx(rS,{isOpen:t,isMobile:n}),l.jsxs("div",{className:`flex flex-col flex-1 overflow-hidden content-transition ${t&&!n?"ml-64":"ml-0"}`,children:[l.jsx(vS,{toggleSidebar:i,sidebarOpen:t}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:l.jsx(wv,{})})]})]})},rs=({children:t,requiredRole:e,render:n})=>{const{isAuthenticated:s,isLoading:i,user:c}=Qn(),u=Gi();if(i)return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx("div",{children:"Loading authentication status..."})});if(!s&&u.pathname!=="/login")return l.jsx(Xo,{to:"/login",replace:!0});if(e&&(c==null?void 0:c.role)!==e){if((c==null?void 0:c.role)==="super_admin"&&u.pathname!=="/superdashboard")return l.jsx(Xo,{to:"/superdashboard",replace:!0});if((c==null?void 0:c.role)!=="super_admin"&&u.pathname!=="/")return l.jsx(Xo,{to:"/",replace:!0})}return(c==null?void 0:c.role)==="worker"&&u.pathname.startsWith("/super")?l.jsx(Xo,{to:"/",replace:!0}):(c==null?void 0:c.role)==="customer"&&(!c.managedShops||c.managedShops.length===0)&&u.pathname!=="/settings"?l.jsx(Xo,{to:"/settings",replace:!0}):(c==null?void 0:c.role)==="shop_admin"&&(!c.managedShops||c.managedShops.length===0)&&u.pathname!=="/settings"?l.jsx(Xo,{to:"/settings",replace:!0}):n?n({user:c,isAuthenticated:s}):t||l.jsx(wv,{})};function u1(t){return lt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 9v2a2 2 0 1 1 -4 0v-1v1a2 2 0 1 1 -4 0v-1v4a2 2 0 1 1 -4 0v-2"},child:[]},{tag:"path",attr:{d:"M18 12.01v-.01"},child:[]},{tag:"path",attr:{d:"M22 10v1a5 5 0 0 1 -5 5"},child:[]}]})(t)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wf(t){return t+.5|0}const Wa=(t,e,n)=>Math.max(Math.min(t,n),e);function Ud(t){return Wa(wf(t*2.55),0,255)}function Va(t){return Wa(wf(t*255),0,255)}function Yi(t){return Wa(wf(t/2.55)/100,0,1)}function zx(t){return Wa(wf(t*100),0,100)}const ar={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},t0=[..."0123456789ABCDEF"],wS=t=>t0[t&15],_S=t=>t0[(t&240)>>4]+t0[t&15],lm=t=>(t&240)>>4===(t&15),jS=t=>lm(t.r)&&lm(t.g)&&lm(t.b)&&lm(t.a);function NS(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ar[t[1]]*17,g:255&ar[t[2]]*17,b:255&ar[t[3]]*17,a:e===5?ar[t[4]]*17:255}:(e===7||e===9)&&(n={r:ar[t[1]]<<4|ar[t[2]],g:ar[t[3]]<<4|ar[t[4]],b:ar[t[5]]<<4|ar[t[6]],a:e===9?ar[t[7]]<<4|ar[t[8]]:255})),n}const SS=(t,e)=>t<255?e(t):"";function kS(t){var e=jS(t)?wS:_S;return t?"#"+e(t.r)+e(t.g)+e(t.b)+SS(t.a,e):void 0}const CS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d1(t,e,n){const s=e*Math.min(n,1-n),i=(c,u=(c+t/30)%12)=>n-s*Math.max(Math.min(u-3,9-u,1),-1);return[i(0),i(8),i(4)]}function PS(t,e,n){const s=(i,c=(i+t/60)%6)=>n-n*e*Math.max(Math.min(c,4-c,1),0);return[s(5),s(3),s(1)]}function ES(t,e,n){const s=d1(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function OS(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function b0(t){const n=t.r/255,s=t.g/255,i=t.b/255,c=Math.max(n,s,i),u=Math.min(n,s,i),h=(c+u)/2;let m,x,y;return c!==u&&(y=c-u,x=h>.5?y/(2-c-u):y/(c+u),m=OS(n,s,i,y,c),m=m*60+.5),[m|0,x||0,h]}function w0(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Va)}function _0(t,e,n){return w0(d1,t,e,n)}function AS(t,e,n){return w0(ES,t,e,n)}function TS(t,e,n){return w0(PS,t,e,n)}function f1(t){return(t%360+360)%360}function MS(t){const e=CS.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Ud(+e[5]):Va(+e[5]));const i=f1(+e[2]),c=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?s=AS(i,c,u):e[1]==="hsv"?s=TS(i,c,u):s=_0(i,c,u),{r:s[0],g:s[1],b:s[2],a:n}}function LS(t,e){var n=b0(t);n[0]=f1(n[0]+e),n=_0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function RS(t){if(!t)return;const e=b0(t),n=e[0],s=zx(e[1]),i=zx(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Yi(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Wx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DS(){const t={},e=Object.keys(Hx),n=Object.keys(Wx);let s,i,c,u,h;for(s=0;s<e.length;s++){for(u=h=e[s],i=0;i<n.length;i++)c=n[i],h=h.replace(c,Wx[c]);c=parseInt(Hx[u],16),t[h]=[c>>16&255,c>>8&255,c&255]}return t}let cm;function IS(t){cm||(cm=DS(),cm.transparent=[0,0,0,0]);const e=cm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const FS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function BS(t){const e=FS.exec(t);let n=255,s,i,c;if(e){if(e[7]!==s){const u=+e[7];n=e[8]?Ud(u):Wa(u*255,0,255)}return s=+e[1],i=+e[3],c=+e[5],s=255&(e[2]?Ud(s):Wa(s,0,255)),i=255&(e[4]?Ud(i):Wa(i,0,255)),c=255&(e[6]?Ud(c):Wa(c,0,255)),{r:s,g:i,b:c,a:n}}}function zS(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Yi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Pg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function WS(t,e,n){const s=Wc(Yi(t.r)),i=Wc(Yi(t.g)),c=Wc(Yi(t.b));return{r:Va(Pg(s+n*(Wc(Yi(e.r))-s))),g:Va(Pg(i+n*(Wc(Yi(e.g))-i))),b:Va(Pg(c+n*(Wc(Yi(e.b))-c))),a:t.a+n*(e.a-t.a)}}function um(t,e,n){if(t){let s=b0(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=_0(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function h1(t,e){return t&&Object.assign(e||{},t)}function $x(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Va(t[3]))):(e=h1(t,{r:0,g:0,b:0,a:1}),e.a=Va(e.a)),e}function HS(t){return t.charAt(0)==="r"?BS(t):MS(t)}class uf{constructor(e){if(e instanceof uf)return e;const n=typeof e;let s;n==="object"?s=$x(e):n==="string"&&(s=NS(e)||IS(e)||HS(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=h1(this._rgb);return e&&(e.a=Yi(e.a)),e}set rgb(e){this._rgb=$x(e)}rgbString(){return this._valid?zS(this._rgb):void 0}hexString(){return this._valid?kS(this._rgb):void 0}hslString(){return this._valid?RS(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let c;const u=n===c?.5:n,h=2*u-1,m=s.a-i.a,x=((h*m===-1?h:(h+m)/(1+h*m))+1)/2;c=1-x,s.r=255&x*s.r+c*i.r+.5,s.g=255&x*s.g+c*i.g+.5,s.b=255&x*s.b+c*i.b+.5,s.a=u*s.a+(1-u)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=WS(this._rgb,e._rgb,n)),this}clone(){return new uf(this.rgb)}alpha(e){return this._rgb.a=Va(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=wf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return um(this._rgb,2,e),this}darken(e){return um(this._rgb,2,-e),this}saturate(e){return um(this._rgb,1,e),this}desaturate(e){return um(this._rgb,1,-e),this}rotate(e){return LS(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $i(){}const $S=(()=>{let t=0;return()=>t++})();function Rt(t){return t==null}function pn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Kn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ni(t,e){return Kn(t)?t:e}function at(t,e){return typeof t>"u"?e:t}const US=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,m1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ft(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function St(t,e,n,s){let i,c,u;if(pn(t))for(c=t.length,i=0;i<c;i++)e.call(n,t[i],i);else if(ft(t))for(u=Object.keys(t),c=u.length,i=0;i<c;i++)e.call(n,t[u[i]],u[i])}function Im(t,e){let n,s,i,c;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],c=e[n],i.datasetIndex!==c.datasetIndex||i.index!==c.index)return!1;return!0}function Fm(t){if(pn(t))return t.map(Fm);if(ft(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Fm(t[n[i]]);return e}return t}function p1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function VS(t,e,n,s){if(!p1(t))return;const i=e[t],c=n[t];ft(i)&&ft(c)?df(i,c,s):e[t]=Fm(c)}function df(t,e,n){const s=pn(e)?e:[e],i=s.length;if(!ft(t))return t;n=n||{};const c=n.merger||VS;let u;for(let h=0;h<i;++h){if(u=s[h],!ft(u))continue;const m=Object.keys(u);for(let x=0,y=m.length;x<y;++x)c(m[x],t,u,n)}return t}function Xd(t,e){return df(t,e,{merger:YS})}function YS(t,e,n){if(!p1(t))return;const s=e[t],i=n[t];ft(s)&&ft(i)?Xd(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Fm(i))}const Ux={"":t=>t,x:t=>t.x,y:t=>t.y};function qS(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function KS(t){const e=qS(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ff(t,e){return(Ux[e]||(Ux[e]=KS(e)))(t)}function j0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bm=t=>typeof t<"u",Ya=t=>typeof t=="function",Vx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function QS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Gt=Math.PI,Vt=2*Gt,XS=Vt+Gt,zm=Number.POSITIVE_INFINITY,GS=Gt/180,xn=Gt/2,Yo=Gt/4,Yx=Gt*2/3,g1=Math.log10,Qc=Math.sign;function Gd(t,e,n){return Math.abs(t-e)<n}function qx(t){const e=Math.round(t);t=Gd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(g1(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function JS(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,c)=>i-c).pop(),e}function ZS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function hf(t){return!ZS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ek(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function tk(t,e,n){let s,i,c;for(s=0,i=t.length;s<i;s++)c=t[s][n],isNaN(c)||(e.min=Math.min(e.min,c),e.max=Math.max(e.max,c))}function qi(t){return t*(Gt/180)}function nk(t){return t*(180/Gt)}function Kx(t){if(!Kn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function x1(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let c=Math.atan2(s,n);return c<-.5*Gt&&(c+=Vt),{angle:c,distance:i}}function n0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sk(t,e){return(t-e+XS)%Vt-Gt}function ii(t){return(t%Vt+Vt)%Vt}function mf(t,e,n,s){const i=ii(t),c=ii(e),u=ii(n),h=ii(c-i),m=ii(u-i),x=ii(i-c),y=ii(i-u);return i===c||i===u||s&&c===u||h>m&&x<y}function as(t,e,n){return Math.max(e,Math.min(n,t))}function rk(t){return as(t,-32768,32767)}function tl(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function N0(t,e,n){n=n||(u=>t[u]<e);let s=t.length-1,i=0,c;for(;s-i>1;)c=i+s>>1,n(c)?i=c:s=c;return{lo:i,hi:s}}const nl=(t,e,n,s)=>N0(t,n,s?i=>{const c=t[i][e];return c<n||c===n&&t[i+1][e]===n}:i=>t[i][e]<n),ik=(t,e,n)=>N0(t,n,s=>t[s][e]>=n);function ak(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const y1=["push","pop","shift","splice","unshift"];function ok(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),y1.forEach(n=>{const s="_onData"+j0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...c){const u=i.apply(this,c);return t._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...c)}),u}})})}function Qx(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(y1.forEach(c=>{delete t[c]}),delete t._chartjs)}function lk(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const v1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function b1(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,v1.call(window,()=>{s=!1,t.apply(e,n)}))}}function ck(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const S0=t=>t==="start"?"left":t==="end"?"right":"center",Un=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,uk=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function dk(t,e,n){const s=e.length;let i=0,c=s;if(t._sorted){const{iScale:u,vScale:h,_parsed:m}=t,x=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,y=u.axis,{min:b,max:j,minDefined:C,maxDefined:k}=u.getUserBounds();if(C){if(i=Math.min(nl(m,y,b).lo,n?s:nl(e,y,u.getPixelForValue(b)).lo),x){const N=m.slice(0,i+1).reverse().findIndex(P=>!Rt(P[h.axis]));i-=Math.max(0,N)}i=as(i,0,s-1)}if(k){let N=Math.max(nl(m,u.axis,j,!0).hi+1,n?0:nl(e,y,u.getPixelForValue(j),!0).hi+1);if(x){const P=m.slice(N-1).findIndex(S=>!Rt(S[h.axis]));N+=Math.max(0,P)}c=as(N,i,s)-i}else c=s-i}return{start:i,count:c}}function fk(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const c=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),c}const dm=t=>t===0||t===1,Xx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Vt/n)),Gx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Vt/n)+1,Jd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xn)+1,easeOutSine:t=>Math.sin(t*xn),easeInOutSine:t=>-.5*(Math.cos(Gt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>dm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dm(t)?t:Xx(t,.075,.3),easeOutElastic:t=>dm(t)?t:Gx(t,.075,.3),easeInOutElastic(t){return dm(t)?t:t<.5?.5*Xx(t*2,.1125,.45):.5+.5*Gx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jd.easeInBounce(t*2)*.5:Jd.easeOutBounce(t*2-1)*.5+.5};function k0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Jx(t){return k0(t)?t:new uf(t)}function Eg(t){return k0(t)?t:new uf(t).saturate(.5).darken(.1).hexString()}const hk=["x","y","borderWidth","radius","tension"],mk=["color","borderColor","backgroundColor"];function pk(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:mk},numbers:{type:"number",properties:hk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Zx=new Map;function xk(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Zx.get(n);return s||(s=new Intl.NumberFormat(t,e),Zx.set(n,s)),s}function C0(t,e,n){return xk(e,n).format(t)}const yk={values(t){return pn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,c=t;if(n.length>1){const x=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(x<1e-4||x>1e15)&&(i="scientific"),c=vk(t,n)}const u=g1(Math.abs(c)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),m={notation:i,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(m,this.options.ticks.format),C0(t,s,m)}};function vk(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var w1={formatters:yk};function bk(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:w1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const cl=Object.create(null),s0=Object.create(null);function Zd(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const c=n[s];t=t[c]||(t[c]=Object.create(null))}return t}function Og(t,e,n){return typeof e=="string"?df(Zd(t,e),n):df(Zd(t,""),e)}class wk{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Eg(i.backgroundColor),this.hoverBorderColor=(s,i)=>Eg(i.borderColor),this.hoverColor=(s,i)=>Eg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Og(this,e,n)}get(e){return Zd(this,e)}describe(e,n){return Og(s0,e,n)}override(e,n){return Og(cl,e,n)}route(e,n,s,i){const c=Zd(this,e),u=Zd(this,s),h="_"+n;Object.defineProperties(c,{[h]:{value:c[n],writable:!0},[n]:{enumerable:!0,get(){const m=this[h],x=u[i];return ft(m)?Object.assign({},x,m):at(m,x)},set(m){this[h]=m}}})}apply(e){e.forEach(n=>n(this))}}var sn=new wk({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pk,gk,bk]);function _k(t){return!t||Rt(t.size)||Rt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ey(t,e,n,s,i){let c=e[i];return c||(c=e[i]=t.measureText(i).width,n.push(i)),c>s&&(s=c),s}function qo(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function ty(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function r0(t,e,n,s){_1(t,e,n,s,null)}function _1(t,e,n,s,i){let c,u,h,m,x,y,b,j;const C=e.pointStyle,k=e.rotation,N=e.radius;let P=(k||0)*GS;if(C&&typeof C=="object"&&(c=C.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(P),t.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),t.restore();return}if(!(isNaN(N)||N<=0)){switch(t.beginPath(),C){default:i?t.ellipse(n,s,i/2,N,0,0,Vt):t.arc(n,s,N,0,Vt),t.closePath();break;case"triangle":y=i?i/2:N,t.moveTo(n+Math.sin(P)*y,s-Math.cos(P)*N),P+=Yx,t.lineTo(n+Math.sin(P)*y,s-Math.cos(P)*N),P+=Yx,t.lineTo(n+Math.sin(P)*y,s-Math.cos(P)*N),t.closePath();break;case"rectRounded":x=N*.516,m=N-x,u=Math.cos(P+Yo)*m,b=Math.cos(P+Yo)*(i?i/2-x:m),h=Math.sin(P+Yo)*m,j=Math.sin(P+Yo)*(i?i/2-x:m),t.arc(n-b,s-h,x,P-Gt,P-xn),t.arc(n+j,s-u,x,P-xn,P),t.arc(n+b,s+h,x,P,P+xn),t.arc(n-j,s+u,x,P+xn,P+Gt),t.closePath();break;case"rect":if(!k){m=Math.SQRT1_2*N,y=i?i/2:m,t.rect(n-y,s-m,2*y,2*m);break}P+=Yo;case"rectRot":b=Math.cos(P)*(i?i/2:N),u=Math.cos(P)*N,h=Math.sin(P)*N,j=Math.sin(P)*(i?i/2:N),t.moveTo(n-b,s-h),t.lineTo(n+j,s-u),t.lineTo(n+b,s+h),t.lineTo(n-j,s+u),t.closePath();break;case"crossRot":P+=Yo;case"cross":b=Math.cos(P)*(i?i/2:N),u=Math.cos(P)*N,h=Math.sin(P)*N,j=Math.sin(P)*(i?i/2:N),t.moveTo(n-b,s-h),t.lineTo(n+b,s+h),t.moveTo(n+j,s-u),t.lineTo(n-j,s+u);break;case"star":b=Math.cos(P)*(i?i/2:N),u=Math.cos(P)*N,h=Math.sin(P)*N,j=Math.sin(P)*(i?i/2:N),t.moveTo(n-b,s-h),t.lineTo(n+b,s+h),t.moveTo(n+j,s-u),t.lineTo(n-j,s+u),P+=Yo,b=Math.cos(P)*(i?i/2:N),u=Math.cos(P)*N,h=Math.sin(P)*N,j=Math.sin(P)*(i?i/2:N),t.moveTo(n-b,s-h),t.lineTo(n+b,s+h),t.moveTo(n+j,s-u),t.lineTo(n-j,s+u);break;case"line":u=i?i/2:Math.cos(P)*N,h=Math.sin(P)*N,t.moveTo(n-u,s-h),t.lineTo(n+u,s+h);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(P)*(i?i/2:N),s+Math.sin(P)*N);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function pf(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function op(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function lp(t){t.restore()}function jk(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const c=(e.x+n.x)/2;t.lineTo(c,e.y),t.lineTo(c,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Nk(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Sk(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Rt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function kk(t,e,n,s,i){if(i.strikethrough||i.underline){const c=t.measureText(s),u=e-c.actualBoundingBoxLeft,h=e+c.actualBoundingBoxRight,m=n-c.actualBoundingBoxAscent,x=n+c.actualBoundingBoxDescent,y=i.strikethrough?(m+x)/2:x;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(u,y),t.lineTo(h,y),t.stroke()}}function Ck(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function gf(t,e,n,s,i,c={}){const u=pn(e)?e:[e],h=c.strokeWidth>0&&c.strokeColor!=="";let m,x;for(t.save(),t.font=i.string,Sk(t,c),m=0;m<u.length;++m)x=u[m],c.backdrop&&Ck(t,c.backdrop),h&&(c.strokeColor&&(t.strokeStyle=c.strokeColor),Rt(c.strokeWidth)||(t.lineWidth=c.strokeWidth),t.strokeText(x,n,s,c.maxWidth)),t.fillText(x,n,s,c.maxWidth),kk(t,n,s,x,c),s+=Number(i.lineHeight);t.restore()}function i0(t,e){const{x:n,y:s,w:i,h:c,radius:u}=e;t.arc(n+u.topLeft,s+u.topLeft,u.topLeft,1.5*Gt,Gt,!0),t.lineTo(n,s+c-u.bottomLeft),t.arc(n+u.bottomLeft,s+c-u.bottomLeft,u.bottomLeft,Gt,xn,!0),t.lineTo(n+i-u.bottomRight,s+c),t.arc(n+i-u.bottomRight,s+c-u.bottomRight,u.bottomRight,xn,0,!0),t.lineTo(n+i,s+u.topRight),t.arc(n+i-u.topRight,s+u.topRight,u.topRight,0,-xn,!0),t.lineTo(n+u.topLeft,s)}const Pk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ek=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ok(t,e){const n=(""+t).match(Pk);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ak=t=>+t||0;function P0(t,e){const n={},s=ft(e),i=s?Object.keys(e):e,c=ft(t)?s?u=>at(t[u],t[e[u]]):u=>t[u]:()=>t;for(const u of i)n[u]=Ak(c(u));return n}function Tk(t){return P0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ef(t){return P0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(t){const e=Tk(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yn(t,e){t=t||{},e=e||sn.font;let n=at(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=at(t.style,e.style);s&&!(""+s).match(Ek)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:at(t.family,e.family),lineHeight:Ok(at(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:at(t.weight,e.weight),string:""};return i.string=_k(i),i}function fm(t,e,n,s){let i,c,u;for(i=0,c=t.length;i<c;++i)if(u=t[i],u!==void 0&&u!==void 0)return u}function Mk(t,e,n){const{min:s,max:i}=t,c=m1(e,(i-s)/2),u=(h,m)=>n&&h===0?0:h+m;return{min:u(s,-Math.abs(c)),max:u(i,c)}}function fl(t,e){return Object.assign(Object.create(t),e)}function E0(t,e=[""],n,s,i=()=>t[0]){const c=n||t;typeof s>"u"&&(s=k1("_fallback",t));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:c,_fallback:s,_getTarget:i,override:h=>E0([h,...t],e,c,s)};return new Proxy(u,{deleteProperty(h,m){return delete h[m],delete h._keys,delete t[0][m],!0},get(h,m){return N1(h,m,()=>Wk(m,e,t,h))},getOwnPropertyDescriptor(h,m){return Reflect.getOwnPropertyDescriptor(h._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(h,m){return sy(h).includes(m)},ownKeys(h){return sy(h)},set(h,m,x){const y=h._storage||(h._storage=i());return h[m]=y[m]=x,delete h._keys,!0}})}function Xc(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:j1(t,s),setContext:c=>Xc(t,c,n,s),override:c=>Xc(t.override(c),e,n,s)};return new Proxy(i,{deleteProperty(c,u){return delete c[u],delete t[u],!0},get(c,u,h){return N1(c,u,()=>Rk(c,u,h))},getOwnPropertyDescriptor(c,u){return c._descriptors.allKeys?Reflect.has(t,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,u)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(c,u){return Reflect.has(t,u)},ownKeys(){return Reflect.ownKeys(t)},set(c,u,h){return t[u]=h,delete c[u],!0}})}function j1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ya(n)?n:()=>n,isIndexable:Ya(s)?s:()=>s}}const Lk=(t,e)=>t?t+j0(e):e,O0=(t,e)=>ft(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function N1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Rk(t,e,n){const{_proxy:s,_context:i,_subProxy:c,_descriptors:u}=t;let h=s[e];return Ya(h)&&u.isScriptable(e)&&(h=Dk(e,h,t,n)),pn(h)&&h.length&&(h=Ik(e,h,t,u.isIndexable)),O0(e,h)&&(h=Xc(h,i,c&&c[e],u)),h}function Dk(t,e,n,s){const{_proxy:i,_context:c,_subProxy:u,_stack:h}=n;if(h.has(t))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+t);h.add(t);let m=e(c,u||s);return h.delete(t),O0(t,m)&&(m=A0(i._scopes,i,t,m)),m}function Ik(t,e,n,s){const{_proxy:i,_context:c,_subProxy:u,_descriptors:h}=n;if(typeof c.index<"u"&&s(t))return e[c.index%e.length];if(ft(e[0])){const m=e,x=i._scopes.filter(y=>y!==m);e=[];for(const y of m){const b=A0(x,i,t,y);e.push(Xc(b,c,u&&u[t],h))}}return e}function S1(t,e,n){return Ya(t)?t(e,n):t}const Fk=(t,e)=>t===!0?e:typeof t=="string"?ff(e,t):void 0;function Bk(t,e,n,s,i){for(const c of e){const u=Fk(n,c);if(u){t.add(u);const h=S1(u._fallback,n,i);if(typeof h<"u"&&h!==n&&h!==s)return h}else if(u===!1&&typeof s<"u"&&n!==s)return null}return!1}function A0(t,e,n,s){const i=e._rootScopes,c=S1(e._fallback,n,s),u=[...t,...i],h=new Set;h.add(s);let m=ny(h,u,n,c||n,s);return m===null||typeof c<"u"&&c!==n&&(m=ny(h,u,c,m,s),m===null)?!1:E0(Array.from(h),[""],i,c,()=>zk(e,n,s))}function ny(t,e,n,s,i){for(;n;)n=Bk(t,e,n,s,i);return n}function zk(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return pn(i)&&ft(n)?n:i||{}}function Wk(t,e,n,s){let i;for(const c of e)if(i=k1(Lk(c,t),n),typeof i<"u")return O0(t,i)?A0(n,s,t,i):i}function k1(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function sy(t){let e=t._keys;return e||(e=t._keys=Hk(t._scopes)),e}function Hk(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const $k=Number.EPSILON||1e-14,Gc=(t,e)=>e<t.length&&!t[e].skip&&t[e],C1=t=>t==="x"?"y":"x";function Uk(t,e,n,s){const i=t.skip?e:t,c=e,u=n.skip?e:n,h=n0(c,i),m=n0(u,c);let x=h/(h+m),y=m/(h+m);x=isNaN(x)?0:x,y=isNaN(y)?0:y;const b=s*x,j=s*y;return{previous:{x:c.x-b*(u.x-i.x),y:c.y-b*(u.y-i.y)},next:{x:c.x+j*(u.x-i.x),y:c.y+j*(u.y-i.y)}}}function Vk(t,e,n){const s=t.length;let i,c,u,h,m,x=Gc(t,0);for(let y=0;y<s-1;++y)if(m=x,x=Gc(t,y+1),!(!m||!x)){if(Gd(e[y],0,$k)){n[y]=n[y+1]=0;continue}i=n[y]/e[y],c=n[y+1]/e[y],h=Math.pow(i,2)+Math.pow(c,2),!(h<=9)&&(u=3/Math.sqrt(h),n[y]=i*u*e[y],n[y+1]=c*u*e[y])}}function Yk(t,e,n="x"){const s=C1(n),i=t.length;let c,u,h,m=Gc(t,0);for(let x=0;x<i;++x){if(u=h,h=m,m=Gc(t,x+1),!h)continue;const y=h[n],b=h[s];u&&(c=(y-u[n])/3,h[`cp1${n}`]=y-c,h[`cp1${s}`]=b-c*e[x]),m&&(c=(m[n]-y)/3,h[`cp2${n}`]=y+c,h[`cp2${s}`]=b+c*e[x])}}function qk(t,e="x"){const n=C1(e),s=t.length,i=Array(s).fill(0),c=Array(s);let u,h,m,x=Gc(t,0);for(u=0;u<s;++u)if(h=m,m=x,x=Gc(t,u+1),!!m){if(x){const y=x[e]-m[e];i[u]=y!==0?(x[n]-m[n])/y:0}c[u]=h?x?Qc(i[u-1])!==Qc(i[u])?0:(i[u-1]+i[u])/2:i[u-1]:i[u]}Vk(t,i,c),Yk(t,c,e)}function hm(t,e,n){return Math.max(Math.min(t,n),e)}function Kk(t,e){let n,s,i,c,u,h=pf(t[0],e);for(n=0,s=t.length;n<s;++n)u=c,c=h,h=n<s-1&&pf(t[n+1],e),c&&(i=t[n],u&&(i.cp1x=hm(i.cp1x,e.left,e.right),i.cp1y=hm(i.cp1y,e.top,e.bottom)),h&&(i.cp2x=hm(i.cp2x,e.left,e.right),i.cp2y=hm(i.cp2y,e.top,e.bottom)))}function Qk(t,e,n,s,i){let c,u,h,m;if(e.spanGaps&&(t=t.filter(x=>!x.skip)),e.cubicInterpolationMode==="monotone")qk(t,i);else{let x=s?t[t.length-1]:t[0];for(c=0,u=t.length;c<u;++c)h=t[c],m=Uk(x,h,t[Math.min(c+1,u-(s?0:1))%u],e.tension),h.cp1x=m.previous.x,h.cp1y=m.previous.y,h.cp2x=m.next.x,h.cp2y=m.next.y,x=h}e.capBezierPoints&&Kk(t,n)}function T0(){return typeof window<"u"&&typeof document<"u"}function M0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wm(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const cp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Xk(t,e){return cp(t).getPropertyValue(e)}const Gk=["top","right","bottom","left"];function al(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const c=Gk[i];s[c]=parseFloat(t[e+"-"+c+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Jk=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Zk(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:c}=s;let u=!1,h,m;if(Jk(i,c,t.target))h=i,m=c;else{const x=e.getBoundingClientRect();h=s.clientX-x.left,m=s.clientY-x.top,u=!0}return{x:h,y:m,box:u}}function Go(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=cp(n),c=i.boxSizing==="border-box",u=al(i,"padding"),h=al(i,"border","width"),{x:m,y:x,box:y}=Zk(t,n),b=u.left+(y&&h.left),j=u.top+(y&&h.top);let{width:C,height:k}=e;return c&&(C-=u.width+h.width,k-=u.height+h.height),{x:Math.round((m-b)/C*n.width/s),y:Math.round((x-j)/k*n.height/s)}}function eC(t,e,n){let s,i;if(e===void 0||n===void 0){const c=t&&M0(t);if(!c)e=t.clientWidth,n=t.clientHeight;else{const u=c.getBoundingClientRect(),h=cp(c),m=al(h,"border","width"),x=al(h,"padding");e=u.width-x.width-m.width,n=u.height-x.height-m.height,s=Wm(h.maxWidth,c,"clientWidth"),i=Wm(h.maxHeight,c,"clientHeight")}}return{width:e,height:n,maxWidth:s||zm,maxHeight:i||zm}}const mm=t=>Math.round(t*10)/10;function tC(t,e,n,s){const i=cp(t),c=al(i,"margin"),u=Wm(i.maxWidth,t,"clientWidth")||zm,h=Wm(i.maxHeight,t,"clientHeight")||zm,m=eC(t,e,n);let{width:x,height:y}=m;if(i.boxSizing==="content-box"){const j=al(i,"border","width"),C=al(i,"padding");x-=C.width+j.width,y-=C.height+j.height}return x=Math.max(0,x-c.width),y=Math.max(0,s?x/s:y-c.height),x=mm(Math.min(x,u,m.maxWidth)),y=mm(Math.min(y,h,m.maxHeight)),x&&!y&&(y=mm(x/2)),(e!==void 0||n!==void 0)&&s&&m.height&&y>m.height&&(y=m.height,x=mm(Math.floor(y*s))),{width:x,height:y}}function ry(t,e,n){const s=e||1,i=Math.floor(t.height*s),c=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const u=t.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${t.height}px`,u.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||u.height!==i||u.width!==c?(t.currentDevicePixelRatio=s,u.height=i,u.width=c,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const nC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};T0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function iy(t,e){const n=Xk(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Jo(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function sC(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function rC(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},c={x:e.cp1x,y:e.cp1y},u=Jo(t,i,n),h=Jo(i,c,n),m=Jo(c,e,n),x=Jo(u,h,n),y=Jo(h,m,n);return Jo(x,y,n)}const iC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},aC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Yc(t,e,n){return t?iC(e,n):aC()}function P1(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function E1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function O1(t){return t==="angle"?{between:mf,compare:sk,normalize:ii}:{between:tl,compare:(e,n)=>e-n,normalize:e=>e}}function ay({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function oC(t,e,n){const{property:s,start:i,end:c}=n,{between:u,normalize:h}=O1(s),m=e.length;let{start:x,end:y,loop:b}=t,j,C;if(b){for(x+=m,y+=m,j=0,C=m;j<C&&u(h(e[x%m][s]),i,c);++j)x--,y--;x%=m,y%=m}return y<x&&(y+=m),{start:x,end:y,loop:b,style:t.style}}function A1(t,e,n){if(!n)return[t];const{property:s,start:i,end:c}=n,u=e.length,{compare:h,between:m,normalize:x}=O1(s),{start:y,end:b,loop:j,style:C}=oC(t,e,n),k=[];let N=!1,P=null,S,F,B;const z=()=>m(i,B,S)&&h(i,B)!==0,W=()=>h(c,S)===0||m(c,B,S),q=()=>N||z(),ne=()=>!N||W();for(let J=y,fe=y;J<=b;++J)F=e[J%u],!F.skip&&(S=x(F[s]),S!==B&&(N=m(S,i,c),P===null&&q()&&(P=h(S,i)===0?J:fe),P!==null&&ne()&&(k.push(ay({start:P,end:J,loop:j,count:u,style:C})),P=null),fe=J,B=S));return P!==null&&k.push(ay({start:P,end:b,loop:j,count:u,style:C})),k}function T1(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const c=A1(s[i],t.points,e);c.length&&n.push(...c)}return n}function lC(t,e,n,s){let i=0,c=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(c+=i);c>i&&t[c%e].skip;)c--;return c%=e,{start:i,end:c}}function cC(t,e,n,s){const i=t.length,c=[];let u=e,h=t[e],m;for(m=e+1;m<=n;++m){const x=t[m%i];x.skip||x.stop?h.skip||(s=!1,c.push({start:e%i,end:(m-1)%i,loop:s}),e=u=x.stop?m:null):(u=m,h.skip&&(e=m)),h=x}return u!==null&&c.push({start:e%i,end:u%i,loop:s}),c}function uC(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const c=!!t._loop,{start:u,end:h}=lC(n,i,c,s);if(s===!0)return oy(t,[{start:u,end:h,loop:c}],n,e);const m=h<u?h+i:h,x=!!t._fullLoop&&u===0&&h===i-1;return oy(t,cC(n,u,m,x),n,e)}function oy(t,e,n,s){return!s||!s.setContext||!n?e:dC(t,e,n,s)}function dC(t,e,n,s){const i=t._chart.getContext(),c=ly(t.options),{_datasetIndex:u,options:{spanGaps:h}}=t,m=n.length,x=[];let y=c,b=e[0].start,j=b;function C(k,N,P,S){const F=h?-1:1;if(k!==N){for(k+=m;n[k%m].skip;)k-=F;for(;n[N%m].skip;)N+=F;k%m!==N%m&&(x.push({start:k%m,end:N%m,loop:P,style:S}),y=S,b=N%m)}}for(const k of e){b=h?b:k.start;let N=n[b%m],P;for(j=b+1;j<=k.end;j++){const S=n[j%m];P=ly(s.setContext(fl(i,{type:"segment",p0:N,p1:S,p0DataIndex:(j-1)%m,p1DataIndex:j%m,datasetIndex:u}))),fC(P,y)&&C(b,j-1,k.loop,y),N=S,y=P}b<j-1&&C(b,j-1,k.loop,y)}return x}function ly(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function fC(t,e){if(!e)return!1;const n=[],s=function(i,c){return k0(c)?(n.includes(c)||n.push(c),n.indexOf(c)):c};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function pm(t,e,n){return t.options.clip?t[n]:e[n]}function hC(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:pm(n,e,"left"),right:pm(n,e,"right"),top:pm(s,e,"top"),bottom:pm(s,e,"bottom")}:e}function M1(t,e){const n=e._clip;if(n.disabled)return!1;const s=hC(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const c=n.listeners[i],u=n.duration;c.forEach(h=>h({chart:e,initial:n.initial,numSteps:u,currentStep:Math.min(s-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=v1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const c=s.items;let u=c.length-1,h=!1,m;for(;u>=0;--u)m=c[u],m._active?(m._total>s.duration&&(s.duration=m._total),m.tick(e),h=!0):(c[u]=c[c.length-1],c.pop());h&&(i.draw(),this._notify(i,s,e,"progress")),c.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=c.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ui=new mC;const cy="transparent",pC={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Jx(t||cy),i=s.valid&&Jx(e||cy);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class gC{constructor(e,n,s,i){const c=n[s];i=fm([e.to,i,c,e.from]);const u=fm([e.from,c,i]);this._active=!0,this._fn=e.fn||pC[e.type||typeof u],this._easing=Jd[e.easing]||Jd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=u,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],c=s-this._start,u=this._duration-c;this._start=s,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=c,this._loop=!!e.loop,this._to=fm([e.to,n,i,e.from]),this._from=fm([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,c=this._from,u=this._loop,h=this._to;let m;if(this._active=c!==h&&(u||n<s),!this._active){this._target[i]=h,this._notify(!0);return}if(n<0){this._target[i]=c;return}m=n/s%2,m=u&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[i]=this._fn(c,h,m)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class L1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ft(e))return;const n=Object.keys(sn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const c=e[i];if(!ft(c))return;const u={};for(const h of n)u[h]=c[h];(pn(c.properties)&&c.properties||[i]).forEach(h=>{(h===i||!s.has(h))&&s.set(h,u)})})}_animateOptions(e,n){const s=n.options,i=yC(e,s);if(!i)return[];const c=this._createAnimations(i,s);return s.$shared&&xC(e.options.$animations,s).then(()=>{e.options=s},()=>{}),c}_createAnimations(e,n){const s=this._properties,i=[],c=e.$animations||(e.$animations={}),u=Object.keys(n),h=Date.now();let m;for(m=u.length-1;m>=0;--m){const x=u[m];if(x.charAt(0)==="$")continue;if(x==="options"){i.push(...this._animateOptions(e,n));continue}const y=n[x];let b=c[x];const j=s.get(x);if(b)if(j&&b.active()){b.update(j,y,h);continue}else b.cancel();if(!j||!j.duration){e[x]=y;continue}c[x]=b=new gC(j,e,x,y),i.push(b)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ui.add(this._chart,s),!0}}function xC(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const c=t[s[i]];c&&c.active()&&n.push(c.wait())}return Promise.all(n)}function yC(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uy(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,c=n.max===void 0?e:0;return{start:s?c:i,end:s?i:c}}function vC(t,e,n){if(n===!1)return!1;const s=uy(t,n),i=uy(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function bC(t){let e,n,s,i;return ft(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function R1(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,c;for(i=0,c=s.length;i<c;++i)n.push(s[i].index);return n}function dy(t,e,n,s={}){const i=t.keys,c=s.mode==="single";let u,h,m,x;if(e===null)return;let y=!1;for(u=0,h=i.length;u<h;++u){if(m=+i[u],m===n){if(y=!0,s.all)continue;break}x=t.values[m],Kn(x)&&(c||e===0||Qc(e)===Qc(x))&&(e+=x)}return!y&&!s.all?0:e}function wC(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",c=s.axis==="x"?"x":"y",u=Object.keys(t),h=new Array(u.length);let m,x,y;for(m=0,x=u.length;m<x;++m)y=u[m],h[m]={[i]:y,[c]:t[y]};return h}function Ag(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function _C(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function jC(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function NC(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function fy(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const c=t[i.index];if(n&&c>0||!n&&c<0)return i.index}return null}function hy(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:c,vScale:u,index:h}=s,m=c.axis,x=u.axis,y=_C(c,u,s),b=e.length;let j;for(let C=0;C<b;++C){const k=e[C],{[m]:N,[x]:P}=k,S=k._stacks||(k._stacks={});j=S[x]=NC(i,y,N),j[h]=P,j._top=fy(j,u,!0,s.type),j._bottom=fy(j,u,!1,s.type);const F=j._visualValues||(j._visualValues={});F[h]=P}}function Tg(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function SC(t,e){return fl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kC(t,e,n){return fl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Id(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const c=i._stacks;if(!c||c[s]===void 0||c[s][n]===void 0)return;delete c[s][n],c[s]._visualValues!==void 0&&c[s]._visualValues[n]!==void 0&&delete c[s]._visualValues[n]}}}const Mg=t=>t==="reset"||t==="none",my=(t,e)=>e?t:Object.assign({},t),CC=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:R1(n,!0),values:null};class qc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Id(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(b,j,C,k)=>b==="x"?j:b==="r"?k:C,c=n.xAxisID=at(s.xAxisID,Tg(e,"x")),u=n.yAxisID=at(s.yAxisID,Tg(e,"y")),h=n.rAxisID=at(s.rAxisID,Tg(e,"r")),m=n.indexAxis,x=n.iAxisID=i(m,c,u,h),y=n.vAxisID=i(m,u,c,h);n.xScale=this.getScaleForId(c),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(x),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Qx(this._data,this),e._stacked&&Id(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ft(n)){const i=this._cachedMeta;this._data=wC(n,i)}else if(s!==n){if(s){Qx(s,this);const i=this._cachedMeta;Id(i),i._parsed=[]}n&&Object.isExtensible(n)&&ok(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const c=n._stacked;n._stacked=Ag(n.vScale,n),n.stack!==s.stack&&(i=!0,Id(n),n.stack=s.stack),this._resyncElements(e),(i||c!==n._stacked)&&(hy(this,n._parsed),n._stacked=Ag(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:c,_stacked:u}=s,h=c.axis;let m=e===0&&n===i.length?!0:s._sorted,x=e>0&&s._parsed[e-1],y,b,j;if(this._parsing===!1)s._parsed=i,s._sorted=!0,j=i;else{pn(i[e])?j=this.parseArrayData(s,i,e,n):ft(i[e])?j=this.parseObjectData(s,i,e,n):j=this.parsePrimitiveData(s,i,e,n);const C=()=>b[h]===null||x&&b[h]<x[h];for(y=0;y<n;++y)s._parsed[y+e]=b=j[y],m&&(C()&&(m=!1),x=b);s._sorted=m}u&&hy(this,j)}parsePrimitiveData(e,n,s,i){const{iScale:c,vScale:u}=e,h=c.axis,m=u.axis,x=c.getLabels(),y=c===u,b=new Array(i);let j,C,k;for(j=0,C=i;j<C;++j)k=j+s,b[j]={[h]:y||c.parse(x[k],k),[m]:u.parse(n[k],k)};return b}parseArrayData(e,n,s,i){const{xScale:c,yScale:u}=e,h=new Array(i);let m,x,y,b;for(m=0,x=i;m<x;++m)y=m+s,b=n[y],h[m]={x:c.parse(b[0],y),y:u.parse(b[1],y)};return h}parseObjectData(e,n,s,i){const{xScale:c,yScale:u}=e,{xAxisKey:h="x",yAxisKey:m="y"}=this._parsing,x=new Array(i);let y,b,j,C;for(y=0,b=i;y<b;++y)j=y+s,C=n[j],x[y]={x:c.parse(ff(C,h),j),y:u.parse(ff(C,m),j)};return x}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,c=this._cachedMeta,u=n[e.axis],h={keys:R1(i,!0),values:n._stacks[e.axis]._visualValues};return dy(h,u,c.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const c=s[n.axis];let u=c===null?NaN:c;const h=i&&s._stacks[n.axis];i&&h&&(i.values=h,u=dy(i,c,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,c=s._sorted&&e===s.iScale,u=i.length,h=this._getOtherScale(e),m=CC(n,s,this.chart),x={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=jC(h);let j,C;function k(){C=i[j];const N=C[h.axis];return!Kn(C[e.axis])||y>N||b<N}for(j=0;j<u&&!(!k()&&(this.updateRangeFromParsed(x,e,C,m),c));++j);if(c){for(j=u-1;j>=0;--j)if(!k()){this.updateRangeFromParsed(x,e,C,m);break}}return x}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,c,u;for(i=0,c=n.length;i<c;++i)u=n[i][e.axis],Kn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,c=this.getParsed(e);return{label:s?""+s.getLabelForValue(c[s.axis]):"",value:i?""+i.getLabelForValue(c[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bC(at(this.options.clip,vC(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],c=n.chartArea,u=[],h=this._drawStart||0,m=this._drawCount||i.length-h,x=this.options.drawActiveElementsOnTop;let y;for(s.dataset&&s.dataset.draw(e,c,h,m),y=h;y<h+m;++y){const b=i[y];b.hidden||(b.active&&x?u.push(b):b.draw(e,c))}for(y=0;y<u.length;++y)u[y].draw(e,c)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let c;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];c=u.$context||(u.$context=kC(this.getContext(),e,u)),c.parsed=this.getParsed(e),c.raw=i.data[e],c.index=c.dataIndex=e}else c=this.$context||(this.$context=SC(this.chart.getContext(),this.index)),c.dataset=i,c.index=c.datasetIndex=this.index;return c.active=!!n,c.mode=s,c}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",c=this._cachedDataOpts,u=e+"-"+n,h=c[u],m=this.enableOptionSharing&&Bm(s);if(h)return my(h,m);const x=this.chart.config,y=x.datasetElementScopeKeys(this._type,e),b=i?[`${e}Hover`,"hover",e,""]:[e,""],j=x.getOptionScopes(this.getDataset(),y),C=Object.keys(sn.elements[e]),k=()=>this.getContext(s,i,n),N=x.resolveNamedOptions(j,C,k,b);return N.$shared&&(N.$shared=m,c[u]=Object.freeze(my(N,m))),N}_resolveAnimations(e,n,s){const i=this.chart,c=this._cachedDataOpts,u=`animation-${n}`,h=c[u];if(h)return h;let m;if(i.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,n),j=y.getOptionScopes(this.getDataset(),b);m=y.createResolver(j,this.getContext(e,s,n))}const x=new L1(i,m&&m.animations);return m&&m._cacheable&&(c[u]=Object.freeze(x)),x}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Mg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,c=this.getSharedOptions(s),u=this.includeOptions(n,c)||c!==i;return this.updateSharedOptions(c,n,s),{sharedOptions:c,includeOptions:u}}updateElement(e,n,s,i){Mg(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Mg(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const c=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(c)||c})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[h,m,x]of this._syncList)this[h](m,x);this._syncList=[];const i=s.length,c=n.length,u=Math.min(c,i);u&&this.parse(0,u),c>i?this._insertElements(i,c-i,e):c<i&&this._removeElements(c,i-c)}_insertElements(e,n,s=!0){const i=this._cachedMeta,c=i.data,u=e+n;let h;const m=x=>{for(x.length+=n,h=x.length-1;h>=u;h--)x[h]=x[h-n]};for(m(c),h=e;h<u;++h)c[h]=new this.dataElementType;this._parsing&&m(i._parsed),this.parse(e,n),s&&this.updateElements(c,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Id(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$e(qc,"defaults",{}),$e(qc,"datasetElementType",null),$e(qc,"dataElementType",null);function PC(t,e,n){let s=1,i=1,c=0,u=0;if(e<Vt){const h=t,m=h+e,x=Math.cos(h),y=Math.sin(h),b=Math.cos(m),j=Math.sin(m),C=(B,z,W)=>mf(B,h,m,!0)?1:Math.max(z,z*n,W,W*n),k=(B,z,W)=>mf(B,h,m,!0)?-1:Math.min(z,z*n,W,W*n),N=C(0,x,b),P=C(xn,y,j),S=k(Gt,x,b),F=k(Gt+xn,y,j);s=(N-S)/2,i=(P-F)/2,c=-(N+S)/2,u=-(P+F)/2}return{ratioX:s,ratioY:i,offsetX:c,offsetY:u}}class Vd extends qc{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let c=m=>+s[m];if(ft(s[e])){const{key:m="value"}=this._parsing;c=x=>+ff(s[x],m)}let u,h;for(u=e,h=e+n;u<h;++u)i._parsed[u]=c(u)}}_getRotation(){return qi(this.options.rotation-90)}_getCircumference(){return qi(this.options.circumference)}_getRotationExtents(){let e=Vt,n=-Vt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,c=i._getRotation(),u=i._getCircumference();e=Math.min(e,c),n=Math.max(n,c+u)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,c=i.data,u=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),m=Math.min(US(this.options.cutout,h),1),x=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:j,ratioY:C,offsetX:k,offsetY:N}=PC(b,y,m),P=(s.width-u)/j,S=(s.height-u)/C,F=Math.max(Math.min(P,S)/2,0),B=m1(this.options.radius,F),z=Math.max(B*m,0),W=(B-z)/this._getVisibleDatasetWeightTotal();this.offsetX=k*B,this.offsetY=N*B,i.total=this.calculateTotal(),this.outerRadius=B-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*x,0),this.updateElements(c,0,c.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,c=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*c/Vt)}updateElements(e,n,s,i){const c=i==="reset",u=this.chart,h=u.chartArea,x=u.options.animation,y=(h.left+h.right)/2,b=(h.top+h.bottom)/2,j=c&&x.animateScale,C=j?0:this.innerRadius,k=j?0:this.outerRadius,{sharedOptions:N,includeOptions:P}=this._getSharedOptions(n,i);let S=this._getRotation(),F;for(F=0;F<n;++F)S+=this._circumference(F,c);for(F=n;F<n+s;++F){const B=this._circumference(F,c),z=e[F],W={x:y+this.offsetX,y:b+this.offsetY,startAngle:S,endAngle:S+B,circumference:B,outerRadius:k,innerRadius:C};P&&(W.options=N||this.resolveDataElementOptions(F,z.active?"active":i)),S+=B,this.updateElement(z,F,W,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const c=e._parsed[i];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(c))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],c=C0(n._parsed[e],s.options.locale);return{label:i[e]||"",value:c}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,c,u,h,m;if(!e){for(i=0,c=s.data.datasets.length;i<c;++i)if(s.isDatasetVisible(i)){u=s.getDatasetMeta(i),e=u.data,h=u.controller;break}}if(!e)return 0;for(i=0,c=e.length;i<c;++i)m=h.resolveDataElementOptions(i),m.borderAlign!=="inner"&&(n=Math.max(n,m.borderWidth||0,m.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const c=this.resolveDataElementOptions(s);n=Math.max(n,c.offset||0,c.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(at(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$e(Vd,"id","doughnut"),$e(Vd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$e(Vd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$e(Vd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((c,u)=>{const m=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:i,lineWidth:m.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Cm extends qc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:c}=n,u=this.chart._animationsDisabled;let{start:h,count:m}=dk(n,i,u);this._drawStart=h,this._drawCount=m,fk(n)&&(h=0,m=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!c._decimated,s.points=i;const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),x.segment=this.options.segment,this.updateElement(s,void 0,{animated:!u,options:x},e),this.updateElements(i,h,m,e)}updateElements(e,n,s,i){const c=i==="reset",{iScale:u,vScale:h,_stacked:m,_dataset:x}=this._cachedMeta,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,i),j=u.axis,C=h.axis,{spanGaps:k,segment:N}=this.options,P=hf(k)?k:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||c||i==="none",F=n+s,B=e.length;let z=n>0&&this.getParsed(n-1);for(let W=0;W<B;++W){const q=e[W],ne=S?q:{};if(W<n||W>=F){ne.skip=!0;continue}const J=this.getParsed(W),fe=Rt(J[C]),ee=ne[j]=u.getPixelForValue(J[j],W),ie=ne[C]=c||fe?h.getBasePixel():h.getPixelForValue(m?this.applyStack(h,J,m):J[C],W);ne.skip=isNaN(ee)||isNaN(ie)||fe,ne.stop=W>0&&Math.abs(J[j]-z[j])>P,N&&(ne.parsed=J,ne.raw=x.data[W]),b&&(ne.options=y||this.resolveDataElementOptions(W,q.active?"active":i)),S||this.updateElement(q,W,ne,i),z=J}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const c=i[0].size(this.resolveDataElementOptions(0)),u=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,c,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$e(Cm,"id","line"),$e(Cm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$e(Cm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ko(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class L0{constructor(e){$e(this,"options");this.options=e||{}}static override(e){Object.assign(L0.prototype,e)}init(){}formats(){return Ko()}parse(){return Ko()}format(){return Ko()}add(){return Ko()}diff(){return Ko()}startOf(){return Ko()}endOf(){return Ko()}}var EC={_date:L0};function OC(t,e,n,s){const{controller:i,data:c,_sorted:u}=t,h=i._cachedMeta.iScale,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&u&&c.length){const x=h._reversePixels?ik:nl;if(s){if(i._sharedOptions){const y=c[0],b=typeof y.getRange=="function"&&y.getRange(e);if(b){const j=x(c,e,n-b),C=x(c,e,n+b);return{lo:j.lo,hi:C.hi}}}}else{const y=x(c,e,n);if(m){const{vScale:b}=i._cachedMeta,{_parsed:j}=t,C=j.slice(0,y.lo+1).reverse().findIndex(N=>!Rt(N[b.axis]));y.lo-=Math.max(0,C);const k=j.slice(y.hi).findIndex(N=>!Rt(N[b.axis]));y.hi+=Math.max(0,k)}return y}}return{lo:0,hi:c.length-1}}function up(t,e,n,s,i){const c=t.getSortedVisibleDatasetMetas(),u=n[e];for(let h=0,m=c.length;h<m;++h){const{index:x,data:y}=c[h],{lo:b,hi:j}=OC(c[h],e,u,i);for(let C=b;C<=j;++C){const k=y[C];k.skip||s(k,x,C)}}}function AC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const c=e?Math.abs(s.x-i.x):0,u=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}function Lg(t,e,n,s,i){const c=[];return!i&&!t.isPointInArea(e)||up(t,n,e,function(h,m,x){!i&&!pf(h,t.chartArea,0)||h.inRange(e.x,e.y,s)&&c.push({element:h,datasetIndex:m,index:x})},!0),c}function TC(t,e,n,s){let i=[];function c(u,h,m){const{startAngle:x,endAngle:y}=u.getProps(["startAngle","endAngle"],s),{angle:b}=x1(u,{x:e.x,y:e.y});mf(b,x,y)&&i.push({element:u,datasetIndex:h,index:m})}return up(t,n,e,c),i}function MC(t,e,n,s,i,c){let u=[];const h=AC(n);let m=Number.POSITIVE_INFINITY;function x(y,b,j){const C=y.inRange(e.x,e.y,i);if(s&&!C)return;const k=y.getCenterPoint(i);if(!(!!c||t.isPointInArea(k))&&!C)return;const P=h(e,k);P<m?(u=[{element:y,datasetIndex:b,index:j}],m=P):P===m&&u.push({element:y,datasetIndex:b,index:j})}return up(t,n,e,x),u}function Rg(t,e,n,s,i,c){return!c&&!t.isPointInArea(e)?[]:n==="r"&&!s?TC(t,e,n,i):MC(t,e,n,s,i,c)}function py(t,e,n,s,i){const c=[],u=n==="x"?"inXRange":"inYRange";let h=!1;return up(t,n,e,(m,x,y)=>{m[u]&&m[u](e[n],i)&&(c.push({element:m,datasetIndex:x,index:y}),h=h||m.inRange(e.x,e.y,i))}),s&&!h?[]:c}var LC={modes:{index(t,e,n,s){const i=Go(e,t),c=n.axis||"x",u=n.includeInvisible||!1,h=n.intersect?Lg(t,i,c,s,u):Rg(t,i,c,!1,s,u),m=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(x=>{const y=h[0].index,b=x.data[y];b&&!b.skip&&m.push({element:b,datasetIndex:x.index,index:y})}),m):[]},dataset(t,e,n,s){const i=Go(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;let h=n.intersect?Lg(t,i,c,s,u):Rg(t,i,c,!1,s,u);if(h.length>0){const m=h[0].datasetIndex,x=t.getDatasetMeta(m).data;h=[];for(let y=0;y<x.length;++y)h.push({element:x[y],datasetIndex:m,index:y})}return h},point(t,e,n,s){const i=Go(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;return Lg(t,i,c,s,u)},nearest(t,e,n,s){const i=Go(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;return Rg(t,i,c,n.intersect,s,u)},x(t,e,n,s){const i=Go(e,t);return py(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Go(e,t);return py(t,i,"y",n.intersect,s)}}};const D1=["left","top","right","bottom"];function Fd(t,e){return t.filter(n=>n.pos===e)}function gy(t,e){return t.filter(n=>D1.indexOf(n.pos)===-1&&n.box.axis===e)}function Bd(t,e){return t.sort((n,s)=>{const i=e?s:n,c=e?n:s;return i.weight===c.weight?i.index-c.index:i.weight-c.weight})}function RC(t){const e=[];let n,s,i,c,u,h;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:c,options:{stack:u,stackWeight:h=1}}=i,e.push({index:n,box:i,pos:c,horizontal:i.isHorizontal(),weight:i.weight,stack:u&&c+u,stackWeight:h});return e}function DC(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:c}=n;if(!s||!D1.includes(i))continue;const u=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return e}function IC(t,e){const n=DC(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let c,u,h;for(c=0,u=t.length;c<u;++c){h=t[c];const{fullSize:m}=h.box,x=n[h.stack],y=x&&h.stackWeight/x.weight;h.horizontal?(h.width=y?y*s:m&&e.availableWidth,h.height=i):(h.width=s,h.height=y?y*i:m&&e.availableHeight)}return n}function FC(t){const e=RC(t),n=Bd(e.filter(x=>x.box.fullSize),!0),s=Bd(Fd(e,"left"),!0),i=Bd(Fd(e,"right")),c=Bd(Fd(e,"top"),!0),u=Bd(Fd(e,"bottom")),h=gy(e,"x"),m=gy(e,"y");return{fullSize:n,leftAndTop:s.concat(c),rightAndBottom:i.concat(m).concat(u).concat(h),chartArea:Fd(e,"chartArea"),vertical:s.concat(i).concat(m),horizontal:c.concat(u).concat(h)}}function xy(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function I1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BC(t,e,n,s){const{pos:i,box:c}=n,u=t.maxPadding;if(!ft(i)){n.size&&(t[i]-=n.size);const b=s[n.stack]||{size:0,count:1};b.size=Math.max(b.size,n.horizontal?c.height:c.width),n.size=b.size/b.count,t[i]+=n.size}c.getPadding&&I1(u,c.getPadding());const h=Math.max(0,e.outerWidth-xy(u,t,"left","right")),m=Math.max(0,e.outerHeight-xy(u,t,"top","bottom")),x=h!==t.w,y=m!==t.h;return t.w=h,t.h=m,n.horizontal?{same:x,other:y}:{same:y,other:x}}function zC(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function WC(t,e){const n=e.maxPadding;function s(i){const c={left:0,top:0,right:0,bottom:0};return i.forEach(u=>{c[u]=Math.max(e[u],n[u])}),c}return s(t?["left","right"]:["top","bottom"])}function Yd(t,e,n,s){const i=[];let c,u,h,m,x,y;for(c=0,u=t.length,x=0;c<u;++c){h=t[c],m=h.box,m.update(h.width||e.w,h.height||e.h,WC(h.horizontal,e));const{same:b,other:j}=BC(e,n,h,s);x|=b&&i.length,y=y||j,m.fullSize||i.push(h)}return x&&Yd(i,e,n,s)||y}function gm(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function yy(t,e,n,s){const i=n.padding;let{x:c,y:u}=e;for(const h of t){const m=h.box,x=s[h.stack]||{placed:0,weight:1},y=h.stackWeight/x.weight||1;if(h.horizontal){const b=e.w*y,j=x.size||m.height;Bm(x.start)&&(u=x.start),m.fullSize?gm(m,i.left,u,n.outerWidth-i.right-i.left,j):gm(m,e.left+x.placed,u,b,j),x.start=u,x.placed+=b,u=m.bottom}else{const b=e.h*y,j=x.size||m.width;Bm(x.start)&&(c=x.start),m.fullSize?gm(m,c,i.top,j,n.outerHeight-i.bottom-i.top):gm(m,c,e.top+x.placed,j,b),x.start=c,x.placed+=b,c=m.right}}e.x=c,e.y=u}var or={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=lr(t.options.layout.padding),c=Math.max(e-i.width,0),u=Math.max(n-i.height,0),h=FC(t.boxes),m=h.vertical,x=h.horizontal;St(t.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const y=m.reduce((N,P)=>P.box.options&&P.box.options.display===!1?N:N+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/y,hBoxMaxHeight:u/2}),j=Object.assign({},i);I1(j,lr(s));const C=Object.assign({maxPadding:j,w:c,h:u,x:i.left,y:i.top},i),k=IC(m.concat(x),b);Yd(h.fullSize,C,b,k),Yd(m,C,b,k),Yd(x,C,b,k)&&Yd(m,C,b,k),zC(C),yy(h.leftAndTop,C,b,k),C.x+=C.w,C.y+=C.h,yy(h.rightAndBottom,C,b,k),t.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},St(h.chartArea,N=>{const P=N.box;Object.assign(P,t.chartArea),P.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class F1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class HC extends F1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Pm="$chartjs",$C={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vy=t=>t===null||t==="";function UC(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Pm]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vy(i)){const c=iy(t,"width");c!==void 0&&(t.width=c)}if(vy(s))if(t.style.height==="")t.height=t.width/(e||2);else{const c=iy(t,"height");c!==void 0&&(t.height=c)}return t}const B1=nC?{passive:!0}:!1;function VC(t,e,n){t&&t.addEventListener(e,n,B1)}function YC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,B1)}function qC(t,e){const n=$C[t.type]||t.type,{x:s,y:i}=Go(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Hm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function KC(t,e,n){const s=t.canvas,i=new MutationObserver(c=>{let u=!1;for(const h of c)u=u||Hm(h.addedNodes,s),u=u&&!Hm(h.removedNodes,s);u&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function QC(t,e,n){const s=t.canvas,i=new MutationObserver(c=>{let u=!1;for(const h of c)u=u||Hm(h.removedNodes,s),u=u&&!Hm(h.addedNodes,s);u&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const xf=new Map;let by=0;function z1(){const t=window.devicePixelRatio;t!==by&&(by=t,xf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function XC(t,e){xf.size||window.addEventListener("resize",z1),xf.set(t,e)}function GC(t){xf.delete(t),xf.size||window.removeEventListener("resize",z1)}function JC(t,e,n){const s=t.canvas,i=s&&M0(s);if(!i)return;const c=b1((h,m)=>{const x=i.clientWidth;n(h,m),x<i.clientWidth&&n()},window),u=new ResizeObserver(h=>{const m=h[0],x=m.contentRect.width,y=m.contentRect.height;x===0&&y===0||c(x,y)});return u.observe(i),XC(t,c),u}function Dg(t,e,n){n&&n.disconnect(),e==="resize"&&GC(t)}function ZC(t,e,n){const s=t.canvas,i=b1(c=>{t.ctx!==null&&n(qC(c,t))},t);return VC(s,e,i),i}class eP extends F1{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(UC(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Pm])return!1;const s=n[Pm].initial;["height","width"].forEach(c=>{const u=s[c];Rt(u)?n.removeAttribute(c):n.setAttribute(c,u)});const i=s.style||{};return Object.keys(i).forEach(c=>{n.style[c]=i[c]}),n.width=n.width,delete n[Pm],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),u={attach:KC,detach:QC,resize:JC}[n]||ZC;i[n]=u(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Dg,detach:Dg,resize:Dg}[n]||YC)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return tC(e,n,s,i)}isAttached(e){const n=e&&M0(e);return!!(n&&n.isConnected)}}function tP(t){return!T0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HC:eP}class oi{constructor(){$e(this,"x");$e(this,"y");$e(this,"active",!1);$e(this,"options");$e(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return hf(this.x)&&hf(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(c=>{i[c]=s[c]&&s[c].active()?s[c]._to:this[c]}),i}}$e(oi,"defaults",{}),$e(oi,"defaultRoutes");function nP(t,e){const n=t.options.ticks,s=sP(t),i=Math.min(n.maxTicksLimit||s,s),c=n.major.enabled?iP(e):[],u=c.length,h=c[0],m=c[u-1],x=[];if(u>i)return aP(e,x,c,u/i),x;const y=rP(c,e,i);if(u>0){let b,j;const C=u>1?Math.round((m-h)/(u-1)):null;for(xm(e,x,y,Rt(C)?0:h-C,h),b=0,j=u-1;b<j;b++)xm(e,x,y,c[b],c[b+1]);return xm(e,x,y,m,Rt(C)?e.length:m+C),x}return xm(e,x,y),x}function sP(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function rP(t,e,n){const s=oP(t),i=e.length/n;if(!s)return Math.max(i,1);const c=JS(s);for(let u=0,h=c.length-1;u<h;u++){const m=c[u];if(m>i)return m}return Math.max(i,1)}function iP(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function aP(t,e,n,s){let i=0,c=n[0],u;for(s=Math.ceil(s),u=0;u<t.length;u++)u===c&&(e.push(t[u]),i++,c=n[i*s])}function xm(t,e,n,s,i){const c=at(s,0),u=Math.min(at(i,t.length),t.length);let h=0,m,x,y;for(n=Math.ceil(n),i&&(m=i-s,n=m/Math.floor(m/n)),y=c;y<0;)h++,y=Math.round(c+h*n);for(x=Math.max(c,0);x<u;x++)x===y&&(e.push(t[x]),h++,y=Math.round(c+h*n))}function oP(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const lP=t=>t==="left"?"right":t==="right"?"left":t,wy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_y=(t,e)=>Math.min(e||t,t);function jy(t,e){const n=[],s=t.length/e,i=t.length;let c=0;for(;c<i;c+=s)n.push(t[Math.floor(c)]);return n}function cP(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),c=t._startPixel,u=t._endPixel,h=1e-6;let m=t.getPixelForTick(i),x;if(!(n&&(s===1?x=Math.max(m-c,u-m):e===0?x=(t.getPixelForTick(1)-m)/2:x=(m-t.getPixelForTick(i-1))/2,m+=i<e?x:-x,m<c-h||m>u+h)))return m}function uP(t,e){St(t,n=>{const s=n.gc,i=s.length/2;let c;if(i>e){for(c=0;c<i;++c)delete n.data[s[c]];s.splice(0,i)}})}function zd(t){return t.drawTicks?t.tickLength:0}function Ny(t,e){if(!t.display)return 0;const n=Yn(t.font,e),s=lr(t.padding);return(pn(t.text)?t.text.length:1)*n.lineHeight+s.height}function dP(t,e){return fl(t,{scale:e,type:"scale"})}function fP(t,e,n){return fl(t,{tick:n,index:e,type:"tick"})}function hP(t,e,n){let s=S0(t);return(n&&e!=="right"||!n&&e==="right")&&(s=lP(s)),s}function mP(t,e,n,s){const{top:i,left:c,bottom:u,right:h,chart:m}=t,{chartArea:x,scales:y}=m;let b=0,j,C,k;const N=u-i,P=h-c;if(t.isHorizontal()){if(C=Un(s,c,h),ft(n)){const S=Object.keys(n)[0],F=n[S];k=y[S].getPixelForValue(F)+N-e}else n==="center"?k=(x.bottom+x.top)/2+N-e:k=wy(t,n,e);j=h-c}else{if(ft(n)){const S=Object.keys(n)[0],F=n[S];C=y[S].getPixelForValue(F)-P+e}else n==="center"?C=(x.left+x.right)/2-P+e:C=wy(t,n,e);k=Un(s,u,i),b=n==="left"?-xn:xn}return{titleX:C,titleY:k,maxWidth:j,rotation:b}}class ru extends oi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=ni(e,Number.POSITIVE_INFINITY),n=ni(n,Number.NEGATIVE_INFINITY),s=ni(s,Number.POSITIVE_INFINITY),i=ni(i,Number.NEGATIVE_INFINITY),{min:ni(e,s),max:ni(n,i),minDefined:Kn(e),maxDefined:Kn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:c}=this.getUserBounds(),u;if(i&&c)return{min:n,max:s};const h=this.getMatchingVisibleMetas();for(let m=0,x=h.length;m<x;++m)u=h[m].controller.getMinMax(this,e),i||(n=Math.min(n,u.min)),c||(s=Math.max(s,u.max));return n=c&&n>s?s:n,s=i&&n>s?n:s,{min:ni(n,ni(s,n)),max:ni(s,ni(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:c,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Mk(this,c,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=h<this.ticks.length;this._convertTicksToLabels(m?jy(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=nP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,c;for(s=0,i=e.length;s<i;s++)c=e[s],c.label=Ft(n.callback,[c.value,s,e],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=_y(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,c=n.maxRotation;let u=i,h,m,x;if(!this._isVisible()||!n.display||i>=c||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const y=this._getLabelSizes(),b=y.widest.width,j=y.highest.height,C=as(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/s:C/(s-1),b+6>h&&(h=C/(s-(e.offset?.5:1)),m=this.maxHeight-zd(e.grid)-n.padding-Ny(e.title,this.chart.options.font),x=Math.sqrt(b*b+j*j),u=nk(Math.min(Math.asin(as((y.highest.height+6)/h,-1,1)),Math.asin(as(m/x,-1,1))-Math.asin(as(j/x,-1,1)))),u=Math.max(i,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:c}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const m=Ny(i,n.options.font);if(h?(e.width=this.maxWidth,e.height=zd(c)+m):(e.height=this.maxHeight,e.width=zd(c)+m),s.display&&this.ticks.length){const{first:x,last:y,widest:b,highest:j}=this._getLabelSizes(),C=s.padding*2,k=qi(this.labelRotation),N=Math.cos(k),P=Math.sin(k);if(h){const S=s.mirror?0:P*b.width+N*j.height;e.height=Math.min(this.maxHeight,e.height+S+C)}else{const S=s.mirror?0:N*b.width+P*j.height;e.width=Math.min(this.maxWidth,e.width+S+C)}this._calculatePadding(x,y,P,N)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:c,padding:u},position:h}=this.options,m=this.labelRotation!==0,x=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let j=0,C=0;m?x?(j=i*e.width,C=s*n.height):(j=s*e.height,C=i*n.width):c==="start"?C=n.width:c==="end"?j=e.width:c!=="inner"&&(j=e.width/2,C=n.width/2),this.paddingLeft=Math.max((j-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((C-b+u)*this.width/(this.width-b),0)}else{let y=n.height/2,b=e.height/2;c==="start"?(y=0,b=e.height):c==="end"&&(y=n.height,b=0),this.paddingTop=y+u,this.paddingBottom=b+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Rt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=jy(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:c}=this,u=[],h=[],m=Math.floor(n/_y(n,s));let x=0,y=0,b,j,C,k,N,P,S,F,B,z,W;for(b=0;b<n;b+=m){if(k=e[b].label,N=this._resolveTickFontOptions(b),i.font=P=N.string,S=c[P]=c[P]||{data:{},gc:[]},F=N.lineHeight,B=z=0,!Rt(k)&&!pn(k))B=ey(i,S.data,S.gc,B,k),z=F;else if(pn(k))for(j=0,C=k.length;j<C;++j)W=k[j],!Rt(W)&&!pn(W)&&(B=ey(i,S.data,S.gc,B,W),z+=F);u.push(B),h.push(z),x=Math.max(B,x),y=Math.max(z,y)}uP(c,n);const q=u.indexOf(x),ne=h.indexOf(y),J=fe=>({width:u[fe]||0,height:h[fe]||0});return{first:J(0),last:J(n-1),widest:J(q),highest:J(ne),widths:u,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rk(this._alignToPixels?qo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=fP(this.getContext(),e,s))}return this.$context||(this.$context=dP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=qi(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),c=this._getLabelSizes(),u=e.autoSkipPadding||0,h=c?c.widest.width+u:0,m=c?c.highest.height+u:0;return this.isHorizontal()?m*s>h*i?h/s:m/i:m*i<h*s?m/s:h/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:c,position:u,border:h}=i,m=c.offset,x=this.isHorizontal(),b=this.ticks.length+(m?1:0),j=zd(c),C=[],k=h.setContext(this.getContext()),N=k.display?k.width:0,P=N/2,S=function(ye){return qo(s,ye,N)};let F,B,z,W,q,ne,J,fe,ee,ie,oe,ke;if(u==="top")F=S(this.bottom),ne=this.bottom-j,fe=F-P,ie=S(e.top)+P,ke=e.bottom;else if(u==="bottom")F=S(this.top),ie=e.top,ke=S(e.bottom)-P,ne=F+P,fe=this.top+j;else if(u==="left")F=S(this.right),q=this.right-j,J=F-P,ee=S(e.left)+P,oe=e.right;else if(u==="right")F=S(this.left),ee=e.left,oe=S(e.right)-P,q=F+P,J=this.left+j;else if(n==="x"){if(u==="center")F=S((e.top+e.bottom)/2+.5);else if(ft(u)){const ye=Object.keys(u)[0],T=u[ye];F=S(this.chart.scales[ye].getPixelForValue(T))}ie=e.top,ke=e.bottom,ne=F+P,fe=ne+j}else if(n==="y"){if(u==="center")F=S((e.left+e.right)/2);else if(ft(u)){const ye=Object.keys(u)[0],T=u[ye];F=S(this.chart.scales[ye].getPixelForValue(T))}q=F-P,J=q-j,ee=e.left,oe=e.right}const Ee=at(i.ticks.maxTicksLimit,b),we=Math.max(1,Math.ceil(b/Ee));for(B=0;B<b;B+=we){const ye=this.getContext(B),T=c.setContext(ye),M=h.setContext(ye),G=T.lineWidth,D=T.color,O=M.dash||[],V=M.dashOffset,H=T.tickWidth,te=T.tickColor,ce=T.tickBorderDash||[],U=T.tickBorderDashOffset;z=cP(this,B,m),z!==void 0&&(W=qo(s,z,G),x?q=J=ee=oe=W:ne=fe=ie=ke=W,C.push({tx1:q,ty1:ne,tx2:J,ty2:fe,x1:ee,y1:ie,x2:oe,y2:ke,width:G,color:D,borderDash:O,borderDashOffset:V,tickWidth:H,tickColor:te,tickBorderDash:ce,tickBorderDashOffset:U}))}return this._ticksLength=b,this._borderValue=F,C}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:c}=s,u=this.isHorizontal(),h=this.ticks,{align:m,crossAlign:x,padding:y,mirror:b}=c,j=zd(s.grid),C=j+y,k=b?-y:C,N=-qi(this.labelRotation),P=[];let S,F,B,z,W,q,ne,J,fe,ee,ie,oe,ke="middle";if(i==="top")q=this.bottom-k,ne=this._getXAxisLabelAlignment();else if(i==="bottom")q=this.top+k,ne=this._getXAxisLabelAlignment();else if(i==="left"){const we=this._getYAxisLabelAlignment(j);ne=we.textAlign,W=we.x}else if(i==="right"){const we=this._getYAxisLabelAlignment(j);ne=we.textAlign,W=we.x}else if(n==="x"){if(i==="center")q=(e.top+e.bottom)/2+C;else if(ft(i)){const we=Object.keys(i)[0],ye=i[we];q=this.chart.scales[we].getPixelForValue(ye)+C}ne=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")W=(e.left+e.right)/2-C;else if(ft(i)){const we=Object.keys(i)[0],ye=i[we];W=this.chart.scales[we].getPixelForValue(ye)}ne=this._getYAxisLabelAlignment(j).textAlign}n==="y"&&(m==="start"?ke="top":m==="end"&&(ke="bottom"));const Ee=this._getLabelSizes();for(S=0,F=h.length;S<F;++S){B=h[S],z=B.label;const we=c.setContext(this.getContext(S));J=this.getPixelForTick(S)+c.labelOffset,fe=this._resolveTickFontOptions(S),ee=fe.lineHeight,ie=pn(z)?z.length:1;const ye=ie/2,T=we.color,M=we.textStrokeColor,G=we.textStrokeWidth;let D=ne;u?(W=J,ne==="inner"&&(S===F-1?D=this.options.reverse?"left":"right":S===0?D=this.options.reverse?"right":"left":D="center"),i==="top"?x==="near"||N!==0?oe=-ie*ee+ee/2:x==="center"?oe=-Ee.highest.height/2-ye*ee+ee:oe=-Ee.highest.height+ee/2:x==="near"||N!==0?oe=ee/2:x==="center"?oe=Ee.highest.height/2-ye*ee:oe=Ee.highest.height-ie*ee,b&&(oe*=-1),N!==0&&!we.showLabelBackdrop&&(W+=ee/2*Math.sin(N))):(q=J,oe=(1-ie)*ee/2);let O;if(we.showLabelBackdrop){const V=lr(we.backdropPadding),H=Ee.heights[S],te=Ee.widths[S];let ce=oe-V.top,U=0-V.left;switch(ke){case"middle":ce-=H/2;break;case"bottom":ce-=H;break}switch(ne){case"center":U-=te/2;break;case"right":U-=te;break;case"inner":S===F-1?U-=te:S>0&&(U-=te/2);break}O={left:U,top:ce,width:te+V.width,height:H+V.height,color:we.backdropColor}}P.push({label:z,font:fe,textOffset:oe,options:{rotation:N,color:T,strokeColor:M,strokeWidth:G,textAlign:D,textBaseline:ke,translation:[W,q],backdrop:O}})}return P}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-qi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:c}}=this.options,u=this._getLabelSizes(),h=e+c,m=u.widest.width;let x,y;return n==="left"?i?(y=this.right+c,s==="near"?x="left":s==="center"?(x="center",y+=m/2):(x="right",y+=m)):(y=this.right-h,s==="near"?x="right":s==="center"?(x="center",y-=m/2):(x="left",y=this.left)):n==="right"?i?(y=this.left+c,s==="near"?x="right":s==="center"?(x="center",y-=m/2):(x="left",y-=m)):(y=this.left+h,s==="near"?x="left":s==="center"?(x="center",y+=m/2):(x="right",y=this.right)):x="right",{textAlign:x,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:c,height:u}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,c,u),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(c=>c.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let c,u;const h=(m,x,y)=>{!y.width||!y.color||(s.save(),s.lineWidth=y.width,s.strokeStyle=y.color,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset,s.beginPath(),s.moveTo(m.x,m.y),s.lineTo(x.x,x.y),s.stroke(),s.restore())};if(n.display)for(c=0,u=i.length;c<u;++c){const m=i[c];n.drawOnChartArea&&h({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),n.drawTicks&&h({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,c=s.setContext(this.getContext()),u=s.display?c.width:0;if(!u)return;const h=i.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let x,y,b,j;this.isHorizontal()?(x=qo(e,this.left,u)-u/2,y=qo(e,this.right,h)+h/2,b=j=m):(b=qo(e,this.top,u)-u/2,j=qo(e,this.bottom,h)+h/2,x=y=m),n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.beginPath(),n.moveTo(x,b),n.lineTo(y,j),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&op(s,i);const c=this.getLabelItems(e);for(const u of c){const h=u.options,m=u.font,x=u.label,y=u.textOffset;gf(s,x,0,y,m,h)}i&&lp(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const c=Yn(s.font),u=lr(s.padding),h=s.align;let m=c.lineHeight/2;n==="bottom"||n==="center"||ft(n)?(m+=u.bottom,pn(s.text)&&(m+=c.lineHeight*(s.text.length-1))):m+=u.top;const{titleX:x,titleY:y,maxWidth:b,rotation:j}=mP(this,m,n,h);gf(e,s.text,0,0,c,{color:s.color,maxWidth:b,rotation:j,textAlign:hP(h,n,i),textBaseline:"middle",translation:[x,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=at(e.grid&&e.grid.z,-1),i=at(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ru.prototype.draw?[{z:n,draw:c=>{this.draw(c)}}]:[{z:s,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let c,u;for(c=0,u=n.length;c<u;++c){const h=n[c];h[s]===this.id&&(!e||h.type===e)&&i.push(h)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Yn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ym{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;xP(n)&&(s=this.register(n));const i=this.items,c=e.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+e);return c in i||(i[c]=e,pP(e,u,s),this.override&&sn.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in sn[i]&&(delete sn[i][s],this.override&&delete cl[s])}}function pP(t,e,n){const s=df(Object.create(null),[n?sn.get(n):{},sn.get(e),t.defaults]);sn.set(e,s),t.defaultRoutes&&gP(e,t.defaultRoutes),t.descriptors&&sn.describe(e,t.descriptors)}function gP(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),c=[t].concat(s).join("."),u=e[n].split("."),h=u.pop(),m=u.join(".");sn.route(c,i,m,h)})}function xP(t){return"id"in t&&"defaults"in t}class yP{constructor(){this.controllers=new ym(qc,"datasets",!0),this.elements=new ym(oi,"elements"),this.plugins=new ym(Object,"plugins"),this.scales=new ym(ru,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const c=s||this._getRegistryForType(i);s||c.isForType(i)||c===this.plugins&&i.id?this._exec(e,c,i):St(i,u=>{const h=s||this._getRegistryForType(u);this._exec(e,h,u)})})}_exec(e,n,s){const i=j0(e);Ft(s["before"+i],[],s),n[e](s),Ft(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ri=new yP;class vP{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const c=i?this._descriptors(e).filter(i):this._descriptors(e),u=this._notify(c,e,n,s);return n==="afterDestroy"&&(this._notify(c,e,"stop"),this._notify(this._init,e,"uninstall")),u}_notify(e,n,s,i){i=i||{};for(const c of e){const u=c.plugin,h=u[s],m=[n,i,c.options];if(Ft(h,m,u)===!1&&i.cancelable)return!1}return!0}invalidate(){Rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=at(s.options&&s.options.plugins,{}),c=bP(s);return i===!1&&!n?[]:_P(e,c,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(c,u)=>c.filter(h=>!u.some(m=>h.plugin.id===m.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function bP(t){const e={},n=[],s=Object.keys(ri.plugins.items);for(let c=0;c<s.length;c++)n.push(ri.getPlugin(s[c]));const i=t.plugins||[];for(let c=0;c<i.length;c++){const u=i[c];n.indexOf(u)===-1&&(n.push(u),e[u.id]=!0)}return{plugins:n,localIds:e}}function wP(t,e){return!e&&t===!1?null:t===!0?{}:t}function _P(t,{plugins:e,localIds:n},s,i){const c=[],u=t.getContext();for(const h of e){const m=h.id,x=wP(s[m],i);x!==null&&c.push({plugin:h,options:jP(t.config,{plugin:h,local:n[m]},x,u)})}return c}function jP(t,{plugin:e,local:n},s,i){const c=t.pluginScopeKeys(e),u=t.getOptionScopes(s,c);return n&&e.defaults&&u.push(e.defaults),t.createResolver(u,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function a0(t,e){const n=sn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function NP(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function SP(t,e){return t===e?"_index_":"_value_"}function Sy(t){if(t==="x"||t==="y"||t==="r")return t}function kP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function o0(t,...e){if(Sy(t))return t;for(const n of e){const s=n.axis||kP(n.position)||t.length>1&&Sy(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ky(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function CP(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return ky(t,"x",n[0])||ky(t,"y",n[0])}return{}}function PP(t,e){const n=cl[t.type]||{scales:{}},s=e.scales||{},i=a0(t.type,e),c=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!ft(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const m=o0(u,h,CP(u,t),sn.scales[h.type]),x=SP(m,i),y=n.scales||{};c[u]=Xd(Object.create(null),[{axis:m},h,y[m],y[x]])}),t.data.datasets.forEach(u=>{const h=u.type||t.type,m=u.indexAxis||a0(h,e),y=(cl[h]||{}).scales||{};Object.keys(y).forEach(b=>{const j=NP(b,m),C=u[j+"AxisID"]||j;c[C]=c[C]||Object.create(null),Xd(c[C],[{axis:j},s[C],y[b]])})}),Object.keys(c).forEach(u=>{const h=c[u];Xd(h,[sn.scales[h.type],sn.scale])}),c}function W1(t){const e=t.options||(t.options={});e.plugins=at(e.plugins,{}),e.scales=PP(t,e)}function H1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function EP(t){return t=t||{},t.data=H1(t.data),W1(t),t}const Cy=new Map,$1=new Set;function vm(t,e){let n=Cy.get(t);return n||(n=e(),Cy.set(t,n),$1.add(n)),n}const Wd=(t,e,n)=>{const s=ff(e,n);s!==void 0&&t.add(s)};class OP{constructor(e){this._config=EP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=H1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),W1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return vm(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:c}=this,u=this._cachedScopes(e,s),h=u.get(n);if(h)return h;const m=new Set;n.forEach(y=>{e&&(m.add(e),y.forEach(b=>Wd(m,e,b))),y.forEach(b=>Wd(m,i,b)),y.forEach(b=>Wd(m,cl[c]||{},b)),y.forEach(b=>Wd(m,sn,b)),y.forEach(b=>Wd(m,s0,b))});const x=Array.from(m);return x.length===0&&x.push(Object.create(null)),$1.has(n)&&u.set(n,x),x}chartOptionScopes(){const{options:e,type:n}=this;return[e,cl[n]||{},sn.datasets[n]||{},{type:n},sn,s0]}resolveNamedOptions(e,n,s,i=[""]){const c={$shared:!0},{resolver:u,subPrefixes:h}=Py(this._resolverCache,e,i);let m=u;if(TP(u,n)){c.$shared=!1,s=Ya(s)?s():s;const x=this.createResolver(e,s,h);m=Xc(u,s,x)}for(const x of n)c[x]=m[x];return c}createResolver(e,n,s=[""],i){const{resolver:c}=Py(this._resolverCache,e,s);return ft(n)?Xc(c,n,void 0,i):c}}function Py(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let c=s.get(i);return c||(c={resolver:E0(e,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},s.set(i,c)),c}const AP=t=>ft(t)&&Object.getOwnPropertyNames(t).some(e=>Ya(t[e]));function TP(t,e){const{isScriptable:n,isIndexable:s}=j1(t);for(const i of e){const c=n(i),u=s(i),h=(u||c)&&t[i];if(c&&(Ya(h)||AP(h))||u&&pn(h))return!0}return!1}var MP="4.4.9";const LP=["top","bottom","left","right","chartArea"];function Ey(t,e){return t==="top"||t==="bottom"||LP.indexOf(t)===-1&&e==="x"}function Oy(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Ay(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ft(n&&n.onComplete,[t],e)}function RP(t){const e=t.chart,n=e.options.animation;Ft(n&&n.onProgress,[t],e)}function U1(t){return T0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Em={},Ty=t=>{const e=U1(t);return Object.values(Em).filter(n=>n.canvas===e).pop()};function DP(t,e,n){const s=Object.keys(t);for(const i of s){const c=+i;if(c>=e){const u=t[i];delete t[i],(n>0||c>e)&&(t[c+n]=u)}}}function IP(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Fa;let _f=(Fa=class{static register(...e){ri.add(...e),My()}static unregister(...e){ri.remove(...e),My()}constructor(e,n){const s=this.config=new OP(n),i=U1(e),c=Ty(i);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||tP(i)),this.platform.updateConfig(s);const h=this.platform.acquireContext(i,u.aspectRatio),m=h&&h.canvas,x=m&&m.height,y=m&&m.width;if(this.id=$S(),this.ctx=h,this.canvas=m,this.width=y,this.height=x,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ck(b=>this.update(b),u.resizeDelay||0),this._dataChanges=[],Em[this.id]=this,!h||!m){console.error("Failed to create chart: can't acquire context from the given item");return}Ui.listen(this,"complete",Ay),Ui.listen(this,"progress",RP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:c}=this;return Rt(e)?n&&c?c:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ry(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ty(this.canvas,this.ctx),this}stop(){return Ui.stop(this),this}resize(e,n){Ui.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,c=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(i,e,n,c),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,ry(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Ft(s.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};St(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let c=[];n&&(c=c.concat(Object.keys(n).map(u=>{const h=n[u],m=o0(u,h),x=m==="r",y=m==="x";return{options:h,dposition:x?"chartArea":y?"bottom":"left",dtype:x?"radialLinear":y?"category":"linear"}}))),St(c,u=>{const h=u.options,m=h.id,x=o0(m,h),y=at(h.type,u.dtype);(h.position===void 0||Ey(h.position,x)!==Ey(u.dposition))&&(h.position=u.dposition),i[m]=!0;let b=null;if(m in s&&s[m].type===y)b=s[m];else{const j=ri.getScale(y);b=new j({id:m,type:y,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(h,e)}),St(i,(u,h)=>{u||delete s[h]}),St(s,u=>{or.configure(this,u,u.options),or.addBox(this,u)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,c)=>i.index-c.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Oy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(c=>c===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const c=n[s];let u=this.getDatasetMeta(s);const h=c.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=c.indexAxis||a0(h,this.options),u.order=c.order||0,u.index=s,u.label=""+c.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const m=ri.getController(h),{datasetElementType:x,dataElementType:y}=sn.datasets[h];Object.assign(m,{dataElementType:ri.getElement(y),datasetElementType:x&&ri.getElement(x)}),u.controller=new m(this,s),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){St(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let x=0,y=this.data.datasets.length;x<y;x++){const{controller:b}=this.getDatasetMeta(x),j=!i&&c.indexOf(b)===-1;b.buildOrUpdateElements(j),u=Math.max(+b.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),i||St(c,x=>{x.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Oy("z","_idx"));const{_active:h,_lastEvent:m}=this;m?this._eventHandler(m,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){St(this.scales,e=>{or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Vx(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:c}of n){const u=s==="_removeElements"?-c:c;DP(e,i,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=c=>new Set(e.filter(u=>u[0]===c).map((u,h)=>h+","+u.splice(1).join(","))),i=s(0);for(let c=1;c<n;c++)if(!Vx(i,s(c)))return;return Array.from(i).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;or.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],St(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,c)=>{i._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ya(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ui.has(this)?this.attached&&!Ui.running(this)&&Ui.start(this):(this.draw(),Ay({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,c;for(i=0,c=n.length;i<c;++i){const u=n[i];(!e||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=M1(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&op(n,i),e.controller.draw(),i&&lp(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return pf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const c=LC.modes[n];return typeof c=="function"?c(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(c=>c&&c._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=fl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",c=this.getDatasetMeta(e),u=c.controller._resolveAnimations(void 0,i);Bm(n)?(c.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),u.update(c,{visible:s}),this.update(h=>h.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ui.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ty(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Em[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u,h)=>{c.offsetX=u,c.offsetY=h,this._eventHandler(c)};St(this.options.events,c=>s(c,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(m,x)=>{n.addEventListener(this,m,x),e[m]=x},i=(m,x)=>{e[m]&&(n.removeEventListener(this,m,x),delete e[m])},c=(m,x)=>{this.canvas&&this.resize(m,x)};let u;const h=()=>{i("attach",h),this.attached=!0,this.resize(),s("resize",c),s("detach",u)};u=()=>{this.attached=!1,i("resize",c),this._stop(),this._resize(0,0),s("attach",h)},n.isAttached(this.canvas)?h():u()}unbindEvents(){St(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},St(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let c,u,h,m;for(n==="dataset"&&(c=this.getDatasetMeta(e[0].datasetIndex),c.controller["_"+i+"DatasetHoverStyle"]()),h=0,m=e.length;h<m;++h){u=e[h];const x=u&&this.getDatasetMeta(u.datasetIndex).controller;x&&x[i+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:c,index:u})=>{const h=this.getDatasetMeta(c);if(!h)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:h.data[u],index:u}});!Im(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,c=(m,x)=>m.filter(y=>!x.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),u=c(n,e),h=s?e:c(e,n);u.length&&this.updateHoverStyle(u,i.mode,!1),h.length&&i.mode&&this.updateHoverStyle(h,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const c=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(c||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:c}=this,u=n,h=this._getActiveElements(e,i,s,u),m=QS(e),x=IP(e,this._lastEvent,s,m);s&&(this._lastEvent=null,Ft(c.onHover,[e,h,this],this),m&&Ft(c.onClick,[e,h,this],this));const y=!Im(h,i);return(y||n)&&(this._active=h,this._updateHoverStyles(h,i,n)),this._lastEvent=x,y}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const c=this.options.hover;return this.getElementsAtEventForMode(e,c.mode,c,i)}},$e(Fa,"defaults",sn),$e(Fa,"instances",Em),$e(Fa,"overrides",cl),$e(Fa,"registry",ri),$e(Fa,"version",MP),$e(Fa,"getChart",Ty),Fa);function My(){return St(_f.instances,t=>t._plugins.invalidate())}function FP(t,e,n){const{startAngle:s,pixelMargin:i,x:c,y:u,outerRadius:h,innerRadius:m}=e;let x=i/h;t.beginPath(),t.arc(c,u,h,s-x,n+x),m>i?(x=i/m,t.arc(c,u,m,n+x,s-x,!0)):t.arc(c,u,i,n+xn,s-xn),t.closePath(),t.clip()}function BP(t){return P0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zP(t,e,n,s){const i=BP(t.options.borderRadius),c=(n-e)/2,u=Math.min(c,s*e/2),h=m=>{const x=(n-Math.min(c,m))*s/2;return as(m,0,Math.min(c,x))};return{outerStart:h(i.outerStart),outerEnd:h(i.outerEnd),innerStart:as(i.innerStart,0,u),innerEnd:as(i.innerEnd,0,u)}}function Hc(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function $m(t,e,n,s,i,c){const{x:u,y:h,startAngle:m,pixelMargin:x,innerRadius:y}=e,b=Math.max(e.outerRadius+s+n-x,0),j=y>0?y+s+n+x:0;let C=0;const k=i-m;if(s){const we=y>0?y-s:0,ye=b>0?b-s:0,T=(we+ye)/2,M=T!==0?k*T/(T+s):k;C=(k-M)/2}const N=Math.max(.001,k*b-n/Gt)/b,P=(k-N)/2,S=m+P+C,F=i-P-C,{outerStart:B,outerEnd:z,innerStart:W,innerEnd:q}=zP(e,j,b,F-S),ne=b-B,J=b-z,fe=S+B/ne,ee=F-z/J,ie=j+W,oe=j+q,ke=S+W/ie,Ee=F-q/oe;if(t.beginPath(),c){const we=(fe+ee)/2;if(t.arc(u,h,b,fe,we),t.arc(u,h,b,we,ee),z>0){const G=Hc(J,ee,u,h);t.arc(G.x,G.y,z,ee,F+xn)}const ye=Hc(oe,F,u,h);if(t.lineTo(ye.x,ye.y),q>0){const G=Hc(oe,Ee,u,h);t.arc(G.x,G.y,q,F+xn,Ee+Math.PI)}const T=(F-q/j+(S+W/j))/2;if(t.arc(u,h,j,F-q/j,T,!0),t.arc(u,h,j,T,S+W/j,!0),W>0){const G=Hc(ie,ke,u,h);t.arc(G.x,G.y,W,ke+Math.PI,S-xn)}const M=Hc(ne,S,u,h);if(t.lineTo(M.x,M.y),B>0){const G=Hc(ne,fe,u,h);t.arc(G.x,G.y,B,S-xn,fe)}}else{t.moveTo(u,h);const we=Math.cos(fe)*b+u,ye=Math.sin(fe)*b+h;t.lineTo(we,ye);const T=Math.cos(ee)*b+u,M=Math.sin(ee)*b+h;t.lineTo(T,M)}t.closePath()}function WP(t,e,n,s,i){const{fullCircles:c,startAngle:u,circumference:h}=e;let m=e.endAngle;if(c){$m(t,e,n,s,m,i);for(let x=0;x<c;++x)t.fill();isNaN(h)||(m=u+(h%Vt||Vt))}return $m(t,e,n,s,m,i),t.fill(),m}function HP(t,e,n,s,i){const{fullCircles:c,startAngle:u,circumference:h,options:m}=e,{borderWidth:x,borderJoinStyle:y,borderDash:b,borderDashOffset:j}=m,C=m.borderAlign==="inner";if(!x)return;t.setLineDash(b||[]),t.lineDashOffset=j,C?(t.lineWidth=x*2,t.lineJoin=y||"round"):(t.lineWidth=x,t.lineJoin=y||"bevel");let k=e.endAngle;if(c){$m(t,e,n,s,k,i);for(let N=0;N<c;++N)t.stroke();isNaN(h)||(k=u+(h%Vt||Vt))}C&&FP(t,e,k),c||($m(t,e,n,s,k,i),t.stroke())}class Uc extends oi{constructor(n){super();$e(this,"circumference");$e(this,"endAngle");$e(this,"fullCircles");$e(this,"innerRadius");$e(this,"outerRadius");$e(this,"pixelMargin");$e(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const c=this.getProps(["x","y"],i),{angle:u,distance:h}=x1(c,{x:n,y:s}),{startAngle:m,endAngle:x,innerRadius:y,outerRadius:b,circumference:j}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),C=(this.options.spacing+this.options.borderWidth)/2,k=at(j,x-m),N=mf(u,m,x)&&m!==x,P=k>=Vt||N,S=tl(h,y+C,b+C);return P&&S}getCenterPoint(n){const{x:s,y:i,startAngle:c,endAngle:u,innerRadius:h,outerRadius:m}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:x,spacing:y}=this.options,b=(c+u)/2,j=(h+m+y+x)/2;return{x:s+Math.cos(b)*j,y:i+Math.sin(b)*j}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,c=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Vt?Math.floor(i/Vt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const m=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(m)*c,Math.sin(m)*c);const x=1-Math.sin(Math.min(Gt,i||0)),y=c*x;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,WP(n,this,y,u,h),HP(n,this,y,u,h),n.restore()}}$e(Uc,"id","arc"),$e(Uc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$e(Uc,"defaultRoutes",{backgroundColor:"backgroundColor"}),$e(Uc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function V1(t,e,n=e){t.lineCap=at(n.borderCapStyle,e.borderCapStyle),t.setLineDash(at(n.borderDash,e.borderDash)),t.lineDashOffset=at(n.borderDashOffset,e.borderDashOffset),t.lineJoin=at(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=at(n.borderWidth,e.borderWidth),t.strokeStyle=at(n.borderColor,e.borderColor)}function $P(t,e,n){t.lineTo(n.x,n.y)}function UP(t){return t.stepped?jk:t.tension||t.cubicInterpolationMode==="monotone"?Nk:$P}function Y1(t,e,n={}){const s=t.length,{start:i=0,end:c=s-1}=n,{start:u,end:h}=e,m=Math.max(i,u),x=Math.min(c,h),y=i<u&&c<u||i>h&&c>h;return{count:s,start:m,loop:e.loop,ilen:x<m&&!y?s+x-m:x-m}}function VP(t,e,n,s){const{points:i,options:c}=e,{count:u,start:h,loop:m,ilen:x}=Y1(i,n,s),y=UP(c);let{move:b=!0,reverse:j}=s||{},C,k,N;for(C=0;C<=x;++C)k=i[(h+(j?x-C:C))%u],!k.skip&&(b?(t.moveTo(k.x,k.y),b=!1):y(t,N,k,j,c.stepped),N=k);return m&&(k=i[(h+(j?x:0))%u],y(t,N,k,j,c.stepped)),!!m}function YP(t,e,n,s){const i=e.points,{count:c,start:u,ilen:h}=Y1(i,n,s),{move:m=!0,reverse:x}=s||{};let y=0,b=0,j,C,k,N,P,S;const F=z=>(u+(x?h-z:z))%c,B=()=>{N!==P&&(t.lineTo(y,P),t.lineTo(y,N),t.lineTo(y,S))};for(m&&(C=i[F(0)],t.moveTo(C.x,C.y)),j=0;j<=h;++j){if(C=i[F(j)],C.skip)continue;const z=C.x,W=C.y,q=z|0;q===k?(W<N?N=W:W>P&&(P=W),y=(b*y+z)/++b):(B(),t.lineTo(z,W),k=q,b=0,N=P=W),S=W}B()}function l0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YP:VP}function qP(t){return t.stepped?sC:t.tension||t.cubicInterpolationMode==="monotone"?rC:Jo}function KP(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),V1(t,e.options),t.stroke(i)}function QP(t,e,n,s){const{segments:i,options:c}=e,u=l0(e);for(const h of i)V1(t,c,h.style),t.beginPath(),u(t,e,h,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const XP=typeof Path2D=="function";function GP(t,e,n,s){XP&&!e.options.segment?KP(t,e,n,s):QP(t,e,n,s)}class Ki extends oi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;Qk(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uC(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],c=this.points,u=T1(this,{property:n,start:i,end:i});if(!u.length)return;const h=[],m=qP(s);let x,y;for(x=0,y=u.length;x<y;++x){const{start:b,end:j}=u[x],C=c[b],k=c[j];if(C===k){h.push(C);continue}const N=Math.abs((i-C[n])/(k[n]-C[n])),P=m(C,k,N,s.stepped);P[n]=e[n],h.push(P)}return h.length===1?h[0]:h}pathSegment(e,n,s){return l0(this)(e,this,n,s)}path(e,n,s){const i=this.segments,c=l0(this);let u=this._loop;n=n||0,s=s||this.points.length-n;for(const h of i)u&=c(e,this,h,{start:n,end:n+s-1});return!!u}draw(e,n,s,i){const c=this.options||{};(this.points||[]).length&&c.borderWidth&&(e.save(),GP(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$e(Ki,"id","line"),$e(Ki,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$e(Ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$e(Ki,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ly(t,e,n,s){const i=t.options,{[n]:c}=t.getProps([n],s);return Math.abs(e-c)<i.radius+i.hitRadius}class tf extends oi{constructor(n){super();$e(this,"parsed");$e(this,"skip");$e(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const c=this.options,{x:u,y:h}=this.getProps(["x","y"],i);return Math.pow(n-u,2)+Math.pow(s-h,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(n,s){return Ly(this,n,"x",s)}inYRange(n,s){return Ly(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!pf(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,r0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}$e(tf,"id","point"),$e(tf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$e(tf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function JP(t,e,n){const s=t.segments,i=t.points,c=e.points,u=[];for(const h of s){let{start:m,end:x}=h;x=R0(m,x,i);const y=c0(n,i[m],i[x],h.loop);if(!e.segments){u.push({source:h,target:y,start:i[m],end:i[x]});continue}const b=T1(e,y);for(const j of b){const C=c0(n,c[j.start],c[j.end],j.loop),k=A1(h,i,C);for(const N of k)u.push({source:N,target:j,start:{[n]:Ry(y,C,"start",Math.max)},end:{[n]:Ry(y,C,"end",Math.min)}})}}return u}function c0(t,e,n,s){if(s)return;let i=e[t],c=n[t];return t==="angle"&&(i=ii(i),c=ii(c)),{property:t,start:i,end:c}}function ZP(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,c=[];return e.segments.forEach(({start:u,end:h})=>{h=R0(u,h,i);const m=i[u],x=i[h];s!==null?(c.push({x:m.x,y:s}),c.push({x:x.x,y:s})):n!==null&&(c.push({x:n,y:m.y}),c.push({x:n,y:x.y}))}),c}function R0(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Ry(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function q1(t,e){let n=[],s=!1;return pn(t)?(s=!0,n=t):n=ZP(t,e),n.length?new Ki({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Dy(t){return t&&t.fill!==!1}function eE(t,e,n){let i=t[e].fill;const c=[e];let u;if(!n)return i;for(;i!==!1&&c.indexOf(i)===-1;){if(!Kn(i))return i;if(u=t[i],!u)return!1;if(u.visible)return i;c.push(i),i=u.fill}return!1}function tE(t,e,n){const s=iE(t);if(ft(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Kn(i)&&Math.floor(i)===i?nE(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function nE(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function sE(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ft(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function rE(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:ft(t)?s=t.value:s=e.getBaseValue(),s}function iE(t){const e=t.options,n=e.fill;let s=at(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function aE(t){const{scale:e,index:n,line:s}=t,i=[],c=s.segments,u=s.points,h=oE(e,n);h.push(q1({x:null,y:e.bottom},s));for(let m=0;m<c.length;m++){const x=c[m];for(let y=x.start;y<=x.end;y++)lE(i,u[y],h)}return new Ki({points:i,options:{}})}function oE(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const c=s[i];if(c.index===e)break;c.hidden||n.unshift(c.dataset)}return n}function lE(t,e,n){const s=[];for(let i=0;i<n.length;i++){const c=n[i],{first:u,last:h,point:m}=cE(c,e,"x");if(!(!m||u&&h)){if(u)s.unshift(m);else if(t.push(m),!h)break}}t.push(...s)}function cE(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],c=t.segments,u=t.points;let h=!1,m=!1;for(let x=0;x<c.length;x++){const y=c[x],b=u[y.start][n],j=u[y.end][n];if(tl(i,b,j)){h=i===b,m=i===j;break}}return{first:h,last:m,point:s}}class K1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:c,radius:u}=this;return n=n||{start:0,end:Vt},e.arc(i,c,u,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,c=e.angle;return{x:n+Math.cos(c)*i,y:s+Math.sin(c)*i,angle:c}}}function uE(t){const{chart:e,fill:n,line:s}=t;if(Kn(n))return dE(e,n);if(n==="stack")return aE(t);if(n==="shape")return!0;const i=fE(t);return i instanceof K1?i:q1(i,s)}function dE(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function fE(t){return(t.scale||{}).getPointPositionForValue?mE(t):hE(t)}function hE(t){const{scale:e={},fill:n}=t,s=sE(n,e);if(Kn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function mE(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,c=s.reverse?e.max:e.min,u=rE(n,e,c),h=[];if(s.grid.circular){const m=e.getPointPositionForValue(0,c);return new K1({x:m.x,y:m.y,radius:e.getDistanceFromCenterForValue(u)})}for(let m=0;m<i;++m)h.push(e.getPointPositionForValue(m,u));return h}function Ig(t,e,n){const s=uE(e),{chart:i,index:c,line:u,scale:h,axis:m}=e,x=u.options,y=x.fill,b=x.backgroundColor,{above:j=b,below:C=b}=y||{},k=i.getDatasetMeta(c),N=M1(i,k);s&&u.points.length&&(op(t,n),pE(t,{line:u,target:s,above:j,below:C,area:n,scale:h,axis:m,clip:N}),lp(t))}function pE(t,e){const{line:n,target:s,above:i,below:c,area:u,scale:h,clip:m}=e,x=n._loop?"angle":e.axis;t.save(),x==="x"&&c!==i&&(Iy(t,s,u.top),Fy(t,{line:n,target:s,color:i,scale:h,property:x,clip:m}),t.restore(),t.save(),Iy(t,s,u.bottom)),Fy(t,{line:n,target:s,color:c,scale:h,property:x,clip:m}),t.restore()}function Iy(t,e,n){const{segments:s,points:i}=e;let c=!0,u=!1;t.beginPath();for(const h of s){const{start:m,end:x}=h,y=i[m],b=i[R0(m,x,i)];c?(t.moveTo(y.x,y.y),c=!1):(t.lineTo(y.x,n),t.lineTo(y.x,y.y)),u=!!e.pathSegment(t,h,{move:u}),u?t.closePath():t.lineTo(b.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Fy(t,e){const{line:n,target:s,property:i,color:c,scale:u,clip:h}=e,m=JP(n,s,i);for(const{source:x,target:y,start:b,end:j}of m){const{style:{backgroundColor:C=c}={}}=x,k=s!==!0;t.save(),t.fillStyle=C,gE(t,u,h,k&&c0(i,b,j)),t.beginPath();const N=!!n.pathSegment(t,x);let P;if(k){N?t.closePath():By(t,s,j,i);const S=!!s.pathSegment(t,y,{move:N,reverse:!0});P=N&&S,P||By(t,s,b,i)}t.closePath(),t.fill(P?"evenodd":"nonzero"),t.restore()}}function gE(t,e,n,s){const i=e.chart.chartArea,{property:c,start:u,end:h}=s||{};if(c==="x"||c==="y"){let m,x,y,b;c==="x"?(m=u,x=i.top,y=h,b=i.bottom):(m=i.left,x=u,y=i.right,b=h),t.beginPath(),n&&(m=Math.max(m,n.left),y=Math.min(y,n.right),x=Math.max(x,n.top),b=Math.min(b,n.bottom)),t.rect(m,x,y-m,b-x),t.clip()}}function By(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var Q1={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let c,u,h,m;for(u=0;u<s;++u)c=t.getDatasetMeta(u),h=c.dataset,m=null,h&&h.options&&h instanceof Ki&&(m={visible:t.isDatasetVisible(u),index:u,fill:tE(h,u,s),chart:t,axis:c.controller.options.indexAxis,scale:c.vScale,line:h}),c.$filler=m,i.push(m);for(u=0;u<s;++u)m=i[u],!(!m||m.fill===!1)&&(m.fill=eE(i,u,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),c=t.chartArea;for(let u=i.length-1;u>=0;--u){const h=i[u].$filler;h&&(h.line.updateControlPoints(c,h.axis),s&&h.fill&&Ig(t.ctx,h,c))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const c=s[i].$filler;Dy(c)&&Ig(t.ctx,c,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Dy(s)||n.drawTime!=="beforeDatasetDraw"||Ig(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zy=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},xE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Wy extends oi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ft(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Yn(s.font),c=i.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:m}=zy(s,c);let x,y;n.font=i.string,this.isHorizontal()?(x=this.maxWidth,y=this._fitRows(u,c,h,m)+10):(y=this.maxHeight,x=this._fitCols(u,i,h,m)+10),this.width=Math.min(x,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:c,maxWidth:u,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],x=this.lineWidths=[0],y=i+h;let b=e;c.textAlign="left",c.textBaseline="middle";let j=-1,C=-y;return this.legendItems.forEach((k,N)=>{const P=s+n/2+c.measureText(k.text).width;(N===0||x[x.length-1]+P+2*h>u)&&(b+=y,x[x.length-(N>0?0:1)]=0,C+=y,j++),m[N]={left:0,top:C,row:j,width:P,height:i},x[x.length-1]+=P+h}),b}_fitCols(e,n,s,i){const{ctx:c,maxHeight:u,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],x=this.columnSizes=[],y=u-e;let b=h,j=0,C=0,k=0,N=0;return this.legendItems.forEach((P,S)=>{const{itemWidth:F,itemHeight:B}=yE(s,n,c,P,i);S>0&&C+B+2*h>y&&(b+=j+h,x.push({width:j,height:C}),k+=j+h,N++,j=C=0),m[S]={left:k,top:C,col:N,width:F,height:B},j=Math.max(j,F),C+=B+h}),b+=j,x.push({width:j,height:C}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:c}}=this,u=Yc(c,this.left,this.width);if(this.isHorizontal()){let h=0,m=Un(s,this.left+i,this.right-this.lineWidths[h]);for(const x of n)h!==x.row&&(h=x.row,m=Un(s,this.left+i,this.right-this.lineWidths[h])),x.top+=this.top+e+i,x.left=u.leftForLtr(u.x(m),x.width),m+=x.width+i}else{let h=0,m=Un(s,this.top+e+i,this.bottom-this.columnSizes[h].height);for(const x of n)x.col!==h&&(h=x.col,m=Un(s,this.top+e+i,this.bottom-this.columnSizes[h].height)),x.top=m,x.left+=this.left+i,x.left=u.leftForLtr(u.x(x.left),x.width),m+=x.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;op(e,this),this._draw(),lp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:c,labels:u}=e,h=sn.color,m=Yc(e.rtl,this.left,this.width),x=Yn(u.font),{padding:y}=u,b=x.size,j=b/2;let C;this.drawTitle(),i.textAlign=m.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=x.string;const{boxWidth:k,boxHeight:N,itemHeight:P}=zy(u,b),S=function(q,ne,J){if(isNaN(k)||k<=0||isNaN(N)||N<0)return;i.save();const fe=at(J.lineWidth,1);if(i.fillStyle=at(J.fillStyle,h),i.lineCap=at(J.lineCap,"butt"),i.lineDashOffset=at(J.lineDashOffset,0),i.lineJoin=at(J.lineJoin,"miter"),i.lineWidth=fe,i.strokeStyle=at(J.strokeStyle,h),i.setLineDash(at(J.lineDash,[])),u.usePointStyle){const ee={radius:N*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:fe},ie=m.xPlus(q,k/2),oe=ne+j;_1(i,ee,ie,oe,u.pointStyleWidth&&k)}else{const ee=ne+Math.max((b-N)/2,0),ie=m.leftForLtr(q,k),oe=ef(J.borderRadius);i.beginPath(),Object.values(oe).some(ke=>ke!==0)?i0(i,{x:ie,y:ee,w:k,h:N,radius:oe}):i.rect(ie,ee,k,N),i.fill(),fe!==0&&i.stroke()}i.restore()},F=function(q,ne,J){gf(i,J.text,q,ne+P/2,x,{strikethrough:J.hidden,textAlign:m.textAlign(J.textAlign)})},B=this.isHorizontal(),z=this._computeTitleHeight();B?C={x:Un(c,this.left+y,this.right-s[0]),y:this.top+y+z,line:0}:C={x:this.left+y,y:Un(c,this.top+z+y,this.bottom-n[0].height),line:0},P1(this.ctx,e.textDirection);const W=P+y;this.legendItems.forEach((q,ne)=>{i.strokeStyle=q.fontColor,i.fillStyle=q.fontColor;const J=i.measureText(q.text).width,fe=m.textAlign(q.textAlign||(q.textAlign=u.textAlign)),ee=k+j+J;let ie=C.x,oe=C.y;m.setWidth(this.width),B?ne>0&&ie+ee+y>this.right&&(oe=C.y+=W,C.line++,ie=C.x=Un(c,this.left+y,this.right-s[C.line])):ne>0&&oe+W>this.bottom&&(ie=C.x=ie+n[C.line].width+y,C.line++,oe=C.y=Un(c,this.top+z+y,this.bottom-n[C.line].height));const ke=m.x(ie);if(S(ke,oe,q),ie=uk(fe,ie+k+j,B?ie+ee:this.right,e.rtl),F(m.x(ie),oe,q),B)C.x+=ee+y;else if(typeof q.text!="string"){const Ee=x.lineHeight;C.y+=X1(q,Ee)+y}else C.y+=W}),E1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Yn(n.font),i=lr(n.padding);if(!n.display)return;const c=Yc(e.rtl,this.left,this.width),u=this.ctx,h=n.position,m=s.size/2,x=i.top+m;let y,b=this.left,j=this.width;if(this.isHorizontal())j=Math.max(...this.lineWidths),y=this.top+x,b=Un(e.align,b,this.right-j);else{const k=this.columnSizes.reduce((N,P)=>Math.max(N,P.height),0);y=x+Un(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const C=Un(h,b,b+j);u.textAlign=c.textAlign(S0(h)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=s.string,gf(u,n.text,C,y,s)}_computeTitleHeight(){const e=this.options.title,n=Yn(e.font),s=lr(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,c;if(tl(e,this.left,this.right)&&tl(n,this.top,this.bottom)){for(c=this.legendHitBoxes,s=0;s<c.length;++s)if(i=c[s],tl(e,i.left,i.left+i.width)&&tl(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!wE(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,c=xE(i,s);i&&!c&&Ft(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!c&&Ft(n.onHover,[e,s,this],this)}else s&&Ft(n.onClick,[e,s,this],this)}}function yE(t,e,n,s,i){const c=vE(s,t,e,n),u=bE(i,s,e.lineHeight);return{itemWidth:c,itemHeight:u}}function vE(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((c,u)=>c.length>u.length?c:u)),e+n.size/2+s.measureText(i).width}function bE(t,e,n){let s=t;return typeof e.text!="string"&&(s=X1(e,n)),s}function X1(t,e){const n=t.text?t.text.length:0;return e*n}function wE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var G1={id:"legend",_element:Wy,start(t,e,n){const s=t.legend=new Wy({ctx:t.ctx,options:n,chart:t});or.configure(t,s,n),or.addBox(t,s)},stop(t){or.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;or.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:c,useBorderRadius:u,borderRadius:h}}=t.legend.options;return t._getSortedDatasetMetas().map(m=>{const x=m.controller.getStyle(n?0:void 0),y=lr(x.borderWidth);return{text:e[m.index].label,fillStyle:x.backgroundColor,fontColor:c,hidden:!m.visible,lineCap:x.borderCapStyle,lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:x.borderColor,pointStyle:s||x.pointStyle,rotation:x.rotation,textAlign:i||x.textAlign,borderRadius:u&&(h||x.borderRadius),datasetIndex:m.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class J1 extends oi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=pn(s.text)?s.text.length:1;this._padding=lr(s.padding);const c=i*Yn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:c,options:u}=this,h=u.align;let m=0,x,y,b;return this.isHorizontal()?(y=Un(h,s,c),b=n+e,x=c-s):(u.position==="left"?(y=s+e,b=Un(h,i,n),m=Gt*-.5):(y=c-e,b=Un(h,n,i),m=Gt*.5),x=i-n),{titleX:y,titleY:b,maxWidth:x,rotation:m}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Yn(n.font),c=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:m,rotation:x}=this._drawArgs(c);gf(e,n.text,0,0,s,{color:n.color,maxWidth:m,rotation:x,textAlign:S0(n.align),textBaseline:"middle",translation:[u,h]})}}function _E(t,e){const n=new J1({ctx:t.ctx,options:e,chart:t});or.configure(t,n,e),or.addBox(t,n),t.titleBlock=n}var Z1={id:"title",_element:J1,start(t,e,n){_E(t,n)},stop(t){const e=t.titleBlock;or.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;or.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qd={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,c=0;for(e=0,n=t.length;e<n;++e){const h=t[e].element;if(h&&h.hasValue()){const m=h.tooltipPosition();s.add(m.x),i+=m.y,++c}}return c===0||s.size===0?!1:{x:[...s].reduce((h,m)=>h+m)/s.size,y:i/c}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,c,u,h;for(c=0,u=t.length;c<u;++c){const m=t[c].element;if(m&&m.hasValue()){const x=m.getCenterPoint(),y=n0(e,x);y<i&&(i=y,h=m)}}if(h){const m=h.tooltipPosition();n=m.x,s=m.y}return{x:n,y:s}}};function si(t,e){return e&&(pn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jE(t,e){const{element:n,datasetIndex:s,index:i}=e,c=t.getDatasetMeta(s).controller,{label:u,value:h}=c.getLabelAndValue(i);return{chart:t,label:u,parsed:c.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:h,dataset:c.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Hy(t,e){const n=t.chart.ctx,{body:s,footer:i,title:c}=t,{boxWidth:u,boxHeight:h}=e,m=Yn(e.bodyFont),x=Yn(e.titleFont),y=Yn(e.footerFont),b=c.length,j=i.length,C=s.length,k=lr(e.padding);let N=k.height,P=0,S=s.reduce((z,W)=>z+W.before.length+W.lines.length+W.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,b&&(N+=b*x.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),S){const z=e.displayColors?Math.max(h,m.lineHeight):m.lineHeight;N+=C*z+(S-C)*m.lineHeight+(S-1)*e.bodySpacing}j&&(N+=e.footerMarginTop+j*y.lineHeight+(j-1)*e.footerSpacing);let F=0;const B=function(z){P=Math.max(P,n.measureText(z).width+F)};return n.save(),n.font=x.string,St(t.title,B),n.font=m.string,St(t.beforeBody.concat(t.afterBody),B),F=e.displayColors?u+2+e.boxPadding:0,St(s,z=>{St(z.before,B),St(z.lines,B),St(z.after,B)}),F=0,n.font=y.string,St(t.footer,B),n.restore(),P+=k.width,{width:P,height:N}}function NE(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function SE(t,e,n,s){const{x:i,width:c}=s,u=n.caretSize+n.caretPadding;if(t==="left"&&i+c+u>e.width||t==="right"&&i-c-u<0)return!0}function kE(t,e,n,s){const{x:i,width:c}=n,{width:u,chartArea:{left:h,right:m}}=t;let x="center";return s==="center"?x=i<=(h+m)/2?"left":"right":i<=c/2?x="left":i>=u-c/2&&(x="right"),SE(x,t,e,n)&&(x="center"),x}function $y(t,e,n){const s=n.yAlign||e.yAlign||NE(t,n);return{xAlign:n.xAlign||e.xAlign||kE(t,e,n,s),yAlign:s}}function CE(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function PE(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Uy(t,e,n,s){const{caretSize:i,caretPadding:c,cornerRadius:u}=t,{xAlign:h,yAlign:m}=n,x=i+c,{topLeft:y,topRight:b,bottomLeft:j,bottomRight:C}=ef(u);let k=CE(e,h);const N=PE(e,m,x);return m==="center"?h==="left"?k+=x:h==="right"&&(k-=x):h==="left"?k-=Math.max(y,j)+i:h==="right"&&(k+=Math.max(b,C)+i),{x:as(k,0,s.width-e.width),y:as(N,0,s.height-e.height)}}function bm(t,e,n){const s=lr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Vy(t){return si([],Vi(t))}function EE(t,e,n){return fl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Yy(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const eb={beforeTitle:$i,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:$i,beforeBody:$i,beforeLabel:$i,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Rt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$i,afterBody:$i,beforeFooter:$i,footer:$i,afterFooter:$i};function Ns(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?eb[e].call(n,s):i}class u0 extends oi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,c=new L1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=EE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ns(s,"beforeTitle",this,e),c=Ns(s,"title",this,e),u=Ns(s,"afterTitle",this,e);let h=[];return h=si(h,Vi(i)),h=si(h,Vi(c)),h=si(h,Vi(u)),h}getBeforeBody(e,n){return Vy(Ns(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return St(e,c=>{const u={before:[],lines:[],after:[]},h=Yy(s,c);si(u.before,Vi(Ns(h,"beforeLabel",this,c))),si(u.lines,Ns(h,"label",this,c)),si(u.after,Vi(Ns(h,"afterLabel",this,c))),i.push(u)}),i}getAfterBody(e,n){return Vy(Ns(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ns(s,"beforeFooter",this,e),c=Ns(s,"footer",this,e),u=Ns(s,"afterFooter",this,e);let h=[];return h=si(h,Vi(i)),h=si(h,Vi(c)),h=si(h,Vi(u)),h}_createItems(e){const n=this._active,s=this.chart.data,i=[],c=[],u=[];let h=[],m,x;for(m=0,x=n.length;m<x;++m)h.push(jE(this.chart,n[m]));return e.filter&&(h=h.filter((y,b,j)=>e.filter(y,b,j,s))),e.itemSort&&(h=h.sort((y,b)=>e.itemSort(y,b,s))),St(h,y=>{const b=Yy(e.callbacks,y);i.push(Ns(b,"labelColor",this,y)),c.push(Ns(b,"labelPointStyle",this,y)),u.push(Ns(b,"labelTextColor",this,y))}),this.labelColors=i,this.labelPointStyles=c,this.labelTextColors=u,this.dataPoints=h,h}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let c,u=[];if(!i.length)this.opacity!==0&&(c={opacity:0});else{const h=qd[s.position].call(this,i,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const m=this._size=Hy(this,s),x=Object.assign({},h,m),y=$y(this.chart,s,x),b=Uy(s,x,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,c={opacity:1,x:b.x,y:b.y,width:m.width,height:m.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const c=this.getCaretPosition(e,s,i);n.lineTo(c.x1,c.y1),n.lineTo(c.x2,c.y2),n.lineTo(c.x3,c.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:c}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:m,topRight:x,bottomLeft:y,bottomRight:b}=ef(h),{x:j,y:C}=e,{width:k,height:N}=n;let P,S,F,B,z,W;return c==="center"?(z=C+N/2,i==="left"?(P=j,S=P-u,B=z+u,W=z-u):(P=j+k,S=P+u,B=z-u,W=z+u),F=P):(i==="left"?S=j+Math.max(m,y)+u:i==="right"?S=j+k-Math.max(x,b)-u:S=this.caretX,c==="top"?(B=C,z=B-u,P=S-u,F=S+u):(B=C+N,z=B+u,P=S+u,F=S-u),W=B),{x1:P,x2:S,x3:F,y1:B,y2:z,y3:W}}drawTitle(e,n,s){const i=this.title,c=i.length;let u,h,m;if(c){const x=Yc(s.rtl,this.x,this.width);for(e.x=bm(this,s.titleAlign,s),n.textAlign=x.textAlign(s.titleAlign),n.textBaseline="middle",u=Yn(s.titleFont),h=s.titleSpacing,n.fillStyle=s.titleColor,n.font=u.string,m=0;m<c;++m)n.fillText(i[m],x.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+h,m+1===c&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,n,s,i,c){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:m,boxWidth:x}=c,y=Yn(c.bodyFont),b=bm(this,"left",c),j=i.x(b),C=m<y.lineHeight?(y.lineHeight-m)/2:0,k=n.y+C;if(c.usePointStyle){const N={radius:Math.min(x,m)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},P=i.leftForLtr(j,x)+x/2,S=k+m/2;e.strokeStyle=c.multiKeyBackground,e.fillStyle=c.multiKeyBackground,r0(e,N,P,S),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,r0(e,N,P,S)}else{e.lineWidth=ft(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const N=i.leftForLtr(j,x),P=i.leftForLtr(i.xPlus(j,1),x-2),S=ef(u.borderRadius);Object.values(S).some(F=>F!==0)?(e.beginPath(),e.fillStyle=c.multiKeyBackground,i0(e,{x:N,y:k,w:x,h:m,radius:S}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),i0(e,{x:P,y:k+1,w:x-2,h:m-2,radius:S}),e.fill()):(e.fillStyle=c.multiKeyBackground,e.fillRect(N,k,x,m),e.strokeRect(N,k,x,m),e.fillStyle=u.backgroundColor,e.fillRect(P,k+1,x-2,m-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:c,bodyAlign:u,displayColors:h,boxHeight:m,boxWidth:x,boxPadding:y}=s,b=Yn(s.bodyFont);let j=b.lineHeight,C=0;const k=Yc(s.rtl,this.x,this.width),N=function(J){n.fillText(J,k.x(e.x+C),e.y+j/2),e.y+=j+c},P=k.textAlign(u);let S,F,B,z,W,q,ne;for(n.textAlign=u,n.textBaseline="middle",n.font=b.string,e.x=bm(this,P,s),n.fillStyle=s.bodyColor,St(this.beforeBody,N),C=h&&P!=="right"?u==="center"?x/2+y:x+2+y:0,z=0,q=i.length;z<q;++z){for(S=i[z],F=this.labelTextColors[z],n.fillStyle=F,St(S.before,N),B=S.lines,h&&B.length&&(this._drawColorBox(n,e,z,k,s),j=Math.max(b.lineHeight,m)),W=0,ne=B.length;W<ne;++W)N(B[W]),j=b.lineHeight;St(S.after,N)}C=0,j=b.lineHeight,St(this.afterBody,N),e.y-=c}drawFooter(e,n,s){const i=this.footer,c=i.length;let u,h;if(c){const m=Yc(s.rtl,this.x,this.width);for(e.x=bm(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=m.textAlign(s.footerAlign),n.textBaseline="middle",u=Yn(s.footerFont),n.fillStyle=s.footerColor,n.font=u.string,h=0;h<c;++h)n.fillText(i[h],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:c,yAlign:u}=this,{x:h,y:m}=e,{width:x,height:y}=s,{topLeft:b,topRight:j,bottomLeft:C,bottomRight:k}=ef(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(h+b,m),u==="top"&&this.drawCaret(e,n,s,i),n.lineTo(h+x-j,m),n.quadraticCurveTo(h+x,m,h+x,m+j),u==="center"&&c==="right"&&this.drawCaret(e,n,s,i),n.lineTo(h+x,m+y-k),n.quadraticCurveTo(h+x,m+y,h+x-k,m+y),u==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(h+C,m+y),n.quadraticCurveTo(h,m+y,h,m+y-C),u==="center"&&c==="left"&&this.drawCaret(e,n,s,i),n.lineTo(h,m+b),n.quadraticCurveTo(h,m,h+b,m),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,c=s&&s.y;if(i||c){const u=qd[e.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Hy(this,e),m=Object.assign({},u,this._size),x=$y(n,e,m),y=Uy(e,m,x,n);(i._to!==y.x||c._to!==y.y)&&(this.xAlign=x.xAlign,this.yAlign=x.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},c={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=lr(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(c,e,i,n),P1(e,n.textDirection),c.y+=u.top,this.drawTitle(c,e,n),this.drawBody(c,e,n),this.drawFooter(c,e,n),E1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:h,index:m})=>{const x=this.chart.getDatasetMeta(h);if(!x)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:x.data[m],index:m}}),c=!Im(s,i),u=this._positionChanged(i,n);(c||u)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,c=this._active||[],u=this._getActiveElements(e,c,n,s),h=this._positionChanged(u,e),m=n||!Im(u,c)||h;return m&&(this._active=u,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),m}_getActiveElements(e,n,s,i){const c=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,c.mode,c,s);return c.reverse&&u.reverse(),u}_positionChanged(e,n){const{caretX:s,caretY:i,options:c}=this,u=qd[c.position].call(this,e,n);return u!==!1&&(s!==u.x||i!==u.y)}}$e(u0,"positioners",qd);var tb={id:"tooltip",_element:u0,positioners:qd,afterInit(t,e,n){n&&(t.tooltip=new u0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const OE=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function AE(t,e,n,s){const i=t.indexOf(e);if(i===-1)return OE(t,e,n,s);const c=t.lastIndexOf(e);return i!==c?n:i}const TE=(t,e)=>t===null?null:as(Math.round(t),0,e);function qy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Um extends ru{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:c}of n)s[i]===c&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Rt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:AE(s,e,at(n,e),this._addedLabels),TE(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let c=this.getLabels();c=e===0&&n===c.length-1?c:c.slice(e,n+1),this._valueRange=Math.max(c.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=e;u<=n;u++)i.push({value:u});return i}getLabelForValue(e){return qy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$e(Um,"id","category"),$e(Um,"defaults",{ticks:{callback:qy}});function ME(t,e){const n=[],{bounds:i,step:c,min:u,max:h,precision:m,count:x,maxTicks:y,maxDigits:b,includeBounds:j}=t,C=c||1,k=y-1,{min:N,max:P}=e,S=!Rt(u),F=!Rt(h),B=!Rt(x),z=(P-N)/(b+1);let W=qx((P-N)/k/C)*C,q,ne,J,fe;if(W<1e-14&&!S&&!F)return[{value:N},{value:P}];fe=Math.ceil(P/W)-Math.floor(N/W),fe>k&&(W=qx(fe*W/k/C)*C),Rt(m)||(q=Math.pow(10,m),W=Math.ceil(W*q)/q),i==="ticks"?(ne=Math.floor(N/W)*W,J=Math.ceil(P/W)*W):(ne=N,J=P),S&&F&&c&&ek((h-u)/c,W/1e3)?(fe=Math.round(Math.min((h-u)/W,y)),W=(h-u)/fe,ne=u,J=h):B?(ne=S?u:ne,J=F?h:J,fe=x-1,W=(J-ne)/fe):(fe=(J-ne)/W,Gd(fe,Math.round(fe),W/1e3)?fe=Math.round(fe):fe=Math.ceil(fe));const ee=Math.max(Kx(W),Kx(ne));q=Math.pow(10,Rt(m)?ee:m),ne=Math.round(ne*q)/q,J=Math.round(J*q)/q;let ie=0;for(S&&(j&&ne!==u?(n.push({value:u}),ne<u&&ie++,Gd(Math.round((ne+ie*W)*q)/q,u,Ky(u,z,t))&&ie++):ne<u&&ie++);ie<fe;++ie){const oe=Math.round((ne+ie*W)*q)/q;if(F&&oe>h)break;n.push({value:oe})}return F&&j&&J!==h?n.length&&Gd(n[n.length-1].value,h,Ky(h,z,t))?n[n.length-1].value=h:n.push({value:h}):(!F||J===h)&&n.push({value:J}),n}function Ky(t,e,{horizontal:n,minRotation:s}){const i=qi(s),c=(n?Math.sin(i):Math.cos(i))||.001,u=.75*e*(""+t).length;return Math.min(e/c,u)}class LE extends ru{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:c}=this;const u=m=>i=n?i:m,h=m=>c=s?c:m;if(e){const m=Qc(i),x=Qc(c);m<0&&x<0?h(0):m>0&&x>0&&u(0)}if(i===c){let m=c===0?1:Math.abs(c*.05);h(c+m),e||u(i-m)}this.min=i,this.max=c}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},c=this._range||this,u=ME(i,c);return e.bounds==="ticks"&&tk(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return C0(e,this.chart.options.locale,this.options.ticks.format)}}class Vm extends LE{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Kn(e)?e:0,this.max=Kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=qi(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,c.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$e(Vm,"id","linear"),$e(Vm,"defaults",{ticks:{callback:w1.formatters.numeric}});const dp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ss=Object.keys(dp);function Qy(t,e){return t-e}function Xy(t,e){if(Rt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:c}=t._parseOpts;let u=e;return typeof s=="function"&&(u=s(u)),Kn(u)||(u=typeof s=="string"?n.parse(u,s):n.parse(u)),u===null?null:(i&&(u=i==="week"&&(hf(c)||c===!0)?n.startOf(u,"isoWeek",c):n.startOf(u,i)),+u)}function Gy(t,e,n,s){const i=Ss.length;for(let c=Ss.indexOf(t);c<i-1;++c){const u=dp[Ss[c]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-e)/(h*u.size))<=s)return Ss[c]}return Ss[i-1]}function RE(t,e,n,s,i){for(let c=Ss.length-1;c>=Ss.indexOf(n);c--){const u=Ss[c];if(dp[u].common&&t._adapter.diff(i,s,u)>=e-1)return u}return Ss[n?Ss.indexOf(n):0]}function DE(t){for(let e=Ss.indexOf(t)+1,n=Ss.length;e<n;++e)if(dp[Ss[e]].common)return Ss[e]}function Jy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=N0(n,e),c=n[s]>=e?n[s]:n[i];t[c]=!0}}function IE(t,e,n,s){const i=t._adapter,c=+i.startOf(e[0].value,s),u=e[e.length-1].value;let h,m;for(h=c;h<=u;h=+i.add(h,1,s))m=n[h],m>=0&&(e[m].major=!0);return e}function Zy(t,e,n){const s=[],i={},c=e.length;let u,h;for(u=0;u<c;++u)h=e[u],i[h]=u,s.push({value:h,major:!1});return c===0||!n?s:IE(t,s,i,n)}class Ym extends ru{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new EC._date(e.adapters.date);i.init(n),Xd(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Xy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:c,minDefined:u,maxDefined:h}=this.getUserBounds();function m(x){!u&&!isNaN(x.min)&&(i=Math.min(i,x.min)),!h&&!isNaN(x.max)&&(c=Math.max(c,x.max))}(!u||!h)&&(m(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&m(this.getMinMax(!1))),i=Kn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),c=Kn(c)&&!isNaN(c)?c:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,c-1),this.max=Math.max(i+1,c)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const c=this.min,u=this.max,h=ak(i,c,u);return this._unit=n.unit||(s.autoSkip?Gy(n.minUnit,this.min,this.max,this._getLabelCapacity(c)):RE(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:DE(this._unit),this.initOffsets(i),e.reverse&&h.reverse(),Zy(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,c;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,c=this.getDecimalForValue(e[e.length-1]),e.length===1?s=c:s=(c-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;n=as(n,0,u),s=as(s,0,u),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,c=i.time,u=c.unit||Gy(c.minUnit,n,s,this._getLabelCapacity(n)),h=at(i.ticks.stepSize,1),m=u==="week"?c.isoWeekday:!1,x=hf(m)||m===!0,y={};let b=n,j,C;if(x&&(b=+e.startOf(b,"isoWeek",m)),b=+e.startOf(b,x?"day":u),e.diff(s,n,u)>1e5*h)throw new Error(n+" and "+s+" are too far apart with stepSize of "+h+" "+u);const k=i.ticks.source==="data"&&this.getDataTimestamps();for(j=b,C=0;j<s;j=+e.add(j,h,u),C++)Jy(y,j,k);return(j===s||i.bounds==="ticks"||C===1)&&Jy(y,j,k),Object.keys(y).sort(Qy).map(N=>+N)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,c=this._unit,u=n||i[c];return this._adapter.format(e,u)}_tickFormatFunction(e,n,s,i){const c=this.options,u=c.ticks.callback;if(u)return Ft(u,[e,n,s],this);const h=c.time.displayFormats,m=this._unit,x=this._majorUnit,y=m&&h[m],b=x&&h[x],j=s[n],C=x&&b&&j&&j.major;return this._adapter.format(e,i||(C?b:y))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=qi(this.isHorizontal()?n.maxRotation:n.minRotation),c=Math.cos(i),u=Math.sin(i),h=this._resolveTickFontOptions(0).size;return{w:s*c+h*u,h:s*u+h*c}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,c=this._tickFormatFunction(e,0,Zy(this,[e],this._majorUnit),i),u=this._getLabelSize(c),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Xy(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lk(e.sort(Qy))}}$e(Ym,"id","time"),$e(Ym,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wm(t,e,n){let s=0,i=t.length-1,c,u,h,m;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=nl(t,"pos",e)),{pos:c,time:h}=t[s],{pos:u,time:m}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=nl(t,"time",e)),{time:c,pos:h}=t[s],{time:u,pos:m}=t[i]);const x=u-c;return x?h+(m-h)*(e-c)/x:h}class ev extends Ym{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=wm(n,this.min),this._tableRange=wm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],c=[];let u,h,m,x,y;for(u=0,h=e.length;u<h;++u)x=e[u],x>=n&&x<=s&&i.push(x);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(u=0,h=i.length;u<h;++u)y=i[u+1],m=i[u-1],x=i[u],Math.round((y+m)/2)!==x&&c.push({time:x,pos:u/(h-1)});return c}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,c)=>i-c)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(wm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return wm(this._table,s*this._tableRange+this._minPos,!0)}}$e(ev,"id","timeseries"),$e(ev,"defaults",Ym.defaults);const nb="label";function tv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function sb(t,e){t.labels=e}function rb(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nb;const s=[];t.datasets=e.map(i=>{const c=t.datasets.find(u=>u[n]===i[n]);return!c||!i.data||s.includes(c)?{...i}:(s.push(c),Object.assign(c,i),c)})}function BE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nb;const n={labels:[],datasets:[]};return sb(n,t.labels),rb(n,t.datasets,e),n}function zE(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:c,type:u,data:h,options:m,plugins:x=[],fallbackContent:y,updateMode:b,...j}=t,C=R.useRef(null),k=R.useRef(null),N=()=>{C.current&&(k.current=new _f(C.current,{type:u,data:BE(h,c),options:m&&{...m},plugins:x}),tv(e,k.current))},P=()=>{tv(e,null),k.current&&(k.current.destroy(),k.current=null)};return R.useEffect(()=>{!i&&k.current&&m&&FE(k.current,m)},[i,m]),R.useEffect(()=>{!i&&k.current&&sb(k.current.config.data,h.labels)},[i,h.labels]),R.useEffect(()=>{!i&&k.current&&h.datasets&&rb(k.current.config.data,h.datasets,c)},[i,h.datasets]),R.useEffect(()=>{k.current&&(i?(P(),setTimeout(N)):k.current.update(b))},[i,m,h.labels,h.datasets,b]),R.useEffect(()=>{k.current&&(P(),setTimeout(N))},[u]),R.useEffect(()=>(N(),()=>P()),[]),st.createElement("canvas",{ref:C,role:"img",height:n,width:s,...j},y)}const WE=R.forwardRef(zE);function ib(t,e){return _f.register(e),R.forwardRef((n,s)=>st.createElement(WE,{...n,ref:s,type:t}))}const ab=ib("line",Cm),ob=ib("doughnut",Vd),Hs=({title:t,subtitle:e,breadcrumbs:n=[],actionButton:s})=>l.jsxs("div",{className:"mb-6",children:[n.length>0&&l.jsx("nav",{className:"mb-2",children:l.jsx("ol",{className:"flex text-sm text-gray-500",children:n.map((i,c)=>l.jsxs("li",{className:"flex items-center",children:[c>0&&l.jsx(uj,{className:"mx-2 h-4 w-4 text-gray-400"}),c===n.length-1?l.jsx("span",{className:"text-gray-700",children:i.text}):l.jsx(zt,{to:i.link,className:"text-gray-500 hover:text-primary-600 hover:underline",children:i.text})]},c))})}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t}),e&&l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),s&&l.jsx("div",{className:"mt-4 sm:mt-0",children:s})]})]}),Ha=({title:t,value:e,icon:n,change:s,changeType:i="neutral",cardClass:c=""})=>{const u=i==="positive"?"text-success-500":i==="negative"?"text-error-500":"text-gray-500";return l.jsxs("div",{className:`card flex flex-col ${c}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),n&&l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-50 flex items-center justify-center",children:n})]}),l.jsxs("div",{className:"flex items-baseline",children:[l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e}),s&&l.jsx("span",{className:`ml-2 text-sm ${u} flex items-center`,children:s})]})]})};function Pr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ul(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lb=6048e5,HE=864e5;let $E={};function fp(){return $E}function yf(t,e){var h,m,x,y;const n=fp(),s=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,i=Pr(t),c=i.getDay(),u=(c<s?7:0)+c-s;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function qm(t){return yf(t,{weekStartsOn:1})}function cb(t){const e=Pr(t),n=e.getFullYear(),s=ul(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=qm(s),c=ul(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=qm(c);return e.getTime()>=i.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}function nv(t){const e=Pr(t);return e.setHours(0,0,0,0),e}function sv(t){const e=Pr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function UE(t,e){const n=nv(t),s=nv(e),i=+n-sv(n),c=+s-sv(s);return Math.round((i-c)/HE)}function VE(t){const e=cb(t),n=ul(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),qm(n)}function YE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qE(t){if(!YE(t)&&typeof t!="number")return!1;const e=Pr(t);return!isNaN(Number(e))}function KE(t){const e=Pr(t),n=ul(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const QE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XE=(t,e,n)=>{let s;const i=QE[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Fg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eO={date:Fg({formats:GE,defaultWidth:"full"}),time:Fg({formats:JE,defaultWidth:"full"}),dateTime:Fg({formats:ZE,defaultWidth:"full"})},tO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nO=(t,e,n,s)=>tO[t];function Hd(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):u;i=t.formattingValues[h]||t.formattingValues[u]}else{const u=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[h]||t.values[u]}const c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}const sO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cO=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uO={ordinalNumber:cO,era:Hd({values:sO,defaultWidth:"wide"}),quarter:Hd({values:rO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hd({values:iO,defaultWidth:"wide"}),day:Hd({values:aO,defaultWidth:"wide"}),dayPeriod:Hd({values:oO,defaultWidth:"wide",formattingValues:lO,defaultFormattingWidth:"wide"})};function $d(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],c=e.match(i);if(!c)return null;const u=c[0],h=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(h)?fO(h,b=>b.test(u)):dO(h,b=>b.test(u));let x;x=t.valueCallback?t.valueCallback(m):m,x=n.valueCallback?n.valueCallback(x):x;const y=e.slice(u.length);return{value:x,rest:y}}}function dO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function fO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hO(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],c=e.match(t.parsePattern);if(!c)return null;let u=t.valueCallback?t.valueCallback(c[0]):c[0];u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(i.length);return{value:u,rest:h}}}const mO=/^(\d+)(th|st|nd|rd)?/i,pO=/\d+/i,gO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xO={any:[/^b/i,/^(a|c)/i]},yO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vO={any:[/1/i,/2/i,/3/i,/4/i]},bO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_O={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kO={ordinalNumber:hO({matchPattern:mO,parsePattern:pO,valueCallback:t=>parseInt(t,10)}),era:$d({matchPatterns:gO,defaultMatchWidth:"wide",parsePatterns:xO,defaultParseWidth:"any"}),quarter:$d({matchPatterns:yO,defaultMatchWidth:"wide",parsePatterns:vO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$d({matchPatterns:bO,defaultMatchWidth:"wide",parsePatterns:wO,defaultParseWidth:"any"}),day:$d({matchPatterns:_O,defaultMatchWidth:"wide",parsePatterns:jO,defaultParseWidth:"any"}),dayPeriod:$d({matchPatterns:NO,defaultMatchWidth:"any",parsePatterns:SO,defaultParseWidth:"any"})},CO={code:"en-US",formatDistance:XE,formatLong:eO,formatRelative:nO,localize:uO,match:kO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PO(t){const e=Pr(t);return UE(e,KE(e))+1}function EO(t){const e=Pr(t),n=+qm(e)-+VE(e);return Math.round(n/lb)+1}function ub(t,e){var y,b,j,C;const n=Pr(t),s=n.getFullYear(),i=fp(),c=(e==null?void 0:e.firstWeekContainsDate)??((b=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(j=i.locale)==null?void 0:j.options)==null?void 0:C.firstWeekContainsDate)??1,u=ul(t,0);u.setFullYear(s+1,0,c),u.setHours(0,0,0,0);const h=yf(u,e),m=ul(t,0);m.setFullYear(s,0,c),m.setHours(0,0,0,0);const x=yf(m,e);return n.getTime()>=h.getTime()?s+1:n.getTime()>=x.getTime()?s:s-1}function OO(t,e){var h,m,x,y;const n=fp(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,i=ub(t,e),c=ul(t,0);return c.setFullYear(i,0,s),c.setHours(0,0,0,0),yf(c,e)}function AO(t,e){const n=Pr(t),s=+yf(n,e)-+OO(n,e);return Math.round(s/lb)+1}function Nt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Ia={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Nt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Nt(i,e.length)}},$c={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rv={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ia.y(t,e)},Y:function(t,e,n,s){const i=ub(t,s),c=i>0?i:1-i;if(e==="YY"){const u=c%100;return Nt(u,2)}return e==="Yo"?n.ordinalNumber(c,{unit:"year"}):Nt(c,e.length)},R:function(t,e){const n=cb(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Nt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Nt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Ia.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Nt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=AO(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const s=EO(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Nt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ia.d(t,e)},D:function(t,e,n){const s=PO(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Nt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),c=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Nt(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),c=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Nt(c,e.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=$c.noon:s===0?i=$c.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=$c.evening:s>=12?i=$c.afternoon:s>=4?i=$c.morning:i=$c.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ia.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ia.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Nt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Nt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ia.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ia.s(t,e)},S:function(t,e){return Ia.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return av(s);case"XXXX":case"XX":return Zo(s);case"XXXXX":case"XXX":default:return Zo(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return av(s);case"xxxx":case"xx":return Zo(s);case"xxxxx":case"xxx":default:return Zo(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iv(s,":");case"OOOO":default:return"GMT"+Zo(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iv(s,":");case"zzzz":default:return"GMT"+Zo(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return Nt(s,e.length)},T:function(t,e,n){const s=t.getTime();return Nt(s,e.length)}};function iv(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),c=s%60;return c===0?n+String(i):n+String(i)+e+Nt(c,2)}function av(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):Zo(t,e)}function Zo(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Nt(Math.trunc(s/60),2),c=Nt(s%60,2);return n+i+e+c}const ov=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},db=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},TO=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return ov(t,e);let c;switch(s){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",ov(s,e)).replace("{{time}}",db(i,e))},MO={p:db,P:TO},LO=/^D+$/,RO=/^Y+$/,DO=["D","DD","YY","YYYY"];function IO(t){return LO.test(t)}function FO(t){return RO.test(t)}function BO(t,e,n){const s=zO(t,e,n);if(console.warn(s),DO.includes(t))throw new RangeError(s)}function zO(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$O=/^'([^]*?)'?$/,UO=/''/g,VO=/[a-zA-Z]/;function ol(t,e,n){var y,b,j,C;const s=fp(),i=s.locale??CO,c=s.firstWeekContainsDate??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,u=s.weekStartsOn??((C=(j=s.locale)==null?void 0:j.options)==null?void 0:C.weekStartsOn)??0,h=Pr(t);if(!qE(h))throw new RangeError("Invalid time value");let m=e.match(HO).map(k=>{const N=k[0];if(N==="p"||N==="P"){const P=MO[N];return P(k,i.formatLong)}return k}).join("").match(WO).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const N=k[0];if(N==="'")return{isToken:!1,value:YO(k)};if(rv[N])return{isToken:!0,value:k};if(N.match(VO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(m=i.localize.preprocessor(h,m));const x={firstWeekContainsDate:c,weekStartsOn:u,locale:i};return m.map(k=>{if(!k.isToken)return k.value;const N=k.value;(FO(N)||IO(N))&&BO(N,e,String(t));const P=rv[N[0]];return P(h,N,i.localize,x)}).join("")}function YO(t){const e=t.match($O);return e?e[1].replace(UO,"'"):t}_f.register(Uc,tb,G1,Um,Vm,tf,Ki,Z1,Q1);const qO=()=>{const{user:t}=Qn(),[e,n]=R.useState(!0),[s,i]=R.useState([]),[c,u]=R.useState([]),[h,m]=R.useState(null),[x,y]=R.useState("Last 7 days"),[b,j]=R.useState(0),[C,k]=R.useState(0),N=li(),P=(t==null?void 0:t.role)==="worker",S=T=>T?typeof T=="string"?T:typeof T=="object"&&(T.en||T.ar)||"Product":"Product",F=T=>T?typeof T=="string"?T:typeof T=="object"?S(T.name):"Other":"Other";R.useEffect(()=>{t&&(async()=>{var M,G,D;n(!0),m(null);try{let O;if((t==null?void 0:t.role)==="worker"?O=((M=t==null?void 0:t.assignedShop)==null?void 0:M._id)||(t==null?void 0:t.assignedShop):O=((G=t==null?void 0:t.managedShops)==null?void 0:G[0])&&t.managedShops[0]._id||((D=t==null?void 0:t.managedShops)==null?void 0:D[0])||(Array.isArray(t==null?void 0:t.managedShop)?t.managedShop[0]:null),!O){(t==null?void 0:t.role)==="worker"?m("No shop assigned to this worker."):(N("/settings",{replace:!0}),m("No shop found for this user.")),n(!1);return}const[V,H]=await Promise.all([gt("/api/products"),gt("/api/orders")]);let te;P?te=(V.data||V).filter(K=>{var pe;return K.shop===O||((pe=K.shop)==null?void 0:pe._id)===O}):te=(V.data||V).filter(K=>K.createdBy?typeof K.createdBy=="string"?K.createdBy===t._id:typeof K.createdBy=="object"&&K.createdBy._id?K.createdBy._id===t._id:!1:!1),i(te);const ce=te.filter(Oe=>Oe.status==="Low Stock").length;k(ce);const he=(H.data||H).filter(Oe=>{var K;return Oe.shop===O||((K=Oe.shop)==null?void 0:K._id)===O});u(he)}catch(O){console.error("Failed to fetch dashboard data:",O),m("Failed to fetch dashboard data.")}finally{n(!1)}})()},[t,b,N]);const B=c.reduce((T,M)=>{var G;return T+(((G=M.pricing)==null?void 0:G.totalAmount)||0)},0),z=new Set(c.map(T=>T.user||T.userId)).size,W=c.sort((T,M)=>new Date(M.createdAt)-new Date(T.createdAt)).slice(0,5).map(T=>{var D,O,V,H;const M=T.pricing.totalAmount||0;let G;return M>=1e9?G=M/1e9%1===0?`${Math.floor(M/1e9)}B QAR`:`${(M/1e9).toFixed(1)}B QAR`:M>=1e6?G=M/1e6%1===0?`${Math.floor(M/1e6)}M QAR`:`${(M/1e6).toFixed(1)}M QAR`:M>=1e3?G=M/1e3%1===0?`${Math.floor(M/1e3)}K QAR`:`${(M/1e3).toFixed(1)}K QAR`:G=`${Math.floor(M)} QAR`,{id:T._id,customer:((D=T.user)==null?void 0:D.name)||((O=T.user)==null?void 0:O.fullName)||((V=T.customer)==null?void 0:V.name)||((H=T.customer)==null?void 0:H.fullName)||(T.user&&typeof T.user=="string"?T.user:null)||(T.customer&&typeof T.customer=="string"?T.customer:null)||T.userName||T.customerName||"Customer",total:G,date:new Date(T.createdAt),status:T.status||"Pending"}}),q={};s.forEach(T=>{const M=F(T.category);q[M]=(q[M]||0)+1});const ne=Object.keys(q),J=Object.values(q),fe=()=>{let T=[],M=[];const G=new Date;if(x==="Last 7 days")for(let D=6;D>=0;D--){const O=new Date(G);O.setDate(G.getDate()-D),T.push(O.toLocaleDateString("en-US",{month:"short",day:"2-digit"}));const V=new Date(O.setHours(0,0,0,0)),H=new Date(O.setHours(23,59,59,999)),te=c.filter(ce=>{const U=new Date(ce.createdAt);return U>=V&&U<=H}).reduce((ce,U)=>{var he;return ce+(((he=U.pricing)==null?void 0:he.totalAmount)||0)},0);M.push(te)}else if(x==="Last 30 days")for(let D=29;D>=0;D--){const O=new Date(G);O.setDate(G.getDate()-D),T.push(O.toLocaleDateString("en-US",{month:"short",day:"2-digit"}));const V=new Date(O.setHours(0,0,0,0)),H=new Date(O.setHours(23,59,59,999)),te=c.filter(ce=>{const U=new Date(ce.createdAt);return U>=V&&U<=H}).reduce((ce,U)=>{var he;return ce+(((he=U.pricing)==null?void 0:he.totalAmount)||0)},0);M.push(te)}else if(x==="Last 3 months")for(let D=2;D>=0;D--){const O=new Date(G.getFullYear(),G.getMonth()-D,1);T.push(O.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));const V=new Date(O.getFullYear(),O.getMonth(),1),H=new Date(O.getFullYear(),O.getMonth()+1,0,23,59,59,999),te=c.filter(ce=>{const U=new Date(ce.createdAt);return U>=V&&U<=H}).reduce((ce,U)=>{var he;return ce+(((he=U.pricing)==null?void 0:he.totalAmount)||0)},0);M.push(te)}else if(x==="Last year")for(let D=11;D>=0;D--){const O=new Date(G.getFullYear(),G.getMonth()-D,1);T.push(O.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));const V=new Date(O.getFullYear(),O.getMonth(),1),H=new Date(O.getFullYear(),O.getMonth()+1,0,23,59,59,999),te=c.filter(ce=>{const U=new Date(ce.createdAt);return U>=V&&U<=H}).reduce((ce,U)=>{var he;return ce+(((he=U.pricing)==null?void 0:he.totalAmount)||0)},0);M.push(te)}return{labels:T,sales:M}},{labels:ee,sales:ie}=fe(),oe={labels:ee,datasets:[{label:"Sales",data:ie,fill:!0,backgroundColor:"rgba(0, 102, 204, 0.1)",borderColor:"rgba(0, 102, 204, 0.7)",tension:.4}]},ke={labels:ne.length>0?ne:["No Categories"],datasets:[{data:J.length>0?J:[1],backgroundColor:["#0066CC","#FF9500","#34C759","#5856D6","#FF3B30","#AF52DE","#FF9500"],borderWidth:0}]},Ee=s.filter(T=>T.status==="Low Stock").slice(0,3).map(T=>{var M;return{id:T._id,name:S(T.name),stock:((M=T.variants)==null?void 0:M.reduce((G,D)=>G+(D.stock||0),0))||0,category:F(T.category)}}),we={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1},title:{display:!0,text:"Revenue",font:{size:12,weight:"bold"},padding:{bottom:10}},ticks:{callback:function(T){return T>=1e9?T/1e9%1===0?Math.floor(T/1e9)+"B":(T/1e9).toFixed(1)+"B":T>=1e6?T/1e6%1===0?Math.floor(T/1e6)+"M":(T/1e6).toFixed(1)+"M":T>=1e3?T/1e3%1===0?Math.floor(T/1e3)+"K":(T/1e3).toFixed(1)+"K":T}}},x:{grid:{display:!1}}},elements:{line:{borderWidth:2},point:{radius:3,hoverRadius:5}}},ye={responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15}}},cutout:"70%"};return e?l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((T,M)=>l.jsx("div",{className:"h-28 bg-gray-200 rounded"},M))}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):h?l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),l.jsx("p",{className:"text-gray-600 mb-4",children:h}),l.jsx("button",{onClick:()=>j(T=>T+1),className:"btn btn-primary",children:"Retry"})]})}):t?l.jsxs("div",{children:[l.jsx(Hs,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your store"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsx(Ha,{title:"Total Products",value:s.length||"0",icon:l.jsx(ai,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"}),l.jsx(Ha,{title:"Total Orders",value:c.length||"0",icon:l.jsx(rf,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"}),l.jsx(Ha,{title:"Revenue",value:B>=1e9?B/1e9%1===0?`${Math.floor(B/1e9)}B QAR`:`${(B/1e9).toFixed(1)}B QAR`:B>=1e6?B/1e6%1===0?`${Math.floor(B/1e6)}M QAR`:`${(B/1e6).toFixed(1)}M QAR`:B>=1e3?B/1e3%1===0?`${Math.floor(B/1e3)}K QAR`:`${(B/1e3).toFixed(1)}K QAR`:`${Math.floor(B)} QAR`,icon:l.jsx(u1,{className:"h-fit w-5 text-primary-500"}),changeType:"negative"}),l.jsx(Ha,{title:"Customers",value:z||"0",icon:l.jsx(p0,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales Overview"}),l.jsxs("select",{className:"form-input !w-auto py-1",value:x,onChange:T=>y(T.target.value),children:[l.jsx("option",{children:"Last 7 days"}),l.jsx("option",{children:"Last 30 days"}),l.jsx("option",{children:"Last 3 months"}),l.jsx("option",{children:"Last year"})]})]}),l.jsx("div",{className:"h-72",children:l.jsx(ab,{data:oe,options:we})}),l.jsx("div",{className:"mt-2 text-xs text-gray-500 flex justify-end",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"B"}),": Billion"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"M"}),": Million"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"K"}),": Thousand"]})]})})]})}),l.jsx("div",{children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Product Categories"}),l.jsx("div",{className:"h-72 flex items-center justify-center",children:l.jsx(ob,{data:ke,options:ye})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Orders"}),l.jsx(zt,{to:"/orders",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Order ID"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Total"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:W.length>0?W.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.jsx("p",{className:"text-primary-600 hover:text-primary-700",children:T.id})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:T.customer}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ol(T.date,"MMM dd, yyyy")}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:T.total}),l.jsx("td",{className:"px-4 py-4 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${T.status==="pending"?"bg-yellow-100 text-yellow-700":T.status==="confirmed"?"bg-blue-100 text-blue-700":T.status==="preparing"?"bg-indigo-100 text-indigo-700":T.status==="ready"?"bg-purple-100 text-purple-700":T.status==="Out for Delivery"?"bg-orange-100 text-orange-700":T.status==="delivered"?"bg-green-100 text-green-700":T.status==="cancelled"?"bg-red-100 text-red-700":(T.status==="refunded","bg-gray-100 text-gray-700")}`,children:T.status})})]},T.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No orders found"})})})]})})]})}),l.jsx("div",{children:l.jsxs("div",{className:`card ${Ee.length>0?"border-red-200 bg-red-50":""}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:`text-lg font-medium ${Ee.length>0?"text-red-700":"text-gray-900"}`,children:l.jsxs("span",{className:"flex items-center",children:[Ee.length>0&&l.jsx(qn,{className:"h-5 w-5 mr-2 text-red-500"}),"Low Stock Items"," ",C>0&&l.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 py-0.5 px-2 rounded-full",children:C})]})}),l.jsx(zt,{to:"/products",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all"})]}),Ee.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"No items with low stock."}):l.jsxs("div",{className:"space-y-3",children:[Ee.map(T=>l.jsxs("div",{className:"flex items-center p-3 bg-white border border-red-200 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"mr-3 text-red-500",children:l.jsx(qn,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(zt,{to:`/products/edit/${T.id}`,className:"text-sm font-medium text-gray-900 hover:text-primary-600",children:T.name}),l.jsx("p",{className:"text-xs text-gray-500",children:T.category})]}),l.jsxs("div",{className:"text-sm font-medium text-red-600 bg-red-100 px-2 py-1 rounded-full",children:[T.stock," left"]})]},T.id)),C>3&&l.jsx("div",{className:"mt-2 text-center",children:l.jsxs(zt,{to:"/products",className:"text-sm text-red-600 hover:text-red-800 font-medium",children:["View all ",C," low stock items"]})})]})]})})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-500 text-xl mb-4",children:"👤"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No User Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view your dashboard."})]})})};_f.register(Uc,tb,G1,Um,Vm,tf,Ki,Z1,Q1);const KO=()=>{const{user:t}=Qn(),[e,n]=R.useState(!0),[s,i]=R.useState([]),[c,u]=R.useState([]),[h,m]=R.useState([]),[x,y]=R.useState([]),[b,j]=R.useState(null),[C,k]=R.useState("Last 7 days"),N=M=>M?typeof M=="string"?M:typeof M=="object"&&(M.en||M.ar)||"Product":"Product",P=M=>M?typeof M=="string"?M:typeof M=="object"?N(M.name):"Other":"Other";R.useEffect(()=>{(async()=>{n(!0),j(null);try{const[G,D,O,V]=await Promise.all([gt("/api/products"),gt("/api/orders"),gt("/api/auth/alluser"),gt("/api/categories")]),H=G.data||G;i(H);const te=D.data||D;u(te);const ce=O.data||O;m(ce);const U=V.data||V;y(U)}catch(G){console.error("Failed to fetch dashboard data:",G),j("Failed to fetch dashboard data.")}finally{n(!1)}})()},[]);const S=c.reduce((M,G)=>{var D;return M+(((D=G.pricing)==null?void 0:D.totalAmount)||0)},0),F=s.length,B=c.length,z=Array.isArray(h)?h.filter(M=>M.role==="customer").length:0,W=M=>M>=1e9?`${(M/1e9).toFixed(1)}B QAR`:M>=1e6?`${(M/1e6).toFixed(1)}M QAR`:M>=1e3?`${(M/1e3).toFixed(1)}K QAR`:`${M.toFixed(2)} QAR`,q=c.sort((M,G)=>new Date(G.createdAt)-new Date(M.createdAt)).slice(0,5).map(M=>{var G,D,O,V,H;return{id:M._id,customer:((G=M.user)==null?void 0:G.name)||((D=M.user)==null?void 0:D.fullName)||((O=M.customer)==null?void 0:O.name)||((V=M.customer)==null?void 0:V.fullName)||(M.user&&typeof M.user=="string"?M.user:null)||(M.customer&&typeof M.customer=="string"?M.customer:null)||M.userName||M.customerName||"Customer",total:W(((H=M.pricing)==null?void 0:H.totalAmount)||0),date:new Date(M.createdAt),status:M.status||"Pending"}}),ne={};x.forEach(M=>{var D;const G=s.filter(O=>O.category?typeof O.category=="string"?O.category===M._id:typeof O.category=="object"&&O.category._id?O.category._id===M._id:!1:!1).length;ne[((D=M.name)==null?void 0:D.en)||M.name||"Other"]=G});const J=Object.keys(ne),fe=Object.values(ne),ee=()=>{let M=[],G=[];const D=new Date;if(C==="Last 7 days")for(let O=6;O>=0;O--){const V=new Date(D);V.setDate(D.getDate()-O),M.push(V.toLocaleDateString("en-US",{month:"short",day:"2-digit"}));const H=new Date(V.setHours(0,0,0,0)),te=new Date(V.setHours(23,59,59,999)),ce=c.filter(U=>{const he=new Date(U.createdAt);return he>=H&&he<=te}).reduce((U,he)=>{var Oe;return U+(((Oe=he.pricing)==null?void 0:Oe.totalAmount)||0)},0);G.push(ce)}else if(C==="Last 30 days")for(let O=29;O>=0;O--){const V=new Date(D);V.setDate(D.getDate()-O),M.push(V.toLocaleDateString("en-US",{month:"short",day:"2-digit"}));const H=new Date(V.setHours(0,0,0,0)),te=new Date(V.setHours(23,59,59,999)),ce=c.filter(U=>{const he=new Date(U.createdAt);return he>=H&&he<=te}).reduce((U,he)=>{var Oe;return U+(((Oe=he.pricing)==null?void 0:Oe.totalAmount)||0)},0);G.push(ce)}else if(C==="Last 3 months")for(let O=2;O>=0;O--){const V=new Date(D.getFullYear(),D.getMonth()-O,1);M.push(V.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));const H=new Date(V.getFullYear(),V.getMonth(),1),te=new Date(V.getFullYear(),V.getMonth()+1,0,23,59,59,999),ce=c.filter(U=>{const he=new Date(U.createdAt);return he>=H&&he<=te}).reduce((U,he)=>{var Oe;return U+(((Oe=he.pricing)==null?void 0:Oe.totalAmount)||0)},0);G.push(ce)}else if(C==="Last year")for(let O=11;O>=0;O--){const V=new Date(D.getFullYear(),D.getMonth()-O,1);M.push(V.toLocaleDateString("en-US",{month:"short",year:"2-digit"}));const H=new Date(V.getFullYear(),V.getMonth(),1),te=new Date(V.getFullYear(),V.getMonth()+1,0,23,59,59,999),ce=c.filter(U=>{const he=new Date(U.createdAt);return he>=H&&he<=te}).reduce((U,he)=>{var Oe;return U+(((Oe=he.pricing)==null?void 0:Oe.totalAmount)||0)},0);G.push(ce)}return{labels:M,sales:G}},{labels:ie,sales:oe}=ee(),ke={labels:ie,datasets:[{label:"Sales",data:oe,fill:!0,backgroundColor:"rgba(0, 102, 204, 0.1)",borderColor:"rgba(0, 102, 204, 0.7)",tension:.4}]},Ee={labels:J.length>0?J:["No Categories"],datasets:[{data:fe.length>0?fe:[1],backgroundColor:["#0066CC","#FF9500","#34C759","#5856D6","#FF3B30","#AF52DE","#FF9500"],borderWidth:0}]},we=s.filter(M=>M.status==="Low Stock").map(M=>{var G;return{id:M._id,name:N(M.name),stock:((G=M.variants)==null?void 0:G.reduce((D,O)=>D+(O.stock||0),0))||M.stock||0,category:P(M.category)}}),ye={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#f0f0f0",drawBorder:!1},title:{display:!0,text:"Revenue",font:{size:12},color:"#666"},ticks:{callback:M=>M>=1e9?(M/1e9).toFixed(1)+"B":M>=1e6?(M/1e6).toFixed(1)+"M":M>=1e3?(M/1e3).toFixed(1)+"K":M}},x:{grid:{display:!1}}},elements:{line:{borderWidth:2,borderColor:"#0066CC",backgroundColor:"rgba(0, 102, 204, 0.1)"},point:{radius:4,hoverRadius:6,backgroundColor:"#fff",borderColor:"#0066CC",borderWidth:2}}},T={responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15}}},cutout:"70%"};return e?l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((M,G)=>l.jsx("div",{className:"h-28 bg-gray-200 rounded"},G))}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):b?l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),l.jsx("p",{className:"text-gray-600 mb-4",children:b}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Retry"})]})}):t?l.jsxs("div",{children:[l.jsx(Hs,{title:"Dashboard",subtitle:"Welcome back! Here's an overview of your store"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsx(Ha,{title:"Total Products",value:F||"0",icon:l.jsx(ai,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"}),l.jsx(Ha,{title:"Total Orders",value:B||"0",icon:l.jsx(rf,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"}),l.jsx(Ha,{title:"Revenue",value:W(S),icon:l.jsx(u1,{className:"h-fit w-5 text-primary-500"}),changeType:"negative"}),l.jsx(Ha,{title:"Customers",value:z||"0",icon:l.jsx(p0,{className:"h-5 w-5 text-primary-500"}),changeType:"positive"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sales Overview"}),l.jsxs("select",{className:"form-select rounded-md border-gray-200 text-sm",value:C,onChange:M=>k(M.target.value),children:[l.jsx("option",{children:"Last 7 days"}),l.jsx("option",{children:"Last 30 days"}),l.jsx("option",{children:"Last 3 months"}),l.jsx("option",{children:"Last year"})]})]}),l.jsx("div",{className:"h-72",children:l.jsx(ab,{data:ke,options:ye})}),l.jsx("div",{className:"mt-4 flex justify-center text-xs text-gray-500",children:l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("span",{children:"B: Billion"}),l.jsx("span",{children:"M: Million"}),l.jsx("span",{children:"K: Thousand"})]})})]})}),l.jsx("div",{children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Product Categories"}),l.jsx("div",{className:"h-72 flex items-center justify-center",children:l.jsx(ob,{data:Ee,options:T})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Orders"}),l.jsx(zt,{to:"/all-orders",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Order ID"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Total"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:q.length>0?q.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:l.jsx("p",{className:"text-primary-600 hover:text-primary-700",children:M.id})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:M.customer}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ol(M.date,"MMM dd, yyyy")}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:M.total}),l.jsx("td",{className:"px-4 py-4 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${M.status==="pending"?"bg-yellow-100 text-yellow-700":M.status==="confirmed"?"bg-blue-100 text-blue-700":M.status==="preparing"?"bg-indigo-100 text-indigo-700":M.status==="ready"?"bg-purple-100 text-purple-700":M.status==="Out for Delivery"?"bg-orange-100 text-orange-700":M.status==="delivered"?"bg-green-100 text-green-700":M.status==="cancelled"?"bg-red-100 text-red-700":(M.status==="refunded","bg-gray-100 text-gray-700")}`,children:M.status})})]},M.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No orders found"})})})]})})]})}),l.jsx("div",{children:l.jsxs("div",{className:"bg-red-50 p-6 rounded-xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qn,{className:"h-6 w-6 text-red-500"}),l.jsxs("h3",{className:"text-xl text-red-500 font-medium",children:["Low Stock Items"," ",we.length>0&&l.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-500 text-sm rounded-md",children:we.length})]})]}),l.jsx(zt,{to:"/all-products",className:"text-blue-600 hover:text-blue-700 font-medium",children:"View all"})]}),we.length===0?l.jsx("p",{className:"text-sm text-gray-500",children:"No items with low stock."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3",children:we.slice(0,3).map(M=>l.jsxs("div",{className:"bg-white p-4 rounded-xl flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qn,{className:"h-5 w-5 text-red-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-base font-medium text-gray-900",children:M.name}),l.jsx("p",{className:"text-sm text-gray-500",children:M.category})]})]}),l.jsx("div",{children:l.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-500 rounded-full text-sm",children:[M.stock," left"]})})]},M.id))}),we.length>3&&l.jsxs(zt,{to:"/all-products",className:"mt-4 block text-center text-red-500 hover:text-red-600 font-medium",children:["View all ",we.length," low stock items"]})]})]})})]})]}):l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-500 text-xl mb-4",children:"👤"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No User Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view your dashboard."})]})})},D0=({onSearch:t,placeholder:e="Search...",filters:n=[],onFilterChange:s,showFilterButton:i=!0,onClear:c})=>{const[u,h]=R.useState(""),[m,x]=R.useState(!1),[y,b]=R.useState({}),j=S=>{S.preventDefault(),t(u,y)},C=(S,F)=>{const B={...y,[S]:F};F||delete B[S],b(B),s&&s(B)},k=()=>{b({}),s&&s({}),c&&c()},N=()=>{x(!m)},P=S=>{const F={...y};delete F[S],b(F),s&&s(F),t&&t(u,F)};return l.jsxs("div",{className:"w-full",children:[l.jsxs("form",{onSubmit:j,className:"flex items-center",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(yj,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",className:"form-input pl-10 pr-4 py-2 w-full",placeholder:e,value:u,onChange:S=>h(S.target.value)})]}),l.jsx("button",{type:"submit",className:"btn btn-primary ml-2",children:"Search"}),i&&l.jsx("button",{type:"button",onClick:N,className:"ml-2 btn btn-secondary flex items-center",children:"Filters"})]}),m&&n.length>0&&l.jsxs("div",{className:"bg-white p-4 rounded-md shadow-subtle mb-4 animate-fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filters"}),l.jsxs("div",{className:"flex items-center",children:[Object.keys(y).length>0&&l.jsx("button",{type:"button",onClick:k,className:"text-sm text-gray-500 hover:text-gray-700 mr-2",children:"Clear all"}),l.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700",children:l.jsx(Vc,{className:"h-5 w-5"})})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(S=>l.jsxs("div",{className:"form-group mb-0",children:[l.jsx("label",{htmlFor:S.name,className:"form-label",children:S.label}),S.type==="select"?l.jsxs("select",{id:S.name,className:"form-input",value:y[S.name]||"",onChange:F=>C(S.name,F.target.value),children:[l.jsx("option",{value:"",children:"All"}),S.options.map(F=>l.jsx("option",{value:F.value,children:F.label},F.value))]}):S.type==="date"?l.jsx("input",{type:"date",id:S.name,className:"form-input",value:y[S.name]||"",onChange:F=>C(S.name,F.target.value)}):l.jsx("input",{type:"text",id:S.name,className:"form-input",value:y[S.name]||"",onChange:F=>C(S.name,F.target.value),placeholder:S.placeholder||""})]},S.name))}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>{t(u,y),x(!1)},className:"btn btn-primary",children:"Apply Filters"})})]}),Object.entries(y).length>0&&l.jsxs("div",{className:"mt-2 flex items-center flex-wrap",children:[l.jsx("span",{className:"text-sm mr-2",children:"Active filters:"}),Object.entries(y).map(([S,F])=>l.jsxs("span",{className:"bg-gray-100 rounded-full px-3 py-1 text-sm flex items-center mr-2 mb-2",children:[(()=>{const B=n.find(W=>W.name===S);let z=F;if((B==null?void 0:B.type)==="select"){const W=B.options.find(q=>q.value===F);W&&(z=W.label)}return`${(B==null?void 0:B.label)||S}: ${z}`})(),l.jsx("button",{type:"button",className:"ml-2 text-gray-500 hover:text-gray-700",onClick:()=>P(S),children:"×"})]},S))]})]})},dl=({title:t="No data available",description:e="Get started by creating your first item.",icon:n,actionLink:s,actionText:i="Create new"})=>l.jsxs("div",{className:"text-center py-12 px-4",children:[n&&l.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 mb-4",children:n}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:t}),l.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-4",children:e}),s&&l.jsx(zt,{to:s,className:"btn btn-primary inline-flex items-center",children:i})]}),QO=[{key:"Active",label:"Active"},{key:"Out of Stock",label:"Out of Stock"},{key:"Low Stock",label:"Low Stock"},{key:"Hidden",label:"Hidden"},{key:"Draft",label:"Draft"}],fb=({productId:t,categories:e,onClose:n,onSave:s})=>{var fe;const[i,c]=R.useState({name:{en:"",ar:""},description:{en:"",ar:""},baseImage:[],category:"",shop:"",variants:[{size:"",color:"",price:0,stock:0,sku:"",barcode:""}],status:"Active",specifications:{weight:"",dimensions:"",brand:"",model:"",warranty:"",material:"",origin:""},seo:{metaTitle:"",metaDescription:"",keywords:[],slug:""},tags:[],isOnSale:!1,featured:!1}),[u,h]=R.useState(!0),[m,x]=R.useState(null),[y,b]=R.useState([]),j=(ee,ie)=>{const oe=ee.reduce((Ee,we)=>Ee+Number(we.stock),0);let ke;return oe<=100?ke="Low Stock":ke=ie==="Hidden"||ie==="Draft"?ie:"Active",{totalStock:oe,status:ke}};R.useEffect(()=>{t&&(h(!0),x(null),gt(`/api/products/${t}`).then(ee=>{ee&&ee.data&&c({name:ee.data.name||{en:"",ar:""},description:ee.data.description||{en:"",ar:""},baseImage:ee.data.baseImage||[],category:ee.data.category||"",shop:ee.data.shop||"",variants:ee.data.variants||[{size:"",color:"",price:0,stock:0,sku:"",barcode:""}],status:ee.data.status||"Active",specifications:ee.data.specifications||{weight:"",dimensions:"",brand:"",model:"",warranty:"",material:"",origin:""},seo:ee.data.seo||{metaTitle:"",metaDescription:"",keywords:[],slug:""},tags:ee.data.tags||[],isOnSale:ee.data.isOnSale||!1,featured:ee.data.featured||!1}),h(!1)}).catch(ee=>{x("Failed to fetch product details."),h(!1)}))},[t]);const C=(ee,ie,oe)=>{const{name:ke,value:Ee,type:we,checked:ye}=ee.target;c(ie?oe?T=>({...T,[ie]:{...T[ie],[oe]:Ee}}):T=>({...T,[ie]:{...T[ie],[ke]:Ee}}):T=>({...T,[ke]:we==="checkbox"?ye:Ee}))},k=(ee,ie,oe)=>{c(ke=>{const Ee=ke.variants.map((we,ye)=>ye===ee?{...we,[ie]:oe}:we);if(ie==="stock"){const{status:we}=j(Ee,ke.status);return{...ke,variants:Ee,status:we}}return{...ke,variants:Ee}})},N=()=>{c(ee=>{const ie={size:"",color:"",price:0,stock:0,sku:"",barcode:""},oe=[...ee.variants,ie],{status:ke}=j(oe,ee.status);return{...ee,variants:oe,status:ke}})},P=ee=>{i.variants.length>1&&c(ie=>{const oe=ie.variants.filter((Ee,we)=>we!==ee),{status:ke}=j(oe,ie.status);return{...ie,variants:oe,status:ke}})},S=ee=>{const ie=Array.from(ee.target.files);ie.length&&(b(oe=>[...oe,...ie]),Se.info("Image(s) added. They will be uploaded when you save changes."))},F=ee=>{c(ie=>({...ie,baseImage:ie.baseImage.filter((oe,ke)=>ke!==ee)})),b(ie=>ie.filter((oe,ke)=>ke!==ee))},B=ee=>{const ie=ee.target.value.split(",").map(oe=>oe.trim()).filter(Boolean);c(oe=>({...oe,tags:ie}))},z=ee=>{const ie=ee.target.value.split(",").map(oe=>oe.trim()).filter(Boolean);c(oe=>({...oe,seo:{...oe.seo,keywords:ie}}))},W=async ee=>{if(ee.preventDefault(),!i.name.en.trim()){Se.error("Please enter a product name in English");return}if(!i.category){Se.error("Please select a category");return}if(i.variants.length===0){Se.error("Please add at least one variant");return}let ie=[];if(y.length>0)try{Se.info("Uploading images...");const M=y.map(D=>{const O=new FormData;return O.append("file",D),yn("/api/upload",O,{headers:{"Content-Type":"multipart/form-data"}})});ie=(await Promise.all(M)).map(D=>D.url).filter(Boolean),Se.success("All images uploaded!")}catch{Se.error("Image upload failed.");return}let oe,ke=!1;const Ee=i.variants.reduce((M,G)=>M+Number(G.stock),0),we=Ee<=100,ye=Ee>100&&!we&&i.status!=="Hidden"&&i.status!=="Draft";if(we||ye){const{status:M}=j(i.variants,i.status);oe=M}else oe=i.status,ke=!0;const T={...i,baseImage:[...i.baseImage,...ie],status:oe,manualStatusUpdate:ke};oe!==i.status&&(ke?Se.info(`Product status manually set to "${oe}"`):oe==="Low Stock"?Se.info('Product status automatically set to "Low Stock" because stock is below 100 units'):oe==="Active"&&(i.status==="Low Stock"||i.status==="Out of Stock")&&Se.info('Product status automatically set to "Active" because stock is above 100 units'));try{const M=await Ji(`/api/products/${t}`,T);M&&M.data?(Se.success("Product updated successfully!"),s(M.data),b([])):Se.error("Failed to update product. Please try again.")}catch(M){console.error("Error updating product:",M),Se.error("Error updating product. Please try again.")}},q=e.some(ee=>ee._id===i.category);let ne="";typeof i.category=="object"&&i.category!==null?ne=((fe=i.category.name)==null?void 0:fe.en)||i.category.name||i.category._id||"Current Category (not in your list)":ne="Current Category (not in your list)";const J=!q&&i.category?{_id:typeof i.category=="object"?i.category._id:i.category,name:{en:ne}}:null;return u?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-2xl flex items-center justify-center",children:l.jsx("span",{children:"Loading product details..."})})}):m?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-2xl flex items-center justify-center",children:l.jsx("span",{className:"text-error-500",children:m})})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-4xl overflow-y-auto max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-bold",children:"Edit Product"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-700 text-2xl",children:"×"})]}),l.jsxs("form",{onSubmit:W,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Name (English)"}),l.jsx("input",{value:i.name.en,onChange:ee=>C(ee,"name","en"),className:"form-input w-full",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Name (Arabic)"}),l.jsx("input",{value:i.name.ar,onChange:ee=>C(ee,"name","ar"),className:"form-input w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Description (English)"}),l.jsx("textarea",{value:i.description.en,onChange:ee=>C(ee,"description","en"),className:"form-input w-full",rows:"3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Description (Arabic)"}),l.jsx("textarea",{value:i.description.ar,onChange:ee=>C(ee,"description","ar"),className:"form-input w-full",rows:"3"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Category"}),l.jsxs("select",{name:"category",value:J?J._id:i.category,onChange:C,className:"form-input w-full",required:!0,children:[J?l.jsx("option",{value:J._id,disabled:!0,children:J.name.en}):l.jsx("option",{value:"",children:"Select a category"}),e==null?void 0:e.map(ee=>{var ie;return l.jsx("option",{value:ee._id,children:((ie=ee.name)==null?void 0:ie.en)||ee.name},ee._id)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Status"}),(()=>{const ee=i.variants.reduce((oe,ke)=>oe+Number(ke.stock),0),ie=ee<=100;return l.jsxs(l.Fragment,{children:[l.jsx("select",{name:"status",value:i.status,onChange:C,className:`form-input w-full ${ie?"border-yellow-400 bg-yellow-50":ee>100?"border-green-400 bg-green-50":""}`,disabled:ie||ee>100,children:QO.map(oe=>l.jsx("option",{value:oe.key,children:oe.label},oe.key))}),ie&&l.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:'Status automatically set to "Low Stock" because total stock is below 100 units'}),ee>100&&!ie&&i.status!=="Hidden"&&i.status!=="Draft"&&l.jsx("p",{className:"text-xs text-green-600 mt-1",children:'Status automatically set to "Active" because total stock is above 100 units'})]})})()]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block font-medium",children:"Variants"}),l.jsx("button",{type:"button",onClick:N,className:"btn btn-secondary btn-sm",children:"Add Variant"})]}),i.variants.map((ee,ie)=>l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 mb-2 p-2 border rounded",children:[l.jsx("input",{placeholder:"Size",value:ee.size,onChange:oe=>k(ie,"size",oe.target.value),className:"form-input"}),l.jsx("input",{placeholder:"Color",value:ee.color,onChange:oe=>k(ie,"color",oe.target.value),className:"form-input"}),l.jsx("input",{type:"number",placeholder:"Price",value:ee.price,onChange:oe=>k(ie,"price",oe.target.value),className:"form-input"}),l.jsx("input",{type:"number",placeholder:"Stock",value:ee.stock,onChange:oe=>k(ie,"stock",oe.target.value),className:"form-input"}),l.jsx("input",{placeholder:"SKU",value:ee.sku,onChange:oe=>k(ie,"sku",oe.target.value),className:"form-input"}),l.jsx("div",{className:"flex items-center",children:l.jsx("button",{type:"button",onClick:()=>P(ie),className:"text-red-500 hover:text-red-700",disabled:i.variants.length===1,children:"Remove"})})]},ie))]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Product Images"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.baseImage.map((ee,ie)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:ee,alt:"Product",className:"w-24 h-24 object-cover rounded"}),l.jsx("button",{type:"button",onClick:()=>F(ie),className:"absolute top-0 right-0 bg-white rounded-full p-1 text-red-500 hover:text-red-700",children:"×"})]},ie)),y.map((ee,ie)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:URL.createObjectURL(ee),alt:"Pending",className:"w-24 h-24 object-cover rounded opacity-70"}),l.jsx("button",{type:"button",onClick:()=>b(oe=>oe.filter((ke,Ee)=>Ee!==ie)),className:"absolute top-0 right-0 bg-white rounded-full p-1 text-red-500 hover:text-red-700",children:"×"})]},`pending-${ie}`)),l.jsxs("label",{className:"w-24 h-24 flex items-center justify-center border-2 border-dashed rounded cursor-pointer hover:border-primary-500",children:[l.jsx("span",{className:"text-2xl",children:"+"}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:S,className:"hidden"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Specifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.keys(i.specifications).map(ee=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 capitalize",children:ee}),l.jsx("input",{value:i.specifications[ee],onChange:ie=>C(ie,"specifications",ee),className:"form-input w-full"})]},ee))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"SEO"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Meta Title"}),l.jsx("input",{value:i.seo.metaTitle,onChange:ee=>C(ee,"seo","metaTitle"),className:"form-input w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Meta Description"}),l.jsx("textarea",{value:i.seo.metaDescription,onChange:ee=>C(ee,"seo","metaDescription"),className:"form-input w-full",rows:"2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keywords (comma-separated)"}),l.jsx("input",{value:i.seo.keywords.join(", "),onChange:z,className:"form-input w-full",placeholder:"keyword1, keyword2, keyword3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug"}),l.jsx("input",{value:i.seo.slug,onChange:ee=>C(ee,"seo","slug"),className:"form-input w-full"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Tags (comma-separated)"}),l.jsx("input",{value:i.tags.join(", "),onChange:B,className:"form-input w-full",placeholder:"tag1, tag2, tag3"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"isOnSale",checked:i.isOnSale,onChange:C,className:"mr-2"}),"On Sale"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"featured",checked:i.featured,onChange:C,className:"mr-2"}),"Featured"]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})})},XO=()=>{var G;const{user:t}=Qn(),[e,n]=R.useState([]),[s,i]=R.useState([]),[c,u]=R.useState(!0),[h,m]=R.useState(null),[x,y]=R.useState(!1),[b,j]=R.useState(null),[C,k]=R.useState({name:"",category:"",price:"",status:"Active"}),[N,P]=R.useState(!1),[S,F]=R.useState(null),[B,z]=R.useState([]),[W,q]=R.useState(()=>{try{return JSON.parse(localStorage.getItem("user"))}catch{return null}}),[ne,J]=R.useState(1),fe=10,ee=(t==null?void 0:t.role)==="worker",ie=async(D,O)=>{try{const V=await Ji(`/api/products/${D._id||D.id}`,{status:O,manualStatusUpdate:!0});if(V&&(V.success||V.data)){const H={...D,status:O};n(te=>te.map(ce=>ce._id===D._id||ce.id===D._id||ce._id===D.id||ce.id===D.id?H:ce)),i(te=>te.map(ce=>ce._id===D._id||ce.id===D._id||ce._id===D.id||ce.id===D.id?H:ce)),J(ne),Se.success(`Product status updated to ${O}`)}else Se.error("Failed to update product status")}catch(V){console.error("Error updating product status:",V),Se.error("Error updating product status")}};R.useEffect(()=>{(async()=>{var O;u(!0),m(null);try{const V=await gt("/api/products");if(V&&V.success&&Array.isArray(V.data)){let H=[];if(ee){const te=((O=t==null?void 0:t.assignedShop)==null?void 0:O._id)||(t==null?void 0:t.assignedShop);te&&(H=V.data.filter(ce=>{var U;return ce.shop===te||((U=ce.shop)==null?void 0:U._id)===te}))}else{const te=(W==null?void 0:W._id)||(W==null?void 0:W.id);te&&(H=V.data.filter(ce=>ce.createdBy?typeof ce.createdBy=="string"?ce.createdBy===te:typeof ce.createdBy=="object"&&ce.createdBy._id?ce.createdBy._id===te:!1:!1))}n(H),i(H)}else n([]),i([])}catch(V){console.error("Error fetching products:",V),n([]),i([]),m(V),Se.error("Failed to fetch products.")}finally{u(!1)}})()},[t,ee,W]),R.useEffect(()=>{var D;b&&k({name:((D=b.name)==null?void 0:D.en)||"",category:b.category||"",price:b.price||"",status:b.status||"Active"})},[b]),R.useEffect(()=>{gt("/api/categories").then(D=>{D&&D.data&&z(D.data)}).catch(()=>z([]))},[]);const oe=(D,O)=>{let V=[...e];if(D){const H=D.toLowerCase();V=V.filter(te=>{var ce;return((ce=te.name)==null?void 0:ce.en)&&te.name.en.toLowerCase().includes(H)})}O.category&&(V=V.filter(H=>typeof H.category=="object"&&H.category!==null?H.category._id===O.category:H.category===O.category)),O.status&&(V=V.filter(H=>H.status&&H.status.toLowerCase()===O.status.toLowerCase())),O.minPrice&&(V=V.filter(H=>(H.variants&&H.variants[0]&&typeof H.variants[0].price<"u"?H.variants[0].price:H.price)>=parseFloat(O.minPrice))),O.maxPrice&&(V=V.filter(H=>(H.variants&&H.variants[0]&&typeof H.variants[0].price<"u"?H.variants[0].price:H.price)<=parseFloat(O.maxPrice))),i(V)},ke=async D=>{try{u(!0),await Zv(`/api/products/${D}`),n(e.filter(O=>O.id!==D)),i(s.filter(O=>O.id!==D)),Se.success("Product deleted successfully")}catch(O){console.error("Failed to delete product:",O),Se.error("Failed to delete product.")}finally{u(!1)}},Ee=[{name:"category",label:"Category",type:"select",options:B.filter(D=>{var O,V,H;return D.shop===(((V=(O=W==null?void 0:W.managedShops)==null?void 0:O[0])==null?void 0:V._id)||((H=W==null?void 0:W.managedShops)==null?void 0:H[0]))}).map(D=>{var O;return{value:D._id,label:((O=D.name)==null?void 0:O.en)||D.name||D._id||"N/A"}})},{name:"status",label:"Status",type:"select",options:[{value:"Active",label:"Active"},{value:"Out of Stock",label:"Out of Stock"},{value:"Low Stock",label:"Low Stock"},{value:"Hidden",label:"Hidden"},{value:"Draft",label:"Draft"}]},{name:"minPrice",label:"Min Price",type:"number",placeholder:"0.00"},{name:"maxPrice",label:"Max Price",type:"number",placeholder:"1000.00"}],we=D=>{const O=B.find(H=>{var te;return H._id===D.category||H._id===((te=D.category)==null?void 0:te._id)}),V=O?{...D,category:O}:D;try{n(H=>H.map(te=>te.id===D.id||te._id===D._id||te.id===D._id||te._id===D.id?V:te)),i(H=>H.map(te=>te.id===D.id||te._id===D._id||te.id===D._id||te._id===D.id?V:te)),y(!1),j(null)}catch(H){console.error("Error saving product edit:",H),alert("Error saving product. Please try again.")}},ye=()=>{i(e)},T=Math.ceil(s.length/fe),M=s.slice((ne-1)*fe,ne*fe);return R.useEffect(()=>{J(1)},[s]),l.jsxs("div",{children:[l.jsx(Hs,{title:"All Products",subtitle:"Manage your product inventory",breadcrumbs:[{text:"Dashboard",link:"/"},{text:"Products"}],actionButton:!ee&&l.jsxs(zt,{to:"/products/add",className:"btn btn-primary inline-flex items-center",children:[l.jsx(Gm,{className:"mr-2 h-5 w-5"}),"Add Product"]})}),l.jsx("div",{className:"card mb-6",children:l.jsx(D0,{onSearch:oe,onClear:ye,placeholder:"Search products by name...",filters:Ee})}),l.jsx("div",{className:"card",children:c?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),[...Array(5)].map((D,O)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded mb-2"},O))]}):s.length===0?l.jsx(dl,{title:"No products found",description:"No products found. They will appear here once you add products.",icon:l.jsx(ai,{className:"h-8 w-8 text-gray-300"}),actionLink:"/products/add",actionText:"Add New Product"}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Product"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Price (QAR)"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Stock"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),!ee&&l.jsx("th",{className:"px-4 py-3 text-center",children:"Toggle Stock"}),!ee&&l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map(D=>{var O,V,H,te,ce,U,he;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 flex items-center justify-center text-gray-500",children:D.baseImage&&D.baseImage.length>0?l.jsx("img",{src:D.baseImage[0],alt:typeof D.name=="object"?((O=D.name)==null?void 0:O.en)||((V=D.name)==null?void 0:V.ar)||"Product":D.name||"Product",className:"h-10 w-10 rounded-md object-cover"}):l.jsx(ai,{className:"h-5 w-5"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof D.name=="object"?((H=D.name)==null?void 0:H.en)||((te=D.name)==null?void 0:te.ar)||"N/A":D.name||"N/A"})})]})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:typeof D.category=="object"?((U=(ce=D.category)==null?void 0:ce.name)==null?void 0:U.en)||((he=D.category)==null?void 0:he.name)||D.category._id||"N/A":D.category||"N/A"}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 text-right font-medium",children:D.variants&&D.variants[0]&&typeof D.variants[0].price<"u"?`${D.variants[0].price}`:"N/A"}),l.jsx("td",{className:"px-4 py-4 text-sm text-center",children:D.variants&&D.variants[0]&&typeof D.variants[0].stock=="number"?D.variants[0].stock===0?l.jsxs("span",{className:"text-error-500 flex items-center justify-center",children:[l.jsx(qn,{className:"h-4 w-4 mr-1"}),"Out"]}):D.variants[0].stock<=5?l.jsx("span",{className:"text-orange-500",children:D.variants[0].stock}):l.jsx("span",{className:"text-gray-700",children:D.variants[0].stock}):l.jsx("span",{className:"text-gray-400",children:"N/A"})}),l.jsx("td",{className:"px-4 py-4 text-sm",children:l.jsx("span",{className:`badge ${D.status==="Active"?"badge-success":D.status==="Out of Stock"?"badge-error":D.status==="Low Stock"?"badge-warning":D.status==="Hidden"||D.status==="Draft"?"badge-info":!D.status&&D.variants&&D.variants[0]&&typeof D.variants[0].stock=="number"&&D.variants[0].stock===0?"badge-error":!D.status&&D.variants&&D.variants[0]&&typeof D.variants[0].stock=="number"&&D.variants[0].stock<=10?"badge-warning":D.status?"badge-info":"badge-success"}`,children:D.status?D.status:D.variants&&D.variants[0]&&typeof D.variants[0].stock=="number"&&D.variants[0].stock===0?"Out of Stock":D.variants&&D.variants[0]&&typeof D.variants[0].stock=="number"&&D.variants[0].stock<=10?"Low Stock":"Active"})}),!ee&&l.jsx("td",{className:"px-4 py-4 text-center text-sm font-medium",children:l.jsxs("select",{value:`Mark ${D.status||"Active"}`,onChange:Oe=>ie(D,Oe.target.value.replace("Mark ","")),className:`form-select py-1 px-2 text-sm rounded border ${D.status==="Active"?"border-green-300 bg-green-50":D.status==="Low Stock"?"border-yellow-300 bg-yellow-50":D.status==="Out of Stock"?"border-red-300 bg-red-50":"border-gray-300 bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500`,children:[l.jsx("option",{value:"Mark Active",children:"Mark Active"}),l.jsx("option",{value:"Mark Low Stock",children:"Mark Low Stock"}),l.jsx("option",{value:"Mark Out of Stock",children:"Mark Out of Stock"}),l.jsx("option",{value:"Mark Hidden",children:"Mark Hidden"}),l.jsx("option",{value:"Mark Draft",children:"Mark Draft"})]})}),!ee&&l.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[l.jsx("button",{onClick:()=>{j(D),y(!0)},className:"text-gray-600 hover:text-primary-600 p-1",children:l.jsx(m0,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>{F(D),P(!0)},className:"text-gray-600 hover:text-error-500 p-1",children:l.jsx(eu,{className:"h-5 w-5"})})]})})]},D.id||D._id)})})]}),l.jsxs("div",{className:"py-3 px-4 flex items-center justify-between border-t border-gray-200",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",l.jsx("span",{className:"font-medium",children:s.length===0?0:(ne-1)*fe+1})," ","to"," ",l.jsx("span",{className:"font-medium",children:Math.min(ne*fe,s.length)})," ","of"," ",l.jsx("span",{className:"font-medium",children:s.length})," ","results"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:ne===1,onClick:()=>J(D=>Math.max(D-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",ne," of ",T||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:ne===T||T===0,onClick:()=>J(D=>Math.min(D+1,T)),children:"Next"})]})]})]})}),!ee&&x&&b&&l.jsx(fb,{productId:b._id||b.id,categories:B.filter(D=>D.createdBy===(W==null?void 0:W._id)),onClose:()=>{y(!1),j(null)},onSave:we}),!ee&&N&&S&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(qn,{className:"h-6 w-6 text-error-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Product"})})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete"," ",l.jsx("span",{className:"font-medium text-gray-900",children:((G=S.name)==null?void 0:G.en)||"this product"}),"? This action cannot be undone."]})}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{P(!1),F(null)},className:"btn btn-secondary",children:"No, Cancel"}),l.jsx("button",{onClick:()=>{ke(S._id),P(!1),F(null)},className:"btn btn-danger",children:"Yes, Delete it"})]})]})})]})},GO=()=>{const t=li(),[e,n]=R.useState(!1),{user:s}=Qn(),[i,c]=R.useState(),[u,h]=R.useState({name:{en:"",ar:""},description:{en:"",ar:""},baseImage:[],category:"",shop:"",variants:[],status:"Active",specifications:{weight:"",dimensions:{length:"",width:"",height:""},brand:"",model:"",warranty:"",material:"",origin:""},seo:{metaTitle:"",metaDescription:"",keywords:"",slug:""},tags:[],isOnSale:!1,featured:!1}),[m,x]=R.useState(""),[y,b]=R.useState([]),[j,C]=R.useState([]);R.useEffect(()=>{c(localStorage.getItem("user")),gt("/api/categories").then(K=>{var We;const pe=JSON.parse(localStorage.getItem("user")),Qe=(K.data||[]).filter(Ie=>Ie.createdBy===(pe==null?void 0:pe._id));if(b(Qe),C((pe==null?void 0:pe.managedShops)||[]),pe!=null&&pe.managedShops&&pe.managedShops.length>0){const Ie=((We=pe.managedShops[0])==null?void 0:We._id)||pe.managedShops[0];h(ge=>({...ge,shop:Ie}))}}).catch(()=>b([]))},[]);const k=(K,pe=[])=>{const{name:Qe,value:We,type:Ie,checked:ge}=K.target;pe.length?h(Fe=>{let ot={...Fe},ct=ot;for(let jt=0;jt<pe.length-1;jt++)ct=ct[pe[jt]];return ct[pe[pe.length-1]]=Ie==="checkbox"?ge:We,ot}):Qe==="imageUrls"?x(We):h(Ie==="checkbox"?{...u,[Qe]:ge}:{...u,[Qe]:We})},[N,P]=R.useState(""),S=K=>{P(K.target.value)},F=K=>{K.key==="Enter"&&N.trim()&&(K.preventDefault(),u.tags.includes(N.trim())||h({...u,tags:[...u.tags,N.trim()]}),P(""))},B=K=>{h({...u,tags:u.tags.filter(pe=>pe!==K)})},[z,W]=R.useState({name:{en:"",ar:""},description:{en:"",ar:""},price:"",originalPrice:"",stock:"",sku:"",attributes:{size:"",color:"",weight:"",material:""},images:[],isDefault:!1,status:"Active"}),q=()=>{if(!z.name.en||!z.price){Se.error("Variant name and price required");return}h({...u,variants:[...u.variants,{...z,price:parseFloat(z.price),stock:parseInt(z.stock||"0",10),attributes:{...z.attributes,size:z.attributes.size.trim(),color:z.attributes.color.trim(),weight:z.attributes.weight.trim(),material:z.attributes.material.trim()},images:z.images.map(K=>K.trim()).filter(Boolean)}]}),W({name:{en:"",ar:""},price:"",originalPrice:"",stock:"",sku:"",attributes:{size:"",color:"",weight:"",material:""},images:[],isDefault:!1,status:"Active"})},ne=K=>{h({...u,variants:u.variants.filter((pe,Qe)=>Qe!==K)})},J=async K=>{var Qe,We;if(K.preventDefault(),n(!0),!u.shop){Se.error("No shop found for this admin. Cannot add product."),n(!1);return}if(!u.name.en||!u.description.en||!u.baseImage.length||!u.category||!u.variants.length){Se.error("Please fill in all required fields: English Name, English Description, at least one Image, Category, and at least one Variant."),n(!1);return}const pe={name:u.name,description:u.description,baseImage:u.baseImage,category:u.category,shop:u.shop||void 0,variants:u.variants,status:u.status,specifications:{...u.specifications,dimensions:`${u.specifications.dimensions.length}x${u.specifications.dimensions.width}x${u.specifications.dimensions.height}`},seo:{metaTitle:u.seo.metaTitle,metaDescription:u.seo.metaDescription,keywords:u.seo.keywords?u.seo.keywords.split(",").map(Ie=>Ie.trim()).filter(Boolean):[],slug:u.seo.slug},tags:u.tags,isOnSale:u.isOnSale,featured:u.featured,createdBy:s._id};pe.shop||delete pe.shop;try{await yn("/api/products",pe),Se.success("Product added successfully!"),t("/products")}catch(Ie){console.error("Failed to add product:",Ie),Se.error(((We=(Qe=Ie.response)==null?void 0:Qe.data)==null?void 0:We.message)||"Failed to add product. Please try again.")}finally{n(!1)}},fe=R.useRef(null),[ee,ie]=R.useState(!1),oe=K=>{const Qe=Array.from(K).map(We=>new Promise(Ie=>{const ge=new FileReader;ge.onload=Fe=>Ie(Fe.target.result),ge.readAsDataURL(We)}));Promise.all(Qe).then(We=>{h(Ie=>({...Ie,baseImage:[...Ie.baseImage,...We]}))})},ke=K=>{K.preventDefault(),ie(!1),K.dataTransfer.files&&K.dataTransfer.files.length>0&&oe(K.dataTransfer.files)},Ee=K=>{K.preventDefault(),ie(!0)},we=K=>{K.preventDefault(),ie(!1)},ye=()=>{fe.current.click()},T=K=>{K.target.files&&K.target.files.length>0&&oe(K.target.files)},M=K=>{h(pe=>({...pe,baseImage:pe.baseImage.filter((Qe,We)=>We!==K)}))},G=R.useRef(null),[D,O]=R.useState(!1),V=K=>{const Qe=Array.from(K).map(We=>new Promise(Ie=>{const ge=new FileReader;ge.onload=Fe=>Ie(Fe.target.result),ge.readAsDataURL(We)}));Promise.all(Qe).then(We=>{W(Ie=>({...Ie,images:[...Ie.images,...We]}))})},H=K=>{K.preventDefault(),O(!1),K.dataTransfer.files&&K.dataTransfer.files.length>0&&V(K.dataTransfer.files)},te=K=>{K.preventDefault(),O(!0)},ce=K=>{K.preventDefault(),O(!1)},U=()=>{G.current.click()},he=K=>{K.target.files&&K.target.files.length>0&&V(K.target.files)},Oe=K=>{W(pe=>({...pe,images:pe.images.filter((Qe,We)=>We!==K)}))};return l.jsxs("div",{children:[l.jsx(Hs,{title:"Add New Product",breadcrumbs:[{text:"Dashboard",link:"/"},{text:"Products",link:"/products"},{text:"Add New"}],actionButton:l.jsxs(zt,{to:"/products",className:"btn btn-secondary inline-flex items-center",children:[l.jsx(cj,{className:"mr-2 h-5 w-5"}),"Back to Products"]})}),l.jsxs("form",{onSubmit:J,children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"form-label",children:["Product Name (EN) ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx("input",{type:"text",className:"form-input",value:u.name.en,onChange:K=>k(K,["name","en"]),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Product Name (AR)"}),l.jsx("input",{type:"text",className:"form-input",value:u.name.ar,onChange:K=>k(K,["name","ar"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Description (EN)"}),l.jsx("textarea",{className:"form-input",value:u.description.en,onChange:K=>k(K,["description","en"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Description (AR)"}),l.jsx("textarea",{className:"form-input",value:u.description.ar,onChange:K=>k(K,["description","ar"])})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["Product Images ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer ${ee?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:Ee,onDragLeave:we,onDrop:ke,onClick:ye,children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:fe,onChange:T,className:"hidden"}),l.jsx("div",{className:"text-gray-400",children:l.jsx(vx,{className:"mx-auto h-12 w-12"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium text-primary-600 hover:text-primary-500",children:"Click to upload"})," or drag and drop"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB each. You can select multiple images."})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:u.baseImage.map((K,pe)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:K,alt:"preview",className:"h-16 w-16 object-cover rounded border"}),l.jsx("button",{type:"button",onClick:()=>M(pe),className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow text-error-500 hover:text-error-700 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Vc,{})})]},pe))})]}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.jsxs("div",{children:[l.jsxs("label",{className:"form-label",children:["Category ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("select",{className:"form-input",value:u.category,onChange:K=>k(K),name:"category",required:!0,children:[l.jsx("option",{value:"",children:"Select Category"}),Array.isArray(y)&&y.map(K=>{var pe;return l.jsx("option",{value:K._id,children:((pe=K.name)==null?void 0:pe.en)||K.name},K._id)})]})]})})}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Product Variants"}),l.jsxs("button",{type:"button",onClick:q,className:"btn btn-primary text-sm inline-flex items-center",children:[l.jsx(Gm,{className:"h-4 w-4 mr-1"})," Add Variant"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Variant Name (EN)"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Variant Name in English",value:z.name.en,onChange:K=>W(pe=>({...pe,name:{...pe.name,en:K.target.value}}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Variant Name (AR)"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Variant Name in Arabic",value:z.name.ar,onChange:K=>W(pe=>({...pe,name:{...pe.name,ar:K.target.value}}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Price"}),l.jsx("input",{type:"number",className:"form-input",placeholder:"Price",value:z.price,onChange:K=>W(pe=>({...pe,price:K.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Original Price"}),l.jsx("input",{type:"number",className:"form-input",placeholder:"Original Price (for discounts)",value:z.originalPrice,onChange:K=>W(pe=>({...pe,originalPrice:K.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Stock"}),l.jsx("input",{type:"number",className:"form-input",placeholder:"Stock Quantity",value:z.stock,onChange:K=>W(pe=>({...pe,stock:K.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"SKU"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Stock Keeping Unit",value:z.sku,onChange:K=>W(pe=>({...pe,sku:K.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Size"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Size",value:z.attributes.size,onChange:K=>W(pe=>({...pe,attributes:{...pe.attributes,size:K.target.value}}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Color"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Color",value:z.attributes.color,onChange:K=>W(pe=>({...pe,attributes:{...pe.attributes,color:K.target.value}}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Weight"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Weight",value:z.attributes.weight,onChange:K=>W(pe=>({...pe,attributes:{...pe.attributes,weight:K.target.value}}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Material"}),l.jsx("input",{type:"text",className:"form-input",placeholder:"Material",value:z.attributes.material,onChange:K=>W(pe=>({...pe,attributes:{...pe.attributes,material:K.target.value}}))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"form-label",children:"Variant Images"}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors cursor-pointer ${D?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:te,onDragLeave:ce,onDrop:H,onClick:U,children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,ref:G,onChange:he,className:"hidden"}),l.jsx("div",{className:"text-gray-400",children:l.jsx(vx,{className:"mx-auto h-8 w-8"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium text-primary-600 hover:text-primary-500",children:"Click to upload"})," or drag and drop"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB each. You can select multiple images."})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.images.map((K,pe)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:K,alt:"variant-preview",className:"h-12 w-12 object-cover rounded border"}),l.jsx("button",{type:"button",onClick:()=>Oe(pe),className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow text-error-500 hover:text-error-700 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Vc,{})})]},pe))})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:z.isDefault,onChange:K=>W(pe=>({...pe,isDefault:K.target.checked}))}),"Default Variant"]}),l.jsxs("select",{className:"form-input",value:z.status,onChange:K=>W(pe=>({...pe,status:K.target.value})),children:[l.jsx("option",{value:"Active",children:"Active"}),l.jsx("option",{value:"Out of stock",children:"Out of stock"}),l.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]})]}),l.jsx("div",{className:"space-y-2",children:u.variants.map((K,pe)=>{var Qe,We,Ie;return l.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"font-semibold",children:[K.name.en," (",K.name.ar,")",K.isDefault&&l.jsx("span",{className:"ml-2 text-xs bg-primary-100 text-primary-800 px-2 py-0.5 rounded-full",children:"Default"})]}),l.jsx("button",{type:"button",className:"text-error-500 hover:text-error-700",onClick:()=>ne(pe),children:l.jsx(eu,{})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:["Price: ",K.price]}),K.originalPrice&&l.jsxs("div",{children:["Original: ",K.originalPrice]}),l.jsxs("div",{children:["Stock: ",K.stock]}),l.jsxs("div",{children:["SKU: ",K.sku]}),l.jsxs("div",{children:["Status: ",K.status]})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(K.attributes).filter(([ge,Fe])=>Fe).map(([ge,Fe])=>`${ge}: ${Fe}`).join(" | ")}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[l.jsx("strong",{children:"Description (EN):"})," ",((Qe=K.description)==null?void 0:Qe.en)||"",l.jsx("br",{}),l.jsx("strong",{children:"Description (AR):"})," ",((We=K.description)==null?void 0:We.ar)||""]}),l.jsx("div",{className:"flex gap-1 mt-2",children:(Ie=K.images)==null?void 0:Ie.map((ge,Fe)=>l.jsx("img",{src:ge,alt:`variant-${Fe}`,className:"h-8 w-8 object-cover rounded"},Fe))})]},pe)})})]}),l.jsxs("div",{className:"card",children:[l.jsx("label",{className:"form-label",children:"Tags"}),l.jsxs("div",{className:"flex flex-wrap items-center border border-gray-300 rounded-md focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent p-2",children:[u.tags.map(K=>l.jsxs("span",{className:"inline-flex items-center bg-primary-100 text-primary-800 text-xs font-medium rounded-full px-3 py-1 mr-2 mb-2",children:[K,l.jsx("button",{type:"button",onClick:()=>B(K),className:"ml-1 text-primary-600 hover:text-primary-900",children:l.jsx(Vc,{className:"h-3 w-3"})})]},K)),l.jsx("input",{type:"text",className:"flex-1 min-w-[120px] outline-none text-sm p-1",placeholder:"Add tags (press Enter)",value:N,onChange:S,onKeyDown:F})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Press Enter to add a tag"})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Meta Title"}),l.jsx("input",{type:"text",className:"form-input",value:u.seo.metaTitle,onChange:K=>k(K,["seo","metaTitle"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Slug"}),l.jsx("input",{type:"text",className:"form-input",value:u.seo.slug,onChange:K=>k(K,["seo","slug"])})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"form-label",children:"Meta Description"}),l.jsx("textarea",{className:"form-input",value:u.seo.metaDescription,onChange:K=>k(K,["seo","metaDescription"])})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"form-label",children:"Keywords (comma separated)"}),l.jsx("input",{type:"text",className:"form-input",value:u.seo.keywords,onChange:K=>k(K,["seo","keywords"])})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Specifications"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Weight (kg)"}),l.jsx("input",{type:"number",className:"form-input",value:u.specifications.weight,onChange:K=>k(K,["specifications","weight"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Brand"}),l.jsx("input",{type:"text",className:"form-input",value:u.specifications.brand,onChange:K=>k(K,["specifications","brand"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Model"}),l.jsx("input",{type:"text",className:"form-input",value:u.specifications.model,onChange:K=>k(K,["specifications","model"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Warranty"}),l.jsx("input",{type:"text",className:"form-input",value:u.specifications.warranty,onChange:K=>k(K,["specifications","warranty"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Material"}),l.jsx("input",{type:"text",className:"form-input",value:u.specifications.material,onChange:K=>k(K,["specifications","material"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Origin"}),l.jsx("input",{type:"text",className:"form-input",value:u.specifications.origin,onChange:K=>k(K,["specifications","origin"])})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label text-xs",children:"Length (cm)"}),l.jsx("input",{type:"number",className:"form-input",value:u.specifications.dimensions.length,onChange:K=>k(K,["specifications","dimensions","length"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label text-xs",children:"Width (cm)"}),l.jsx("input",{type:"number",className:"form-input",value:u.specifications.dimensions.width,onChange:K=>k(K,["specifications","dimensions","width"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label text-xs",children:"Height (cm)"}),l.jsx("input",{type:"number",className:"form-input",value:u.specifications.dimensions.height,onChange:K=>k(K,["specifications","dimensions","height"])})]})]})]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{className:"form-input",value:u.status,onChange:K=>k(K),name:"status",children:[l.jsx("option",{value:"Active",children:"Active"}),l.jsx("option",{value:"Hidden",children:"Hidden"})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:u.isOnSale,onChange:K=>k(K,["isOnSale"])})," On Sale"]}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:u.featured,onChange:K=>k(K,["featured"])})," Featured"]})]})]})})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"card flex flex-col items-center justify-center",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Image Preview"}),u.baseImage&&u.baseImage.length>0?l.jsx("img",{src:u.baseImage[0],alt:"Preview",className:"h-40 w-40 object-cover rounded border"}):l.jsx("div",{className:"h-40 w-40 flex items-center justify-center bg-gray-100 text-gray-400 rounded border",children:"No Image"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"First image will be used as the main product image."})]})})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary px-8 py-2",disabled:e,children:[e?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):l.jsx(kv,{className:"h-5 w-5 mr-2"}),e?"Saving...":"Save Product"]}),l.jsx("button",{type:"button",disabled:e,onClick:()=>t("/products"),className:"btn btn-secondary px-8 py-2",children:"Cancel"})]})]})]})},JO={Pending:"badge-warning",Processing:"badge-info",Shipped:"badge-primary",Delivered:"badge-success",Cancelled:"badge-error"},Bg=t=>t?typeof t=="string"?t:typeof t=="object"&&(t.en||t.ar||Object.values(t)[0])||"N/A":"N/A",ZO=({orderId:t,onClose:e,onStatusUpdated:n})=>{var B,z,W,q,ne,J,fe,ee,ie,oe,ke,Ee;const[s,i]=R.useState(null),[c,u]=R.useState(!0),[h,m]=R.useState(null),[x,y]=R.useState(null),[b,j]=R.useState(null),[C,k]=R.useState({}),[N,P]=R.useState(""),[S,F]=R.useState(!1);return R.useEffect(()=>{s&&s.status&&P(s.status)},[s]),R.useEffect(()=>{t&&(async()=>{var ye,T;u(!0),m(null);try{const M=await gt(`/api/orders/order/${t}`);if(console.log("Order details response:",M),i(M.data||M),console.log(M.data||M,"Status"),M.shop)try{const H=await gt(`/api/shops/${M.shop}`);y(H.data||H)}catch(H){console.error("Failed to fetch shop details:",H)}if(console.log(M.user),M.user)try{const H=await gt(`/api/auth/user/${M.user}`);console.log(H),j(H.data||H)}catch(H){console.error("Failed to fetch user details:",H)}const D=((M.data||M).items||[]).map(H=>H.product).filter(Boolean),O=[...new Set(D)],V={};await Promise.all(O.map(async H=>{try{const te=await gt(`/api/products/${H}`);V[H]=te.data||te}catch{V[H]=null}})),k(V)}catch(M){let G="Failed to fetch order details.";(T=(ye=M.response)==null?void 0:ye.data)!=null&&T.message&&(G=M.response.data.message),m(G),console.error("Order details fetch error:",M)}finally{u(!1)}})()},[t]),t?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl p-6 relative animate-fade-in overflow-y-auto max-h-[90vh]",children:[l.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700",onClick:e,children:l.jsx(Vc,{className:"h-6 w-6"})}),c?l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[l.jsx(dj,{className:"h-10 w-10 animate-spin text-gray-400 mb-2"}),l.jsx("span",{className:"text-gray-500",children:"Loading order details..."})]}):h?l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[l.jsx(qn,{className:"h-10 w-10 text-error-500 mb-2"}),l.jsx("span",{className:"text-error-500",children:h})]}):s?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center mt-10 md:justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Order No: ",l.jsx("span",{className:"text-primary-600",children:s._id})]}),l.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold ",children:[l.jsx("h2",{className:"text-2xl font-bold mb-1",children:" Shop Name - "}),Bg(x==null?void 0:x.name)||"Shop",l.jsx("span",{className:`ml-3 badge ${JO[s.status]||"badge-secondary"}`,children:s.status})]})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[l.jsx("div",{children:"Order Created at"}),l.jsx("div",{className:"font-medium text-gray-900",children:ol(new Date(s.createdAt),"dd MMM yyyy")}),l.jsx("div",{children:ol(new Date(s.createdAt),"hh:mm a")})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card bg-blue-50",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("span",{className:"font-semibold",children:"Customer"})}),l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx(wj,{className:"text-blue-500"}),l.jsx("span",{className:"font-medium ",children:(b==null?void 0:b.name)||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx(Sv,{className:"text-blue-500"}),l.jsx("span",{className:"",children:(b==null?void 0:b.email)||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx(pj,{className:"text-blue-500"}),l.jsx("span",{className:"",children:((B=s.deliveryAddress)==null?void 0:B.street)||"N/A"})]}),s.deliveryAddress&&l.jsxs("div",{className:"ml-7 text-xs text-gray-500",children:[s.deliveryAddress.city,", ",s.deliveryAddress.country]}),l.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx(xj,{className:"text-blue-500"}),l.jsx("span",{className:"",children:((z=b==null?void 0:b.profile)==null?void 0:z.phone)||(b==null?void 0:b.contact)||"N/A"})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Payment & Shipping"}),l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(fj,{className:"text-primary-500"}),l.jsx("span",{children:"Payment method:"}),l.jsx("span",{className:"font-medium capitalize",children:((q=(W=s.paymentInfo)==null?void 0:W.method)==null?void 0:q.replace(/_/g," "))||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{children:"Payment Status:"}),l.jsx("span",{className:"font-medium capitalize",children:((ne=s.paymentInfo)==null?void 0:ne.status)||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{children:"Delivery Fee:"}),l.jsxs("span",{className:"font-medium",children:[l.jsx("span",{className:"text-xs",children:"QAR "}),((fe=(J=s.pricing)==null?void 0:J.deliveryFee)==null?void 0:fe.toFixed(2))||"0.00"]})]})]}),l.jsxs("div",{className:"mt-4 md:col-span-2 flex items-end gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"order-status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),l.jsxs("select",{id:"order-status",className:"block w-full rounded-md border border-blue-400 bg-white shadow-sm focus:border-blue-600 focus:ring-blue-500 text-base py-2 px-3 font-semibold text-gray-800",value:N,onChange:we=>P(we.target.value),children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"confirmed",children:"Confirmed"}),l.jsx("option",{value:"preparing",children:"Preparing"}),l.jsx("option",{value:"ready",children:"Ready"}),l.jsx("option",{value:"Out for Delivery",children:"Out for Delivery"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"cancelled",children:"Cancelled"}),l.jsx("option",{value:"refunded",children:"Refunded"}),l.jsx("option",{value:"24Hrs",children:"24Hrs"}),l.jsx("option",{value:"42Hrs",children:"42Hrs"})]})]}),l.jsxs("button",{className:"ml-2 px-4 py-2 rounded bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 disabled:opacity-50 flex items-center",disabled:S||!s||N===s.status,onClick:async()=>{if(!(!s||N===s.status)){F(!0);try{await Ji(`/api/orders/${s._id}/status`,{status:N}),Se.success("Order status updated!"),i({...s,status:N}),n&&n()}catch{Se.error("Failed to update status")}finally{F(!1)}}},children:[S?l.jsx(gn,{className:"animate-spin mr-2 h-5 w-5"}):null,"Update"]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("div",{className:"font-semibold",children:"Order Items"}),l.jsx("div",{className:"font-semibold text-right",children:"Single Product price"})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:s.items&&s.items.length>0?s.items.map((we,ye)=>{var D;const T=C[we.product],M=Bg((D=we.variantSnapshot)==null?void 0:D.name)||Bg(T==null?void 0:T.name),G=T!=null&&T.baseImage&&Array.isArray(T.baseImage)&&T.baseImage.length>0?T.baseImage[0]:(T==null?void 0:T.image)||null;return l.jsxs("div",{className:"flex items-center py-3 gap-4 justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:"h-14 w-14 rounded-md bg-gray-200 flex items-center justify-center text-gray-500",children:G?l.jsx("img",{src:G,alt:M,className:"h-14 w-14 rounded-md object-cover"}):l.jsx(ai,{className:"h-6 w-6"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-gray-900 truncate",children:M}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",we.quantity||1]})]})]}),l.jsxs("div",{className:"text-right font-bold text-xl text-gray-900 min-w-[120px]",children:[l.jsx("span",{className:"text-xs",children:"QAR "})," ",we.unitPrice?we.unitPrice:"0.00"]})]},ye)}):l.jsx("div",{className:"text-gray-400 py-4 text-center",children:"No products in this order."})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Order Summary"}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:[l.jsx("span",{className:"text-xs",children:"QAR "}),((ee=s.pricing)==null?void 0:ee.subtotal)||"0.00"]})]}),((ie=s.pricing)==null?void 0:ie.tax)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-700",children:"Tax:"}),l.jsxs("span",{className:"text-blue-700",children:[l.jsx("span",{className:"text-xs",children:"QAR "}),s.pricing.tax]})]}),((oe=s.pricing)==null?void 0:oe.deliveryFee)>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-700",children:"Delivery:"}),l.jsxs("span",{className:"text-blue-700",children:[l.jsx("span",{className:"text-xs",children:"QAR "}),s.pricing.deliveryFee]})]}),((ke=s.pricing)==null?void 0:ke.discount)>0&&l.jsxs("div",{className:"flex justify-between text-blue-600",children:[l.jsx("span",{className:"text-blue-700",children:"Discount:"}),l.jsxs("span",{className:"text-blue-600",children:["-",l.jsx("span",{className:"text-xs",children:"QAR "}),s.pricing.discount]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-blue-700",children:"Total:"}),l.jsxs("span",{className:"text-blue-600",children:[l.jsx("span",{className:"text-xs",children:"QAR "}),((Ee=s.pricing)==null?void 0:Ee.totalAmount)||"0.00"]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Status History"}),l.jsx("div",{className:"flex flex-col gap-2",children:s.timeline&&s.timeline.length>0?s.timeline.map((we,ye)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-primary-500"}),l.jsx("span",{children:we.status}),l.jsx("span",{className:"text-gray-400",children:we.by?`by ${we.by}`:""}),l.jsx("span",{className:"ml-auto text-xs text-gray-500",children:ol(new Date(we.timestamp),"dd MMM yyyy, hh:mm a")})]},ye)):l.jsx("div",{className:"text-gray-400",children:"No status history available."})})]})]})]}):null]})}):null},eA=()=>{const[t]=ej(),{user:e}=Qn(),[n,s]=R.useState([]),[i,c]=R.useState([]),[u,h]=R.useState(!0),[m,x]=R.useState(!1),[y,b]=R.useState([]),[j,C]=R.useState(!1),[k,N]=R.useState(null),[P,S]=R.useState(!1),[F,B]=R.useState(null),[z,W]=R.useState(1),q=30,ne=(e==null?void 0:e.role)==="worker",J=t.get("status"),fe=async()=>{var ye,T,M,G;h(!0),N(null);try{let D;if(ne?D=((ye=e==null?void 0:e.assignedShop)==null?void 0:ye._id)||(e==null?void 0:e.assignedShop):D=((T=e==null?void 0:e.managedShops[0])==null?void 0:T._id)||(Array.isArray(e==null?void 0:e.managedShop)?e.managedShop[0]:null),!D){s([]),c([]),N(ne?"No shop assigned to this worker.":"No shop found for this user."),h(!1);return}const O=await gt("/api/orders"),te=[...(Array.isArray(O)?O:O.data||[]).filter(ce=>{var U;return ce.shop===D||((U=ce.shop)==null?void 0:U._id)===D})].reverse();if(s(te),J){const ce=J.toLowerCase();c(te.filter(U=>U.status.toLowerCase()===ce))}else c(te)}catch(D){s([]),c([]),N(D),Se.error(((G=(M=D.response)==null?void 0:M.data)==null?void 0:G.message)||"Failed to fetch orders.")}finally{h(!1)}};R.useEffect(()=>{fe()},[J,e]);const ee=(ye,T)=>{let M=[...n];if(ye){const G=ye.toLowerCase();M=M.filter(D=>{var O,V;return D._id.toLowerCase().includes(G)||((O=D.user)==null?void 0:O.name)&&D.user.name.toLowerCase().includes(G)||((V=D.user)==null?void 0:V.email)&&D.user.email.toLowerCase().includes(G)})}if(T.status&&(M=M.filter(G=>G.status===T.status)),T.paymentStatus&&(M=M.filter(G=>G.paymentStatus===T.paymentStatus)),T.dateFrom){const G=new Date(T.dateFrom);M=M.filter(D=>new Date(D.createdAt)>=G)}if(T.dateTo){const G=new Date(T.dateTo);G.setHours(23,59,59,999),M=M.filter(D=>new Date(D.createdAt)<=G)}T.minTotal&&(M=M.filter(G=>G.pricing&&typeof G.pricing.totalAmount=="number"&&G.pricing.totalAmount>=parseFloat(T.minTotal))),T.maxTotal&&(M=M.filter(G=>G.pricing&&typeof G.pricing.totalAmount=="number"&&G.pricing.totalAmount<=parseFloat(T.maxTotal))),c(M)},ie=async ye=>{var G,D;if(y.length===0){Se.error("No orders selected");return}let T="",M="";switch(ye){case"process":T="Processing";break;case"ship":T="Shipped";break;case"deliver":T="Delivered";break;case"cancel":T="Cancelled";break;default:Se.error("Invalid action");return}M=`${y.length} orders marked as ${T.toLowerCase()}`,x(!0);try{await Promise.all(y.map(O=>Ji(`/orders/${O}/status`,{status:T}))),Se.success(M),fe()}catch(O){console.error(`Failed to update orders to ${T}:`,O),Se.error(((D=(G=O.response)==null?void 0:G.data)==null?void 0:D.message)||"Failed to update orders.")}finally{x(!1),b([]),C(!1)}},oe=[{name:"status",label:"Status",type:"select",options:[{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"preparing",label:"Preparing"},{value:"ready",label:"Ready"},{value:"Out for Delivery",label:"Out for Delivery"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"refunded",label:"Refunded"}]},{name:"dateFrom",label:"Date From",type:"date"},{name:"dateTo",label:"Date To",type:"date"},{name:"minTotal",label:"Min Total",type:"number",placeholder:"0.00"},{name:"maxTotal",label:"Max Total",type:"number",placeholder:"1000.00"}],ke=Math.ceil(i.length/q),Ee=i.slice((z-1)*q,z*q);R.useEffect(()=>{W(1)},[i]);const we=()=>{c(n)};return l.jsxs("div",{children:[l.jsx(Hs,{title:"Orders",subtitle:"Manage and track your orders",breadcrumbs:[{text:"Dashboard",link:"/"},{text:"Orders"}]}),l.jsx("div",{className:"card mb-6",children:l.jsx(D0,{onSearch:ee,onClear:we,placeholder:"Search orders by ID, customer name, or email...",filters:oe})}),!ne&&y.length>0&&l.jsxs("div",{className:"flex items-center mb-4 p-3 bg-primary-50 rounded-md animate-fade-in",children:[l.jsxs("span",{className:"text-sm font-medium text-primary-700 mr-4",children:[y.length," orders selected"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsxs("button",{onClick:()=>ie("process"),className:"btn btn-warning text-sm py-1",disabled:m,children:[m?l.jsx(gn,{className:"animate-spin mr-1 h-4 w-4"}):null," Process"]}),l.jsxs("button",{onClick:()=>ie("ship"),className:"btn btn-info text-sm py-1",disabled:m,children:[m?l.jsx(gn,{className:"animate-spin mr-1 h-4 w-4"}):l.jsx(bj,{className:"mr-1 h-4 w-4"})," Ship"]}),l.jsxs("button",{onClick:()=>ie("deliver"),className:"btn btn-success text-sm py-1",disabled:m,children:[m?l.jsx(gn,{className:"animate-spin mr-1 h-4 w-4"}):null," Mark Delivered"]}),l.jsxs("button",{onClick:()=>ie("cancel"),className:"btn btn-danger text-sm py-1",disabled:m,children:[m?l.jsx(gn,{className:"animate-spin mr-1 h-4 w-4"}):l.jsx(Vc,{className:"mr-1 h-4 w-4"}),"Cancel"]})]})]}),l.jsx("div",{className:"card",children:u?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),[...Array(5)].map((ye,T)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded mb-2"},T))]}):i.length===0?l.jsx(dl,{title:"No orders found",description:J?`No orders with status "${J}" found.`:"No orders found. They will appear here once customers place orders.",icon:l.jsx(rf,{className:"h-8 w-8"})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Products"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),l.jsx("th",{className:"px-4 py-3 text-right text-nowrap",children:"Total( QAR )"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Items"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),!ne&&l.jsx("th",{className:"px-4 py-3 text-right align-bottom",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:Ee.map(ye=>{var T,M,G,D;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsx("div",{className:"flex items-center gap-1",children:ye.items&&ye.items.length>0?l.jsxs(l.Fragment,{children:[ye.items.slice(0,2).map((O,V)=>{var H,te,ce;return l.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 flex items-center justify-center text-gray-500",children:(H=O.product)!=null&&H.baseImage&&Array.isArray(O.product.baseImage)&&O.product.baseImage.length>0?l.jsx("img",{src:O.product.baseImage[0],alt:typeof O.product.name=="object"?((te=O.product.name)==null?void 0:te.en)||((ce=O.product.name)==null?void 0:ce.ar)||"Product":O.product.name||"Product",className:"h-10 w-10 rounded-md object-cover"}):l.jsx(ai,{className:"h-5 w-5"})},V)}),ye.items.length>2&&l.jsxs("span",{className:"ml-1 text-xs bg-gray-200 rounded-full px-2 py-1 text-gray-700",children:["+",ye.items.length-2]})]}):l.jsx("span",{className:"text-gray-400",children:"No products"})})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-900",children:((T=ye.user)==null?void 0:T.name)||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:((M=ye.user)==null?void 0:M.email)||"N/A"})]})}),l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-900 text-nowrap",children:ol(new Date(ye.createdAt),"MMM dd, yyyy")}),l.jsx("p",{className:"text-xs text-gray-500",children:ol(new Date(ye.createdAt),"hh:mm a")})]})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 text-right font-medium",children:(G=ye.pricing)!=null&&G.totalAmount?ye.pricing.totalAmount:"0.00"}),l.jsx("td",{className:"px-4 py-4 text-sm text-center",children:((D=ye.items)==null?void 0:D.length)||0}),l.jsx("td",{className:"px-4 py-4 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ye.status==="pending"?"bg-yellow-100 text-yellow-700":ye.status==="confirmed"?"bg-blue-100 text-blue-700":ye.status==="preparing"?"bg-indigo-100 text-indigo-700":ye.status==="ready"?"bg-purple-100 text-purple-700":ye.status==="Out for Delivery"?"bg-orange-100 text-orange-700":ye.status==="delivered"?"bg-green-100 text-green-700":ye.status==="cancelled"?"bg-red-100 text-red-700":(ye.status==="refunded","bg-gray-100 text-gray-700")}`,children:ye.status})}),!ne&&l.jsx("td",{className:"px-4 py-4 text-sm font-medium",children:l.jsx("div",{className:"flex items-center justify-center h-full w-full",children:l.jsx("button",{onClick:()=>{B(ye._id),S(!0)},className:"text-primary-600 hover:text-primary-900 flex justify-center items-center",children:l.jsx(Ua,{className:"h-5 w-5 cursor-pointer",title:"View Order Details"})})})})]},ye._id)})})]}),l.jsxs("div",{className:"py-3 px-4 flex items-center justify-between border-t border-gray-200",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:i.length===0?0:(z-1)*q+1})," to ",l.jsx("span",{className:"font-medium",children:Math.min(z*q,i.length)})," of"," ",l.jsx("span",{className:"font-medium",children:i.length})," results"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:z===1,onClick:()=>W(ye=>Math.max(ye-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",z," of ",ke||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:z===ke||ke===0,onClick:()=>W(ye=>Math.min(ye+1,ke)),children:"Next"})]})]})]})}),!ne&&P&&F&&l.jsx(ZO,{orderId:F,onClose:()=>{S(!1),B(null)},onStatusUpdated:fe})]})},tA={monday:{open:"",close:"",isOpen:!0},tuesday:{open:"",close:"",isOpen:!0},wednesday:{open:"",close:"",isOpen:!0},thursday:{open:"",close:"",isOpen:!0},friday:{open:"",close:"",isOpen:!0},saturday:{open:"",close:"",isOpen:!0},sunday:{open:"",close:"",isOpen:!1}},_m={name:{en:"",ar:""},description:{en:"",ar:""},logo:"",banner:"",address:{street:"",city:"",state:"",country:"",zipCode:"",coordinates:{latitude:"",longitude:""}},contact:{phone:"",email:"",website:""},settings:{allowOnlineOrders:!0,deliveryRadius:10,minimumOrderAmount:0,deliveryFee:0,deliveryConfigurations:[{deliveryRadius:10,minimumOrderAmount:0,deliveryFee:0}],operatingHours:tA}},nA=()=>{const{user:t,setUser:e,refreshUser:n}=Qn(),[s,i]=R.useState(_m),[c,u]=R.useState(!1),[h,m]=R.useState(""),[x,y]=R.useState(""),b=R.useRef(),j=R.useRef(),C=(H,te)=>{const ce=H.target.files[0];if(ce){const U=new FileReader;U.onloadend=()=>{te==="logo"?(m(U.result),i(he=>({...he,logo:U.result}))):te==="banner"&&(y(U.result),i(he=>({...he,banner:U.result})))},U.readAsDataURL(ce)}},k=(H,te)=>{H.preventDefault();const ce=H.dataTransfer.files[0];if(ce){const U=new FileReader;U.onloadend=()=>{te==="logo"?(m(U.result),i(he=>({...he,logo:U.result}))):te==="banner"&&(y(U.result),i(he=>({...he,banner:U.result})))},U.readAsDataURL(ce)}},N=H=>H.preventDefault(),P=async()=>{if(t!=null&&t._id)try{const H=await gt(`/api/shops/user/${t==null?void 0:t._id}`);if(console.log("Fetched shop data:",H.data),H&&H.data&&Array.isArray(H.data)&&H.data.length>0){const te=H.data[0];te.settings.deliveryConfigurations||(te.settings.deliveryConfigurations=[{deliveryRadius:te.settings.deliveryRadius||10,minimumOrderAmount:te.settings.minimumOrderAmount||0,deliveryFee:te.settings.deliveryFee||0}]),i({..._m,...te})}else i(_m)}catch{i(_m)}};R.useEffect(()=>{P()},[t]);const[S,F]=R.useState({oldPassword:"",newPassword:"",confirmNewPassword:""}),[B,z]=R.useState(!1),[W,q]=R.useState(""),[ne,J]=R.useState(""),[fe,ee]=R.useState(!1),[ie,oe]=R.useState(!1),[ke,Ee]=R.useState(!1),we=(H,te=[])=>{const{name:ce,value:U,type:he,checked:Oe}=H.target;let K=he==="checkbox"?Oe:U;te.length?i(pe=>{let Qe={...pe},We=Qe;for(let Ie=0;Ie<te.length-1;Ie++)We=We[te[Ie]];return We[te[te.length-1]]=K,Qe}):i(pe=>({...pe,[ce]:K}))},ye=(H,te,ce)=>{i(U=>({...U,settings:{...U.settings,operatingHours:{...U.settings.operatingHours,[H]:{...U.settings.operatingHours[H],[te]:ce}}}}))},T=()=>{i(H=>({...H,settings:{...H.settings,deliveryConfigurations:[...H.settings.deliveryConfigurations,{deliveryRadius:10,minimumOrderAmount:0,deliveryFee:0}]}}))},M=H=>{if(s.settings.deliveryConfigurations.length<=1){Se.warning("You must have at least one delivery configuration");return}i(te=>({...te,settings:{...te.settings,deliveryConfigurations:te.settings.deliveryConfigurations.filter((ce,U)=>U!==H)}}))},G=(H,te,ce)=>{i(U=>{const he=[...U.settings.deliveryConfigurations];return he[H]={...he[H],[te]:Number(ce)},{...U,settings:{...U.settings,deliveryConfigurations:he}}})},D=async H=>{var te,ce;H.preventDefault(),u(!0);try{const U=s.settings.deliveryConfigurations[0]||{deliveryRadius:10,minimumOrderAmount:0,deliveryFee:0},he={...s,settings:{...s.settings,deliveryRadius:U.deliveryRadius,minimumOrderAmount:U.minimumOrderAmount,deliveryFee:U.deliveryFee,operatingHours:{...s.settings.operatingHours}},userId:t==null?void 0:t._id,shopId:s==null?void 0:s._id};console.log("Submitting shop payload:",he);let Oe=null;if(s._id)await Ji(`/api/shops/${s._id}`,he),Se.success("Shop updated successfully!");else{const K=await yn("/api/shops",he);Oe=K.data||K,Se.success("Shop registered successfully!")}await P(),Oe&&Oe._id&&(e(K=>({...K,managedShops:[...K.managedShops||[],Oe._id]})),localStorage.setItem("user",JSON.stringify({...t,managedShops:[...t.managedShops||[],Oe._id]})),n&&await n()),s._id&&!(t.managedShops||[]).includes(s._id)&&(e(K=>({...K,managedShops:[...K.managedShops||[],s._id]})),localStorage.setItem("user",JSON.stringify({...t,managedShops:[...t.managedShops||[],s._id]})),n&&await n())}catch(U){Se.error(((ce=(te=U.response)==null?void 0:te.data)==null?void 0:ce.message)||"Failed to save shop")}finally{u(!1)}},O=H=>{F({...S,[H.target.name]:H.target.value}),q(""),J("")},V=async H=>{var te,ce;if(H.preventDefault(),q(""),J(""),!S.oldPassword||!S.newPassword||!S.confirmNewPassword){q("All password fields are required.");return}if(S.newPassword!==S.confirmNewPassword){q("New passwords do not match.");return}if(S.newPassword.length<6){q("New password must be at least 6 characters long.");return}z(!0);try{if(!t||!t.email){q("User email not found. Please re-login."),z(!1);return}await yn("/api/auth/change-password",{email:t.email,oldPassword:S.oldPassword,newPassword:S.newPassword}),J("Password changed successfully!"),Se.success("Password changed successfully!"),F({oldPassword:"",newPassword:"",confirmNewPassword:""})}catch(U){const he=((ce=(te=U.response)==null?void 0:te.data)==null?void 0:ce.message)||"Failed to change password. Please try again.";q(he),Se.error(he)}finally{z(!1)}};return l.jsxs("div",{className:"w-full p-8 bg-white rounded-xl shadow-lg mt-8",children:[l.jsx(Hs,{title:"Settings / Register Shop",subtitle:"Register a new shop and configure your account details",breadcrumbs:[{text:"Dashboard",link:"/"},{text:"Settings"}]}),l.jsxs("form",{onSubmit:D,className:"space-y-8 mb-12 bg-gray-50 p-6 rounded-lg shadow border border-gray-200 w-full",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4 text-primary-700 border-b pb-2",children:"Register Shop"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shop Name (EN):"}),l.jsx("input",{type:"text",value:s.name.en,onChange:H=>we(H,["name","en"]),required:!0,className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shop Name (AR):"}),l.jsx("input",{type:"text",value:s.name.ar,onChange:H=>we(H,["name","ar"]),required:!0,className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (EN):"}),l.jsx("textarea",{value:s.description.en,onChange:H=>we(H,["description","en"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (AR):"}),l.jsx("textarea",{value:s.description.ar,onChange:H=>we(H,["description","ar"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo:"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer bg-white hover:bg-gray-50",onClick:()=>b.current.click(),onDrop:H=>k(H,"logo"),onDragOver:N,style:{minHeight:120},children:[h||s.logo?l.jsx("img",{src:h||s.logo,alt:"Logo Preview",className:"h-20 w-auto object-contain mb-2"}):l.jsx("span",{className:"text-gray-400",children:"Drag & drop or click to upload logo"}),l.jsx("input",{type:"file",accept:"image/*",ref:b,style:{display:"none"},onChange:H=>C(H,"logo")})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner:"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer bg-white hover:bg-gray-50",onClick:()=>j.current.click(),onDrop:H=>k(H,"banner"),onDragOver:N,style:{minHeight:120},children:[x||s.banner?l.jsx("img",{src:x||s.banner,alt:"Banner Preview",className:"h-20 w-auto object-contain mb-2"}):l.jsx("span",{className:"text-gray-400",children:"Drag & drop or click to upload banner"}),l.jsx("input",{type:"file",accept:"image/*",ref:j,style:{display:"none"},onChange:H=>C(H,"banner")})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street:"}),l.jsx("input",{type:"text",value:s.address.street,onChange:H=>we(H,["address","street"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City:"}),l.jsx("input",{type:"text",value:s.address.city,onChange:H=>we(H,["address","city"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State:"}),l.jsx("input",{type:"text",value:s.address.state,onChange:H=>we(H,["address","state"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country:"}),l.jsx("input",{type:"text",value:s.address.country,onChange:H=>we(H,["address","country"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code:"}),l.jsx("input",{type:"text",value:s.address.zipCode,onChange:H=>we(H,["address","zipCode"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitude:"}),l.jsx("input",{type:"number",value:s.address.coordinates.latitude,onChange:H=>we(H,["address","coordinates","latitude"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitude:"}),l.jsx("input",{type:"number",value:s.address.coordinates.longitude,onChange:H=>we(H,["address","coordinates","longitude"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone:"}),l.jsx("input",{type:"text",value:s.contact.phone,onChange:H=>we(H,["contact","phone"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email:"}),l.jsx("input",{type:"email",value:s.contact.email,onChange:H=>we(H,["contact","email"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website:"}),l.jsx("input",{type:"text",value:s.contact.website,onChange:H=>we(H,["contact","website"]),className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]})]}),l.jsxs("div",{className:"mt-6 border-t pt-6",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-4",children:[l.jsx("input",{type:"checkbox",checked:s.settings.allowOnlineOrders,onChange:H=>i(te=>({...te,settings:{...te.settings,allowOnlineOrders:H.target.checked}})),className:"form-checkbox h-5 w-5 text-primary-600"}),"Allow Online Orders"]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary-700",children:"Delivery Configurations"}),l.jsxs("button",{type:"button",onClick:T,className:"inline-flex items-center px-3 py-1 border border-primary-500 text-primary-600 rounded-md hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[l.jsx(Gm,{className:"mr-1"})," Add Configuration"]})]}),l.jsx("div",{className:"space-y-4",children:s.settings.deliveryConfigurations.map((H,te)=>l.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-4 border border-gray-200 rounded-lg bg-white shadow-sm",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Radius (km):"}),l.jsx("input",{type:"number",value:H.deliveryRadius,onChange:ce=>G(te,"deliveryRadius",ce.target.value),className:"form-input w-32 rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order Amount:"}),l.jsx("input",{type:"number",value:H.minimumOrderAmount,onChange:ce=>G(te,"minimumOrderAmount",ce.target.value),className:"form-input w-32 rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Fee:"}),l.jsx("input",{type:"number",value:H.deliveryFee,onChange:ce=>G(te,"deliveryFee",ce.target.value),className:"form-input w-32 rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsx("button",{type:"button",onClick:()=>M(te),className:"inline-flex items-center px-2 py-1 border border-red-300 text-red-600 rounded-md hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mb-1",children:l.jsx(eu,{className:"h-4 w-4"})})]},te))})]}),l.jsxs("div",{className:"hidden",children:[l.jsx("input",{type:"number",value:s.settings.deliveryRadius,onChange:H=>i(te=>({...te,settings:{...te.settings,deliveryRadius:Number(H.target.value)}}))}),l.jsx("input",{type:"number",value:s.settings.minimumOrderAmount,onChange:H=>i(te=>({...te,settings:{...te.settings,minimumOrderAmount:Number(H.target.value)}}))}),l.jsx("input",{type:"number",value:s.settings.deliveryFee,onChange:H=>i(te=>({...te,settings:{...te.settings,deliveryFee:Number(H.target.value)}}))})]})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary-700",children:"Operating Hours"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s.settings.operatingHours).map(([H,{open:te,close:ce,isOpen:U}])=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 bg-white border border-gray-200 rounded p-3 shadow-sm w-full",children:[l.jsxs("strong",{className:"w-24 min-w-[5rem] text-gray-700",children:[H.charAt(0).toUpperCase()+H.slice(1),":"]}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx("input",{type:"time",value:te,onChange:he=>ye(H,"open",he.target.value),className:"form-input w-full sm:w-24 rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"}),l.jsx("input",{type:"time",value:ce,onChange:he=>ye(H,"close",he.target.value),className:"form-input w-full sm:w-24 rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),l.jsxs("label",{className:"flex items-center mt-1 sm:mt-0",children:[l.jsx("input",{type:"checkbox",checked:U,onChange:he=>ye(H,"isOpen",he.target.checked),className:"form-checkbox h-5 w-5 text-primary-600"}),l.jsx("span",{className:"ml-1",children:"Open"})]})]},H))})]}),l.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center px-6 py-2 rounded-lg shadow bg-primary-600 hover:bg-primary-700 text-white font-semibold text-lg transition-all duration-200",disabled:c,children:[l.jsx(kv,{className:"mr-2 h-5 w-5"}),c?"Saving...":s._id?"Update Shop":"Register Shop"]})]}),l.jsxs("div",{className:"card mt-12 bg-gray-50 p-6 rounded-lg shadow border border-gray-200",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(bx,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})]}),W&&l.jsxs("div",{className:"mb-4 p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md flex items-center",children:[l.jsx(qn,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:W})]}),ne&&l.jsx("div",{className:"mb-4 p-3 text-sm text-green-700 bg-green-100 border border-green-400 rounded-md",children:ne}),l.jsxs("form",{onSubmit:V,className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"oldPassword",className:"form-label block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:fe?"text":"password",id:"oldPassword",name:"oldPassword",className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500 pr-10",value:S.oldPassword,onChange:O,required:!0}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>ee(H=>!H),"aria-label":fe?"Hide password":"Show password",children:fe?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"newPassword",className:"form-label block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:ie?"text":"password",id:"newPassword",name:"newPassword",className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500 pr-10",value:S.newPassword,onChange:O,required:!0}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>oe(H=>!H),"aria-label":ie?"Hide password":"Show password",children:ie?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmNewPassword",className:"form-label block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:ke?"text":"password",id:"confirmNewPassword",name:"confirmNewPassword",className:"form-input w-full rounded border-gray-300 focus:border-primary-500 focus:ring-primary-500 pr-10",value:S.confirmNewPassword,onChange:O,required:!0}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>Ee(H=>!H),"aria-label":ke?"Hide password":"Show password",children:ke?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",className:"btn btn-primary inline-flex items-center px-6 py-2 rounded-lg shadow bg-primary-600 hover:bg-primary-700 text-white font-semibold text-lg transition-all duration-200",disabled:B,children:[B?l.jsx(gn,{className:"animate-spin mr-2 h-5 w-5"}):l.jsx(bx,{className:"mr-2 h-5 w-5"}),"Change Password"]})})]})]})]})},sA=()=>l.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center px-4 text-center",children:[l.jsx("h1",{className:"text-9xl font-bold text-gray-200",children:"404"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-800 mt-8 mb-2",children:"Page Not Found"}),l.jsx("p",{className:"text-gray-600 max-w-md mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),l.jsxs(zt,{to:"/",className:"btn btn-primary inline-flex items-center",children:[l.jsx(Vg,{className:"mr-2 h-5 w-5"}),"Back to Dashboard"]})]}),rA=({isOpen:t,onClose:e})=>{const[n,s]=R.useState(1),[i,c]=R.useState(""),[u,h]=R.useState(""),[m,x]=R.useState(""),[y,b]=R.useState(!1),[j,C]=R.useState(!1),[k,N]=R.useState(""),P=async z=>{var W,q;z.preventDefault(),N(""),C(!0);try{await Ix(i),Se.success("OTP sent to your email."),s(2)}catch(ne){N(((q=(W=ne==null?void 0:ne.response)==null?void 0:W.data)==null?void 0:q.message)||"Failed to send OTP.")}finally{C(!1)}},S=async z=>{var W,q;z.preventDefault(),N(""),C(!0);try{const ne=await tS(i,u);if(!ne||!ne.success){N((ne==null?void 0:ne.message)||"OTP verification failed.");return}s(3)}catch(ne){const J=(q=(W=ne==null?void 0:ne.response)==null?void 0:W.data)==null?void 0:q.message;N(J||"OTP verification failed."),(J==="No OTP sent to this email"||J==="Too many incorrect attempts. Please request a new OTP."||J==="OTP expired")&&(s(1),h(""),N(J+" Please request a new OTP."))}finally{C(!1)}},F=async z=>{var W,q;if(z.preventDefault(),N(""),m.length<6){N("Password must be at least 6 characters long.");return}C(!0);try{const ne=await nS(i,m);if(!ne||!ne.success){N((ne==null?void 0:ne.message)||"Failed to reset password.");return}Se.success("Password reset successful! You can now log in."),e()}catch(ne){N(((q=(W=ne==null?void 0:ne.response)==null?void 0:W.data)==null?void 0:q.message)||"Failed to reset password.")}finally{C(!1)}},B=async()=>{var z,W;N(""),C(!0);try{await Ix(i),Se.success("OTP resent to your email.")}catch(q){N(((W=(z=q==null?void 0:q.response)==null?void 0:z.data)==null?void 0:W.message)||"Failed to resend OTP.")}finally{C(!1)}};return t?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:e,children:"×"}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Forgot Password"}),k&&l.jsxs("div",{className:"flex items-center p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md mb-4",children:[l.jsx(qn,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:k})]}),n===1&&l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fp-email",className:"block text-sm font-medium text-gray-700",children:"Registered Email"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"fp-email",type:"email",className:"form-input mt-1 w-full",value:i,onChange:z=>c(z.target.value),required:!0,placeholder:"you@example.com"}),l.jsx(Sv,{className:"absolute right-3 top-3 text-gray-400"})]})]}),l.jsxs("button",{type:"submit",className:"w-full btn btn-primary flex justify-center items-center",disabled:j,children:[j?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):null,"Send OTP"]})]}),n===2&&l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fp-otp",className:"block text-sm font-medium text-gray-700",children:"Enter OTP sent to your email"}),l.jsx("input",{id:"fp-otp",type:"text",className:"form-input mt-1 w-full",value:u,onChange:z=>h(z.target.value),required:!0,placeholder:"Enter 5-digit OTP"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{type:"button",className:"text-primary-600 hover:underline text-sm",disabled:j,onClick:B,children:"Resend OTP"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:j,children:[j?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):null,"Verify OTP"]})]})]}),n===3&&l.jsxs("form",{onSubmit:F,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fp-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"fp-password",type:y?"text":"password",className:"form-input mt-1 w-full pr-10",value:m,onChange:z=>x(z.target.value),required:!0,placeholder:"•••••••• (min. 6 characters)"}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>b(z=>!z),"aria-label":y?"Hide password":"Show password",children:y?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsxs("button",{type:"submit",className:"w-full btn btn-primary flex justify-center items-center",disabled:j,children:[j?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):null,"Set New Password"]})]})]})}):null},iA=()=>{const t=li(),{login:e,isLoading:n,error:s,setError:i}=Qn(),[c,u]=R.useState({email:"",password:""}),[h,m]=R.useState(""),[x,y]=R.useState(!1),[b,j]=R.useState(!1),C=N=>{u({...c,[N.target.name]:N.target.value}),s&&i(null),h&&m("")},k=async N=>{if(N.preventDefault(),m(""),!c.email||!c.password){m("Please enter both email and password.");return}try{await e(c),Se.success("Logged in successfully!"),t("/"),window.location.reload()}catch{Se.error(s||"Login failed.")}};return l.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:[l.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Yg,{className:"mx-auto h-12 w-12 text-primary-600"}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),(s||h)&&l.jsxs("div",{className:"flex items-center p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",children:[l.jsx(qn,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:s||h})]}),l.jsxs("form",{className:"space-y-6",onSubmit:k,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input mt-1",value:c.email,onChange:C,placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"current-password",required:!0,className:"form-input mt-1 pr-10",value:c.password,onChange:C,placeholder:"••••••••"}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>y(N=>!N),"aria-label":x?"Hide password":"Show password",children:x?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]}),l.jsx("button",{type:"button",className:"text-primary-600 hover:underline text-xs mt-2",onClick:()=>j(!0),children:"Forgot password?"})]}),l.jsx("div",{children:l.jsxs("button",{type:"submit",className:"w-full btn btn-primary flex justify-center items-center",disabled:n,children:[n?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):l.jsx(Yg,{className:"h-5 w-5 mr-2"}),"Sign in"]})})]}),l.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Not a member?"," ",l.jsx(zt,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})," ","or"," ",l.jsx(zt,{to:"/worker-signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"Register as Worker"})]})]}),l.jsx(rA,{isOpen:b,onClose:()=>j(!1)})]})},aA=()=>{const t=li(),{signup:e,isLoading:n,error:s,setError:i}=Qn(),[c,u]=R.useState({name:"",email:"",password:""}),[h,m]=R.useState(""),[x,y]=R.useState(!1),[b,j]=R.useState(!1),[C,k]=R.useState(""),[N,P]=R.useState(""),[S,F]=R.useState(!1),[B,z]=R.useState(!1),W=J=>{u({...c,[J.target.name]:J.target.value}),s&&i(null),h&&m("")},q=async J=>{var fe,ee,ie,oe;if(J.preventDefault(),m(""),!c.name||!c.email||!c.password){m("Please fill in all fields.");return}if(c.password.length<6){m("Password must be at least 6 characters long.");return}try{F(!0),await Dx(c.email),j(!0),z(!0),Se.success("OTP sent to your email.")}catch(ke){P(((ee=(fe=ke==null?void 0:ke.response)==null?void 0:fe.data)==null?void 0:ee.message)||"Failed to send OTP."),Se.error(((oe=(ie=ke==null?void 0:ke.response)==null?void 0:ie.data)==null?void 0:oe.message)||"Failed to send OTP.")}finally{F(!1)}},ne=async J=>{var fe,ee;if(J.preventDefault(),P(""),!C){P("Please enter the OTP.");return}F(!0);try{const ie=await eS(c.email,C);if(!ie||!ie.success){const oe=(ie==null?void 0:ie.message)||"OTP verification failed.";P(oe),Se.error(oe),(oe==="No OTP sent to this email"||oe==="Too many incorrect attempts. Please request a new OTP."||oe==="OTP expired")&&(k(""),j(!1),z(!1));return}await e(c),Se.success("Signup successful! Please log in."),t("/login")}catch(ie){const oe=(ee=(fe=ie==null?void 0:ie.response)==null?void 0:fe.data)==null?void 0:ee.message;P(oe||"OTP verification failed."),Se.error(oe||"OTP verification failed."),(oe==="No OTP sent to this email"||oe==="Too many incorrect attempts. Please request a new OTP."||oe==="OTP expired")&&(k(""),j(!1),z(!1))}finally{F(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(af,{className:"mx-auto h-12 w-12 text-primary-600"}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create a new account"})]}),(s||h||N)&&l.jsxs("div",{className:"flex items-center p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",children:[l.jsx(qn,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:s||h||N})]}),b?l.jsxs("form",{className:"space-y-6",onSubmit:ne,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter OTP sent to your email"}),l.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,className:"form-input mt-1",value:C,onChange:J=>k(J.target.value),placeholder:"Enter 5-digit OTP"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{type:"button",className:"text-primary-600 hover:underline text-sm",disabled:S,onClick:async()=>{var J,fe,ee,ie;P(""),F(!0);try{await Dx(c.email),Se.success("OTP resent to your email.")}catch(oe){P(((fe=(J=oe==null?void 0:oe.response)==null?void 0:J.data)==null?void 0:fe.message)||"Failed to resend OTP."),Se.error(((ie=(ee=oe==null?void 0:oe.response)==null?void 0:ee.data)==null?void 0:ie.message)||"Failed to resend OTP.")}finally{F(!1)}},children:"Resend OTP"}),l.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center",disabled:S,children:[S?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):null,"Verify OTP & Sign up"]})]})]}):l.jsxs("form",{className:"space-y-6",onSubmit:q,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),l.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"form-input mt-1",value:c.name,onChange:W,placeholder:"John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input mt-1",value:c.email,onChange:W,placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"new-password",required:!0,className:"form-input mt-1 pr-10",value:c.password,onChange:W,placeholder:"•••••••• (min. 6 characters)"}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>y(J=>!J),"aria-label":x?"Hide password":"Show password",children:x?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsx("div",{children:l.jsxs("button",{type:"submit",className:"w-full btn btn-primary flex justify-center items-center",disabled:n||S,children:[n||S?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):l.jsx(af,{className:"h-5 w-5 mr-2"}),S?"Sending OTP...":"Sign up"]})})]}),l.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",l.jsx(zt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]})})},oA=()=>{const t=li(),[e,n]=R.useState({name:"",email:"",password:"",shopName:""}),[s,i]=R.useState(""),[c,u]=R.useState(!1),[h,m]=R.useState(!1),x=b=>{n({...e,[b.target.name]:b.target.value}),s&&i("")},y=async b=>{var j,C;if(b.preventDefault(),i(""),!e.name||!e.email||!e.password||!e.shopName){i("Please fill in all fields.");return}if(e.password.length<6){i("Password must be at least 6 characters long.");return}m(!0);try{const k=await yn("/api/auth/worker-signup",e);Se.success("Worker registered successfully! Please log in."),t("/login")}catch(k){const N=((C=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:C.message)||"Registration failed. Please try again.";i(N),Se.error(N)}finally{m(!1)}};return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(af,{className:"mx-auto h-12 w-12 text-primary-600"}),l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Worker Registration"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Register as a worker for a specific shop"})]}),s&&l.jsxs("div",{className:"flex items-center p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",children:[l.jsx(qn,{className:"w-5 h-5 mr-2"}),l.jsx("span",{children:s})]}),l.jsxs("form",{className:"space-y-6",onSubmit:y,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"form-input mt-1",value:e.name,onChange:x,placeholder:"John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input mt-1",value:e.email,onChange:x,placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"new-password",required:!0,className:"form-input mt-1 pr-10",value:e.password,onChange:x,placeholder:"•••••••• (min. 6 characters)"}),l.jsx("button",{type:"button",tabIndex:-1,className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-700 focus:outline-none",onClick:()=>u(b=>!b),"aria-label":c?"Hide password":"Show password",children:c?l.jsx(sl,{className:"h-5 w-5"}):l.jsx(Ua,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"shopName",className:"block text-sm font-medium text-gray-700",children:"Shop Name"}),l.jsx("input",{id:"shopName",name:"shopName",type:"text",required:!0,className:"form-input mt-1",value:e.shopName,onChange:x,placeholder:"Enter the shop name you work for"})]}),l.jsx("div",{children:l.jsxs("button",{type:"submit",className:"w-full btn btn-primary flex justify-center items-center",disabled:h,children:[h?l.jsx(gn,{className:"animate-spin h-5 w-5 mr-2"}):l.jsx(af,{className:"h-5 w-5 mr-2"}),"Register as Worker"]})})]}),l.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",l.jsx(zt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]})})},lA=()=>{const{cartItems:t,isLoadingCart:e,errorCart:n,removeFromCart:s,fetchCart:i}=v0(),c=async m=>{try{await s(m),Se.success("Item removed from cart.")}catch(x){Se.error(x.message||"Failed to remove item.")}},u=m=>(m.product.price*m.quantity).toFixed(2),h=()=>t.reduce((m,x)=>m+x.product.price*x.quantity,0).toFixed(2);return e&&t.length===0?l.jsxs("div",{className:"flex justify-center items-center h-64",children:[l.jsx(gn,{className:"animate-spin h-12 w-12 text-primary-500"}),l.jsx("p",{className:"ml-4 text-lg",children:"Loading your cart..."})]}):n?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"Shopping Cart"}),l.jsx(dl,{icon:l.jsx(qn,{className:"h-12 w-12 text-error-500"}),title:"Error Loading Cart",description:n||"We couldn't load your cart. Please try again.",actionButton:l.jsx("button",{onClick:()=>i(),className:"btn btn-primary",children:"Try Again"})})]}):t.length===0?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"Shopping Cart"}),l.jsx(dl,{icon:l.jsx(Cv,{className:"h-12 w-12"}),title:"Your Cart is Empty",description:"Looks like you haven't added any items to your cart yet.",actionLink:"/products",actionText:"Browse Products"})]}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"Shopping Cart",subtitle:`You have ${t.length} item(s) in your cart.`}),l.jsx("div",{className:"mt-8",children:l.jsx("div",{className:"flow-root",children:l.jsx("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:t.map(m=>{var x,y,b;return m.product?l.jsxs("li",{className:"flex py-6",children:[l.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:l.jsx("img",{src:m.product.image&&m.product.image.length>0?m.product.image[0]:"https://via.placeholder.com/150",alt:((x=m.product.name)==null?void 0:x.en)||"Product image",className:"h-full w-full object-cover object-center"})}),l.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[l.jsx("h3",{children:l.jsx(zt,{to:`/products/edit/${m.product._id}`,children:((y=m.product.name)==null?void 0:y.en)||"Product Name Unavailable"})}),l.jsxs("p",{className:"ml-4",children:["$",u(m)]})]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Price: $",(b=m.product.price)==null?void 0:b.toFixed(2)]})]}),l.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[l.jsxs("p",{className:"text-gray-500",children:["Qty ",m.quantity]}),l.jsx("div",{className:"flex",children:l.jsxs("button",{type:"button",onClick:()=>c(m.product._id),className:"font-medium text-primary-600 hover:text-primary-500 flex items-center",disabled:e,children:[e?l.jsx(gn,{className:"animate-spin mr-1"}):l.jsx(eu,{className:"mr-1 h-4 w-4"}),"Remove"]})})]})]})]},m.product._id):l.jsxs("li",{className:"flex py-6 text-red-500",children:[" ","Product data is missing for an item. It might have been removed.",l.jsx("button",{onClick:()=>c(m.productId),className:"ml-4 text-primary-600",children:"Remove invalid item"})]},m._id||Math.random())})})})}),l.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6 mt-8",children:[l.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[l.jsx("p",{children:"Subtotal"}),l.jsxs("p",{children:["$",h()]})]}),l.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout (not implemented)."}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:()=>Se.info("Checkout functionality is not yet implemented."),className:"w-full btn btn-primary flex items-center justify-center",children:"Proceed to Checkout"})}),l.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:l.jsxs("p",{children:["or"," ",l.jsxs(zt,{to:"/products",className:"font-medium text-primary-600 hover:text-primary-500",children:["Continue Shopping",l.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})},cA=()=>{const{wishlistItems:t,isLoadingWishlist:e,errorWishlist:n,removeFromWishlist:s,fetchWishlist:i}=r1(),{addToCart:c,isLoadingCart:u}=v0(),h=async x=>{try{await s(x),Se.success("Item removed from wishlist.")}catch(y){Se.error(y.message||"Failed to remove item from wishlist.")}},m=async x=>{try{await c(x,1),Se.success("Item added to cart!")}catch(y){Se.error(y.message||"Failed to add item to cart.")}};return e&&t.length===0?l.jsxs("div",{className:"flex justify-center items-center h-64",children:[l.jsx(gn,{className:"animate-spin h-12 w-12 text-primary-500"}),l.jsx("p",{className:"ml-4 text-lg",children:"Loading your wishlist..."})]}):n?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"My Wishlist"}),l.jsx(dl,{icon:l.jsx(qn,{className:"h-12 w-12 text-error-500"}),title:"Error Loading Wishlist",description:n||"We couldn't load your wishlist. Please try again.",actionButton:l.jsx("button",{onClick:()=>i(),className:"btn btn-primary",children:"Try Again"})})]}):t.length===0?l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"My Wishlist"}),l.jsx(dl,{icon:l.jsx(hj,{className:"h-12 w-12"}),title:"Your Wishlist is Empty",description:"You haven't added any items to your wishlist yet. Start exploring!",actionLink:"/products",actionText:"Browse Products"})]}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx(Hs,{title:"My Wishlist",subtitle:`You have ${t.length} item(s) in your wishlist.`}),l.jsx("div",{className:"mt-8 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:t.map(x=>{var y,b,j;return x&&x._id?l.jsxs("div",{className:"group relative card",children:[l.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200 xl:aspect-w-7 xl:aspect-h-8",children:l.jsx("img",{src:x.image&&x.image.length>0?x.image[0]:"https://via.placeholder.com/300",alt:((y=x.name)==null?void 0:y.en)||"Product image",className:"h-full w-full object-cover object-center group-hover:opacity-75"})}),l.jsxs("div",{className:"mt-4 px-2 pb-2",children:[l.jsx("h3",{className:"text-sm text-gray-700 truncate",children:l.jsxs(zt,{to:`/products/edit/${x._id}`,children:[l.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),((b=x.name)==null?void 0:b.en)||"Product Name Unavailable"]})}),l.jsxs("p",{className:"mt-1 text-lg font-medium text-gray-900",children:["$",((j=x.price)==null?void 0:j.toFixed(2))||"N/A"]})]}),l.jsxs("div",{className:"p-2 border-t border-gray-200 flex flex-col space-y-2",children:[l.jsxs("button",{onClick:()=>m(x._id),disabled:u,className:"w-full btn btn-primary btn-sm inline-flex items-center justify-center",children:[u?l.jsx(gn,{className:"animate-spin mr-2"}):l.jsx(Cv,{className:"mr-2 h-4 w-4"}),"Add to Cart"]}),l.jsxs("button",{onClick:()=>h(x._id),disabled:e,className:"w-full btn btn-secondary btn-sm inline-flex items-center justify-center",children:[e?l.jsx(gn,{className:"animate-spin mr-2"}):l.jsx(eu,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]},x._id):null})})]})},uA=({categoryId:t,onClose:e,onSave:n})=>{const[s,i]=R.useState({name:{en:"",ar:""},description:{en:"",ar:""},image:"",status:"Active",seo:{metaTitle:"",metaDescription:"",keywords:""}}),[c,u]=R.useState(!0),[h,m]=R.useState(null),[x,y]=R.useState(null);R.useEffect(()=>{t&&(u(!0),m(null),gt(`/api/categories/${t}`).then(N=>{N&&N.data&&i({name:N.data.name||{en:"",ar:""},description:N.data.description||{en:"",ar:""},image:N.data.image||"",status:N.data.status||"Active",seo:N.data.seo||{metaTitle:"",metaDescription:"",keywords:""}}),u(!1)}).catch(()=>{m("Failed to fetch category details."),u(!1)}))},[t]);const b=(N,P=[])=>{const{name:S,value:F}=N.target;P.length?i(B=>{let z={...B},W=z;for(let q=0;q<P.length-1;q++)W=W[P[q]];return W[P[P.length-1]]=F,z}):i(B=>({...B,[S]:F}))},j=N=>{const P=N.target.files[0];P&&(y(P),Se.info("Image will be uploaded when you save changes."))},C=()=>{i(N=>({...N,image:""})),y(null)},k=async N=>{if(N.preventDefault(),!s.name.en.trim()){Se.error("Please enter a category name in English");return}let P=s.image;if(x)try{Se.info("Uploading image...");const F=new FormData;F.append("file",x);const B=await yn("/api/upload",F,{headers:{"Content-Type":"multipart/form-data"}});if(B&&B.url)P=B.url,Se.success("Image uploaded!");else{Se.error("Failed to upload image.");return}}catch{Se.error("Image upload failed.");return}const S={...s,image:P};try{const F=await Ji(`/api/categories/${t}`,S);F&&F.data?(Se.success("Category updated successfully!"),n(F.data),y(null)):Se.error("Failed to update category. Please try again.")}catch{Se.error("Error updating category. Please try again.")}};return c?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-xl flex items-center justify-center",children:l.jsx("span",{children:"Loading category details..."})})}):h?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-xl flex items-center justify-center",children:l.jsx("span",{className:"text-error-500",children:h})})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-8 rounded shadow-lg w-full max-w-3xl overflow-y-auto max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Category"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-700 text-2xl",children:"×"})]}),l.jsxs("form",{onSubmit:k,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Name (English)"}),l.jsx("input",{type:"text",className:"form-input w-full",placeholder:"Enter category name in English",value:s.name.en,onChange:N=>b(N,["name","en"]),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Name (Arabic)"}),l.jsx("input",{type:"text",className:"form-input w-full",placeholder:"Enter category name in Arabic",value:s.name.ar,onChange:N=>b(N,["name","ar"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Description (English)"}),l.jsx("textarea",{className:"form-input w-full",placeholder:"Enter description in English",value:s.description.en,onChange:N=>b(N,["description","en"]),rows:"3"})]}),l.jsxs("div",{className:"flex flex-col items-start md:items-center",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Description (Arabic)"}),l.jsx("textarea",{className:"form-input w-full max-w-xs",placeholder:"Enter description in Arabic",value:s.description.ar,onChange:N=>b(N,["description","ar"]),rows:"3"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-1",children:"Category Image"}),l.jsxs("div",{className:"flex items-center gap-6 mt-2 min-h-[96px]",children:[(s.image||x)&&l.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[l.jsx("img",{src:x?URL.createObjectURL(x):s.image,alt:"Category",className:"w-24 h-24 object-cover rounded border bg-white"}),l.jsx("button",{type:"button",onClick:C,className:"absolute -top-2 -right-2 bg-white rounded-full p-1 text-red-500 hover:text-red-700 shadow-md border",children:"×"})]}),l.jsxs("label",{className:"cursor-pointer flex flex-col items-center justify-center w-24 h-24 border-2 border-dashed rounded bg-gray-50 hover:border-primary-500 hover:bg-gray-100 transition-all duration-150 flex-shrink-0",children:[l.jsx("span",{className:"text-3xl text-gray-400 flex items-center justify-center h-full",children:"+"}),l.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]})]}),l.jsxs("div",{className:"flex flex-col justify-center h-full",children:[l.jsx("label",{className:"block font-medium mb-1",children:"Status"}),l.jsxs("select",{className:"form-input w-full",value:s.status,name:"status",onChange:b,children:[l.jsx("option",{value:"Active",children:"Active"}),l.jsx("option",{value:"Hidden",children:"Hidden"})]})]})]})]}),l.jsx("hr",{className:"my-4"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"SEO"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Meta Title"}),l.jsx("input",{type:"text",className:"form-input w-full mb-2",placeholder:"Meta title",value:s.seo.metaTitle,onChange:N=>b(N,["seo","metaTitle"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Keywords (comma separated)"}),l.jsx("input",{type:"text",className:"form-input w-full mb-2",placeholder:"e.g. organic, healthy, food",value:s.seo.keywords,onChange:N=>b(N,["seo","keywords"])})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Meta Description"}),l.jsx("textarea",{className:"form-input w-full mb-2",placeholder:"Meta description",value:s.seo.metaDescription,onChange:N=>b(N,["seo","metaDescription"])})]})]})]}),l.jsxs("div",{className:"flex justify-end mt-8 gap-3",children:[l.jsx("button",{className:"btn btn-secondary",type:"button",onClick:e,children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",type:"submit",children:"Save Changes"})]})]})]})})};var Kd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dA=Kd.exports,lv;function fA(){return lv||(lv=1,function(t,e){(function(){var n,s="4.17.21",i=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",x=500,y="__lodash_placeholder__",b=1,j=2,C=4,k=1,N=2,P=1,S=2,F=4,B=8,z=16,W=32,q=64,ne=128,J=256,fe=512,ee=30,ie="...",oe=800,ke=16,Ee=1,we=2,ye=3,T=1/0,M=9007199254740991,G=17976931348623157e292,D=NaN,O=4294967295,V=O-1,H=O>>>1,te=[["ary",ne],["bind",P],["bindKey",S],["curry",B],["curryRight",z],["flip",fe],["partial",W],["partialRight",q],["rearg",J]],ce="[object Arguments]",U="[object Array]",he="[object AsyncFunction]",Oe="[object Boolean]",K="[object Date]",pe="[object DOMException]",Qe="[object Error]",We="[object Function]",Ie="[object GeneratorFunction]",ge="[object Map]",Fe="[object Number]",ot="[object Null]",ct="[object Object]",jt="[object Promise]",Jt="[object Proxy]",an="[object RegExp]",yt="[object Set]",os="[object String]",Er="[object Symbol]",jf="[object Undefined]",Zi="[object WeakMap]",Nf="[object WeakSet]",ci="[object ArrayBuffer]",cr="[object DataView]",hl="[object Float32Array]",ui="[object Float64Array]",di="[object Int8Array]",iu="[object Int16Array]",ml="[object Int32Array]",pl="[object Uint8Array]",au="[object Uint8ClampedArray]",qa="[object Uint16Array]",Ka="[object Uint32Array]",ou=/\b__p \+= '';/g,lu=/\b(__p \+=) '' \+/g,cu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,hi=/[&<>"']/g,Sf=RegExp(fi.source),kf=RegExp(hi.source),Cf=/<%-([\s\S]+?)%>/g,Pf=/<%([\s\S]+?)%>/g,uu=/<%=([\s\S]+?)%>/g,du=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ef=/^\w*$/,Qa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xa=/[\\^$.*+?()[\]{}|]/g,Ga=RegExp(Xa.source),fu=/^\s+/,Ja=/\s/,gl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xl=/\{\n\/\* \[wrapped with (.+)\] \*/,hu=/,? & /,hp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mp=/[()=,{}\[\]\/\s]/,pp=/\\(\\)?/g,mi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mu=/\w*$/,Of=/^[-+]0x[0-9a-f]+$/i,gp=/^0b[01]+$/i,Af=/^\[object .+?Constructor\]$/,Tf=/^0o[0-7]+$/i,Mf=/^(?:0|[1-9]\d*)$/,Lf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yl=/($^)/,xp=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",yp="\\u0300-\\u036f",pu="\\ufe20-\\ufe2f",Rf="\\u20d0-\\u20ff",Za=yp+pu+Rf,Df="\\u2700-\\u27bf",gu="a-z\\xdf-\\xf6\\xf8-\\xff",vl="\\xac\\xb1\\xd7\\xf7",$s="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vp="\\u2000-\\u206f",Ps=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",If="A-Z\\xc0-\\xd6\\xd8-\\xde",Ff="\\ufe0e\\ufe0f",Bf=vl+$s+vp+Ps,ea="['’]",bl="["+At+"]",ta="["+Bf+"]",pi="["+Za+"]",zf="\\d+",bp="["+Df+"]",wl="["+gu+"]",xu="[^"+At+Bf+zf+Df+gu+If+"]",eo="\\ud83c[\\udffb-\\udfff]",to="(?:"+pi+"|"+eo+")",Wf="[^"+At+"]",no="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",gi="["+If+"]",yu="\\u200d",_l="(?:"+wl+"|"+xu+")",Hf="(?:"+gi+"|"+xu+")",vu="(?:"+ea+"(?:d|ll|m|re|s|t|ve))?",bu="(?:"+ea+"(?:D|LL|M|RE|S|T|VE))?",jl=to+"?",so="["+Ff+"]?",Or="(?:"+yu+"(?:"+[Wf,no,xt].join("|")+")"+so+jl+")*",Ar="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",na=so+jl+Or,ro="(?:"+[bp,no,xt].join("|")+")"+na,Mr="(?:"+[Wf+pi+"?",pi,no,xt,bl].join("|")+")",wp=RegExp(ea,"g"),$f=RegExp(pi,"g"),xi=RegExp(eo+"(?="+eo+")|"+Mr+na,"g"),_p=RegExp([gi+"?"+wl+"+"+vu+"(?="+[ta,gi,"$"].join("|")+")",Hf+"+"+bu+"(?="+[ta,gi+_l,"$"].join("|")+")",gi+"?"+_l+"+"+vu,gi+"+"+bu,Tr,Ar,zf,ro].join("|"),"g"),Uf=RegExp("["+yu+At+Za+Ff+"]"),Nl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jp=-1,bt={};bt[hl]=bt[ui]=bt[di]=bt[iu]=bt[ml]=bt[pl]=bt[au]=bt[qa]=bt[Ka]=!0,bt[ce]=bt[U]=bt[ci]=bt[Oe]=bt[cr]=bt[K]=bt[Qe]=bt[We]=bt[ge]=bt[Fe]=bt[ct]=bt[an]=bt[yt]=bt[os]=bt[Zi]=!1;var vt={};vt[ce]=vt[U]=vt[ci]=vt[cr]=vt[Oe]=vt[K]=vt[hl]=vt[ui]=vt[di]=vt[iu]=vt[ml]=vt[ge]=vt[Fe]=vt[ct]=vt[an]=vt[yt]=vt[os]=vt[Er]=vt[pl]=vt[au]=vt[qa]=vt[Ka]=!0,vt[Qe]=vt[We]=vt[Zi]=!1;var sa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Sl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Np={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wu=parseFloat,kl=parseInt,Cl=typeof rm=="object"&&rm&&rm.Object===Object&&rm,Yf=typeof self=="object"&&self&&self.Object===Object&&self,Tt=Cl||Yf||Function("return this")(),io=e&&!e.nodeType&&e,Us=io&&!0&&t&&!t.nodeType&&t,_u=Us&&Us.exports===io,ra=_u&&Cl.process,Pn=function(){try{var se=Us&&Us.require&&Us.require("util").types;return se||ra&&ra.binding&&ra.binding("util")}catch{}}(),ju=Pn&&Pn.isArrayBuffer,Dn=Pn&&Pn.isDate,yi=Pn&&Pn.isMap,Pl=Pn&&Pn.isRegExp,ia=Pn&&Pn.isSet,qf=Pn&&Pn.isTypedArray;function En(se,xe,ue){switch(ue.length){case 0:return se.call(xe);case 1:return se.call(xe,ue[0]);case 2:return se.call(xe,ue[0],ue[1]);case 3:return se.call(xe,ue[0],ue[1],ue[2])}return se.apply(xe,ue)}function Nu(se,xe,ue,Te){for(var Xe=-1,ht=se==null?0:se.length;++Xe<ht;){var qt=se[Xe];xe(Te,qt,ue(qt),se)}return Te}function vn(se,xe){for(var ue=-1,Te=se==null?0:se.length;++ue<Te&&xe(se[ue],ue,se)!==!1;);return se}function El(se,xe){for(var ue=se==null?0:se.length;ue--&&xe(se[ue],ue,se)!==!1;);return se}function Su(se,xe){for(var ue=-1,Te=se==null?0:se.length;++ue<Te;)if(!xe(se[ue],ue,se))return!1;return!0}function Lr(se,xe){for(var ue=-1,Te=se==null?0:se.length,Xe=0,ht=[];++ue<Te;){var qt=se[ue];xe(qt,ue,se)&&(ht[Xe++]=qt)}return ht}function Ol(se,xe){var ue=se==null?0:se.length;return!!ue&&aa(se,xe,0)>-1}function ku(se,xe,ue){for(var Te=-1,Xe=se==null?0:se.length;++Te<Xe;)if(ue(xe,se[Te]))return!0;return!1}function kt(se,xe){for(var ue=-1,Te=se==null?0:se.length,Xe=Array(Te);++ue<Te;)Xe[ue]=xe(se[ue],ue,se);return Xe}function Rr(se,xe){for(var ue=-1,Te=xe.length,Xe=se.length;++ue<Te;)se[Xe+ue]=xe[ue];return se}function Cu(se,xe,ue,Te){var Xe=-1,ht=se==null?0:se.length;for(Te&&ht&&(ue=se[++Xe]);++Xe<ht;)ue=xe(ue,se[Xe],Xe,se);return ue}function kp(se,xe,ue,Te){var Xe=se==null?0:se.length;for(Te&&Xe&&(ue=se[--Xe]);Xe--;)ue=xe(ue,se[Xe],Xe,se);return ue}function Pu(se,xe){for(var ue=-1,Te=se==null?0:se.length;++ue<Te;)if(xe(se[ue],ue,se))return!0;return!1}var Cp=Ou("length");function Kf(se){return se.split("")}function Pp(se){return se.match(hp)||[]}function Qf(se,xe,ue){var Te;return ue(se,function(Xe,ht,qt){if(xe(Xe,ht,qt))return Te=ht,!1}),Te}function Al(se,xe,ue,Te){for(var Xe=se.length,ht=ue+(Te?1:-1);Te?ht--:++ht<Xe;)if(xe(se[ht],ht,se))return ht;return-1}function aa(se,xe,ue){return xe===xe?Ll(se,xe,ue):Al(se,Xf,ue)}function Eu(se,xe,ue,Te){for(var Xe=ue-1,ht=se.length;++Xe<ht;)if(Te(se[Xe],xe))return Xe;return-1}function Xf(se){return se!==se}function Gf(se,xe){var ue=se==null?0:se.length;return ue?Au(se,xe)/ue:D}function Ou(se){return function(xe){return xe==null?n:xe[se]}}function Tl(se){return function(xe){return se==null?n:se[xe]}}function Jf(se,xe,ue,Te,Xe){return Xe(se,function(ht,qt,wt){ue=Te?(Te=!1,ht):xe(ue,ht,qt,wt)}),ue}function Ep(se,xe){var ue=se.length;for(se.sort(xe);ue--;)se[ue]=se[ue].value;return se}function Au(se,xe){for(var ue,Te=-1,Xe=se.length;++Te<Xe;){var ht=xe(se[Te]);ht!==n&&(ue=ue===n?ht:ue+ht)}return ue}function Tu(se,xe){for(var ue=-1,Te=Array(se);++ue<se;)Te[ue]=xe(ue);return Te}function Op(se,xe){return kt(xe,function(ue){return[ue,se[ue]]})}function Zf(se){return se&&se.slice(0,Rl(se)+1).replace(fu,"")}function Xn(se){return function(xe){return se(xe)}}function ao(se,xe){return kt(xe,function(ue){return se[ue]})}function ur(se,xe){return se.has(xe)}function eh(se,xe){for(var ue=-1,Te=se.length;++ue<Te&&aa(xe,se[ue],0)>-1;);return ue}function Mu(se,xe){for(var ue=se.length;ue--&&aa(xe,se[ue],0)>-1;);return ue}function th(se,xe){for(var ue=se.length,Te=0;ue--;)se[ue]===xe&&++Te;return Te}var nh=Tl(sa),sh=Tl(Sl);function rh(se){return"\\"+Sp[se]}function oa(se,xe){return se==null?n:se[xe]}function la(se){return Uf.test(se)}function Ap(se){return Nl.test(se)}function Tp(se){for(var xe,ue=[];!(xe=se.next()).done;)ue.push(xe.value);return ue}function Ml(se){var xe=-1,ue=Array(se.size);return se.forEach(function(Te,Xe){ue[++xe]=[Xe,Te]}),ue}function Lu(se,xe){return function(ue){return se(xe(ue))}}function ls(se,xe){for(var ue=-1,Te=se.length,Xe=0,ht=[];++ue<Te;){var qt=se[ue];(qt===xe||qt===y)&&(se[ue]=y,ht[Xe++]=ue)}return ht}function Dr(se){var xe=-1,ue=Array(se.size);return se.forEach(function(Te){ue[++xe]=Te}),ue}function Mp(se){var xe=-1,ue=Array(se.size);return se.forEach(function(Te){ue[++xe]=[Te,Te]}),ue}function Ll(se,xe,ue){for(var Te=ue-1,Xe=se.length;++Te<Xe;)if(se[Te]===xe)return Te;return-1}function Lp(se,xe,ue){for(var Te=ue+1;Te--;)if(se[Te]===xe)return Te;return Te}function vi(se){return la(se)?ah(se):Cp(se)}function Gn(se){return la(se)?oh(se):Kf(se)}function Rl(se){for(var xe=se.length;xe--&&Ja.test(se.charAt(xe)););return xe}var ih=Tl(Np);function ah(se){for(var xe=xi.lastIndex=0;xi.test(se);)++xe;return xe}function oh(se){return se.match(xi)||[]}function Rp(se){return se.match(_p)||[]}var Dp=function se(xe){xe=xe==null?Tt:ca.defaults(Tt.Object(),xe,ca.pick(Tt,Vf));var ue=xe.Array,Te=xe.Date,Xe=xe.Error,ht=xe.Function,qt=xe.Math,wt=xe.Object,oo=xe.RegExp,Ip=xe.String,cs=xe.TypeError,dr=ue.prototype,Ru=ht.prototype,Vs=wt.prototype,ua=xe["__core-js_shared__"],lo=Ru.toString,mt=Vs.hasOwnProperty,da=0,Dl=function(){var o=/[^.]+$/.exec(ua&&ua.keys&&ua.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),co=Vs.toString,Il=lo.call(wt),lh=Tt._,ch=oo("^"+lo.call(mt).replace(Xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uo=_u?xe.Buffer:n,fr=xe.Symbol,fo=xe.Uint8Array,Du=uo?uo.allocUnsafe:n,Es=Lu(wt.getPrototypeOf,wt),Fl=wt.create,Bl=Vs.propertyIsEnumerable,zl=dr.splice,uh=fr?fr.isConcatSpreadable:n,hr=fr?fr.iterator:n,bi=fr?fr.toStringTag:n,ho=function(){try{var o=qr(wt,"defineProperty");return o({},"",{}),o}catch{}}(),dh=xe.clearTimeout!==Tt.clearTimeout&&xe.clearTimeout,Pt=Te&&Te.now!==Tt.Date.now&&Te.now,Iu=xe.setTimeout!==Tt.setTimeout&&xe.setTimeout,wi=qt.ceil,Ir=qt.floor,Wl=wt.getOwnPropertySymbols,Fu=uo?uo.isBuffer:n,fa=xe.isFinite,Hl=dr.join,ha=Lu(wt.keys,wt),Kt=qt.max,bn=qt.min,Fp=Te.now,fh=xe.parseInt,mo=qt.random,$l=dr.reverse,po=qr(xe,"DataView"),_i=qr(xe,"Map"),go=qr(xe,"Promise"),Fr=qr(xe,"Set"),xo=qr(xe,"WeakMap"),ma=qr(wt,"create"),Ul=xo&&new xo,pa={},Bu=Kr(po),Br=Kr(_i),hh=Kr(go),ga=Kr(Fr),Ys=Kr(xo),zr=fr?fr.prototype:n,Jn=zr?zr.valueOf:n,Vl=zr?zr.toString:n;function L(o){if(Xt(o)&&!Je(o)&&!(o instanceof Ge)){if(o instanceof wn)return o;if(mt.call(o,"__wrapped__"))return Wh(o)}return new wn(o)}var xa=function(){function o(){}return function(d){if(!$t(d))return{};if(Fl)return Fl(d);o.prototype=d;var g=new o;return o.prototype=n,g}}();function qs(){}function wn(o,d){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}L.templateSettings={escape:Cf,evaluate:Pf,interpolate:uu,variable:"",imports:{_:L}},L.prototype=qs.prototype,L.prototype.constructor=L,wn.prototype=xa(qs.prototype),wn.prototype.constructor=wn;function Ge(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function Yl(){var o=new Ge(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o}function zu(){if(this.__filtered__){var o=new Ge(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function ya(){var o=this.__wrapped__.value(),d=this.__dir__,g=Je(o),_=d<0,E=g?o.length:0,I=md(0,E,this.__views__),Y=I.start,X=I.end,re=X-Y,ve=_?X:Y-1,be=this.__iteratees__,Ne=be.length,Ae=0,ze=bn(re,this.__takeCount__);if(!g||!_&&E==re&&ze==re)return ka(o,this.__actions__);var qe=[];e:for(;re--&&Ae<ze;){ve+=d;for(var nt=-1,Ke=o[ve];++nt<Ne;){var it=be[nt],dt=it.iteratee,Bs=it.type,ss=dt(Ke);if(Bs==we)Ke=ss;else if(!ss){if(Bs==Ee)continue e;break e}}qe[Ae++]=Ke}return qe}Ge.prototype=xa(qs.prototype),Ge.prototype.constructor=Ge;function In(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var _=o[d];this.set(_[0],_[1])}}function Et(){this.__data__=ma?ma(null):{},this.size=0}function Ct(o){var d=this.has(o)&&delete this.__data__[o];return this.size-=d?1:0,d}function Wr(o){var d=this.__data__;if(ma){var g=d[o];return g===m?n:g}return mt.call(d,o)?d[o]:n}function _n(o){var d=this.__data__;return ma?d[o]!==n:mt.call(d,o)}function Fn(o,d){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=ma&&d===n?m:d,this}In.prototype.clear=Et,In.prototype.delete=Ct,In.prototype.get=Wr,In.prototype.has=_n,In.prototype.set=Fn;function On(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var _=o[d];this.set(_[0],_[1])}}function va(){this.__data__=[],this.size=0}function Bn(o){var d=this.__data__,g=Nn(d,o);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():zl.call(d,g,1),--this.size,!0}function ql(o){var d=this.__data__,g=Nn(d,o);return g<0?n:d[g][1]}function mh(o){return Nn(this.__data__,o)>-1}function ph(o,d){var g=this.__data__,_=Nn(g,o);return _<0?(++this.size,g.push([o,d])):g[_][1]=d,this}On.prototype.clear=va,On.prototype.delete=Bn,On.prototype.get=ql,On.prototype.has=mh,On.prototype.set=ph;function us(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var _=o[d];this.set(_[0],_[1])}}function gh(){this.size=0,this.__data__={hash:new In,map:new(_i||On),string:new In}}function mr(o){var d=Mo(this,o).delete(o);return this.size-=d?1:0,d}function Kl(o){return Mo(this,o).get(o)}function Wu(o){return Mo(this,o).has(o)}function xh(o,d){var g=Mo(this,o),_=g.size;return g.set(o,d),this.size+=g.size==_?0:1,this}us.prototype.clear=gh,us.prototype.delete=mr,us.prototype.get=Kl,us.prototype.has=Wu,us.prototype.set=xh;function ji(o){var d=-1,g=o==null?0:o.length;for(this.__data__=new us;++d<g;)this.add(o[d])}function Hr(o){return this.__data__.set(o,m),this}function ba(o){return this.__data__.has(o)}ji.prototype.add=ji.prototype.push=Hr,ji.prototype.has=ba;function jn(o){var d=this.__data__=new On(o);this.size=d.size}function Ql(){this.__data__=new On,this.size=0}function Xl(o){var d=this.__data__,g=d.delete(o);return this.size=d.size,g}function ds(o){return this.__data__.get(o)}function fs(o){return this.__data__.has(o)}function Ni(o,d){var g=this.__data__;if(g instanceof On){var _=g.__data__;if(!_i||_.length<i-1)return _.push([o,d]),this.size=++g.size,this;g=this.__data__=new us(_)}return g.set(o,d),this.size=g.size,this}jn.prototype.clear=Ql,jn.prototype.delete=Xl,jn.prototype.get=ds,jn.prototype.has=fs,jn.prototype.set=Ni;function Ks(o,d){var g=Je(o),_=!g&&Vo(o),E=!g&&!_&&Da(o),I=!g&&!_&&!E&&Bc(o),Y=g||_||E||I,X=Y?Tu(o.length,Ip):[],re=X.length;for(var ve in o)(d||mt.call(o,ve))&&!(Y&&(ve=="length"||E&&(ve=="offset"||ve=="parent")||I&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Lt(ve,re)))&&X.push(ve);return X}function Qs(o){var d=o.length;return d?o[Na(0,d-1)]:n}function Si(o,d){return _c(An(o),pr(d,0,o.length))}function yh(o){return _c(An(o))}function yo(o,d,g){(g!==n&&!Sr(o[d],g)||g===n&&!(d in o))&&Xs(o,d,g)}function ki(o,d,g){var _=o[d];(!(mt.call(o,d)&&Sr(_,g))||g===n&&!(d in o))&&Xs(o,d,g)}function Nn(o,d){for(var g=o.length;g--;)if(Sr(o[g][0],d))return g;return-1}function Zn(o,d,g,_){return Js(o,function(E,I,Y){d(_,E,g(E),Y)}),_}function Ot(o,d){return o&&As(d,Cn(d),o)}function Os(o,d){return o&&As(d,ws(d),o)}function Xs(o,d,g){d=="__proto__"&&ho?ho(o,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):o[d]=g}function Gl(o,d){for(var g=-1,_=d.length,E=ue(_),I=o==null;++g<_;)E[g]=I?n:lg(o,d[g]);return E}function pr(o,d,g){return o===o&&(g!==n&&(o=o<=g?o:g),d!==n&&(o=o>=d?o:d)),o}function zn(o,d,g,_,E,I){var Y,X=d&b,re=d&j,ve=d&C;if(g&&(Y=E?g(o,_,E,I):g(o)),Y!==n)return Y;if(!$t(o))return o;var be=Je(o);if(be){if(Y=Ro(o),!X)return An(o,Y)}else{var Ne=fn(o),Ae=Ne==We||Ne==Ie;if(Da(o))return nd(o,X);if(Ne==ct||Ne==ce||Ae&&!E){if(Y=re||Ae?{}:hn(o),!X)return re?zp(o,Os(Y,o)):uc(o,Ot(Y,o))}else{if(!vt[Ne])return E?o:{};Y=Wp(o,Ne,X)}}I||(I=new jn);var ze=I.get(o);if(ze)return ze;I.set(o,Y),z0(o)?o.forEach(function(Ke){Y.add(zn(Ke,d,g,Ke,o,I))}):F0(o)&&o.forEach(function(Ke,it){Y.set(it,zn(Ke,d,g,it,o,I))});var qe=ve?re?To:Ao:re?ws:Cn,nt=be?n:qe(o);return vn(nt||o,function(Ke,it){nt&&(it=Ke,Ke=o[it]),ki(Y,it,zn(Ke,d,g,it,o,I))}),Y}function vh(o){var d=Cn(o);return function(g){return vo(g,o,d)}}function vo(o,d,g){var _=g.length;if(o==null)return!_;for(o=wt(o);_--;){var E=g[_],I=d[E],Y=o[E];if(Y===n&&!(E in o)||!I(Y))return!1}return!0}function Hu(o,d,g){if(typeof o!="function")throw new cs(u);return Ma(function(){o.apply(n,g)},d)}function Gs(o,d,g,_){var E=-1,I=Ol,Y=!0,X=o.length,re=[],ve=d.length;if(!X)return re;g&&(d=kt(d,Xn(g))),_?(I=ku,Y=!1):d.length>=i&&(I=ur,Y=!1,d=new ji(d));e:for(;++E<X;){var be=o[E],Ne=g==null?be:g(be);if(be=_||be!==0?be:0,Y&&Ne===Ne){for(var Ae=ve;Ae--;)if(d[Ae]===Ne)continue e;re.push(be)}else I(d,Ne,_)||re.push(be)}return re}var Js=xs(es),bh=xs($r,!0);function bo(o,d){var g=!0;return Js(o,function(_,E,I){return g=!!d(_,E,I),g}),g}function Ci(o,d,g){for(var _=-1,E=o.length;++_<E;){var I=o[_],Y=d(I);if(Y!=null&&(X===n?Y===Y&&!Fs(Y):g(Y,X)))var X=Y,re=I}return re}function wh(o,d,g,_){var E=o.length;for(g=tt(g),g<0&&(g=-g>E?0:E+g),_=_===n||_>E?E:tt(_),_<0&&(_+=E),_=g>_?0:H0(_);g<_;)o[g++]=d;return o}function $u(o,d){var g=[];return Js(o,function(_,E,I){d(_,E,I)&&g.push(_)}),g}function Bt(o,d,g,_,E){var I=-1,Y=o.length;for(g||(g=vc),E||(E=[]);++I<Y;){var X=o[I];d>0&&g(X)?d>1?Bt(X,d-1,g,_,E):Rr(E,X):_||(E[E.length]=X)}return E}var Jl=fc(),wo=fc(!0);function es(o,d){return o&&Jl(o,d,Cn)}function $r(o,d){return o&&wo(o,d,Cn)}function wa(o,d){return Lr(d,function(g){return zi(o[g])})}function gr(o,d){d=tr(d,o);for(var g=0,_=d.length;o!=null&&g<_;)o=o[Rs(d[g++])];return g&&g==_?o:n}function Zl(o,d,g){var _=d(o);return Je(o)?_:Rr(_,g(o))}function un(o){return o==null?o===n?jf:ot:bi&&bi in wt(o)?yc(o):gd(o)}function Ur(o,d){return o>d}function hs(o,d){return o!=null&&mt.call(o,d)}function Pi(o,d){return o!=null&&d in wt(o)}function Uu(o,d,g){return o>=bn(d,g)&&o<Kt(d,g)}function ec(o,d,g){for(var _=g?ku:Ol,E=o[0].length,I=o.length,Y=I,X=ue(I),re=1/0,ve=[];Y--;){var be=o[Y];Y&&d&&(be=kt(be,Xn(d))),re=bn(be.length,re),X[Y]=!g&&(d||E>=120&&be.length>=120)?new ji(Y&&be):n}be=o[0];var Ne=-1,Ae=X[0];e:for(;++Ne<E&&ve.length<re;){var ze=be[Ne],qe=d?d(ze):ze;if(ze=g||ze!==0?ze:0,!(Ae?ur(Ae,qe):_(ve,qe,g))){for(Y=I;--Y;){var nt=X[Y];if(!(nt?ur(nt,qe):_(o[Y],qe,g)))continue e}Ae&&Ae.push(qe),ve.push(ze)}}return ve}function xr(o,d,g,_){return es(o,function(E,I,Y){d(_,g(E),I,Y)}),_}function ms(o,d,g){d=tr(d,o),o=on(o,d);var _=o==null?o:o[Rs(Ln(d))];return _==null?n:En(_,o,g)}function tc(o){return Xt(o)&&un(o)==ce}function _h(o){return Xt(o)&&un(o)==ci}function yr(o){return Xt(o)&&un(o)==K}function ps(o,d,g,_,E){return o===d?!0:o==null||d==null||!Xt(o)&&!Xt(d)?o!==o&&d!==d:nc(o,d,g,_,ps,E)}function nc(o,d,g,_,E,I){var Y=Je(o),X=Je(d),re=Y?U:fn(o),ve=X?U:fn(d);re=re==ce?ct:re,ve=ve==ce?ct:ve;var be=re==ct,Ne=ve==ct,Ae=re==ve;if(Ae&&Da(o)){if(!Da(d))return!1;Y=!0,be=!1}if(Ae&&!be)return I||(I=new jn),Y||Bc(o)?fd(o,d,g,_,E,I):hd(o,d,re,g,_,E,I);if(!(g&k)){var ze=be&&mt.call(o,"__wrapped__"),qe=Ne&&mt.call(d,"__wrapped__");if(ze||qe){var nt=ze?o.value():o,Ke=qe?d.value():d;return I||(I=new jn),E(nt,Ke,g,_,I)}}return Ae?(I||(I=new jn),Mh(o,d,g,_,E,I)):!1}function jh(o){return Xt(o)&&fn(o)==ge}function _a(o,d,g,_){var E=g.length,I=E,Y=!_;if(o==null)return!I;for(o=wt(o);E--;){var X=g[E];if(Y&&X[2]?X[1]!==o[X[0]]:!(X[0]in o))return!1}for(;++E<I;){X=g[E];var re=X[0],ve=o[re],be=X[1];if(Y&&X[2]){if(ve===n&&!(re in o))return!1}else{var Ne=new jn;if(_)var Ae=_(ve,be,re,o,d,Ne);if(!(Ae===n?ps(be,ve,k|N,_,Ne):Ae))return!1}}return!0}function Vu(o){if(!$t(o)||Dh(o))return!1;var d=zi(o)?ch:Af;return d.test(Kr(o))}function _o(o){return Xt(o)&&un(o)==an}function Zs(o){return Xt(o)&&fn(o)==yt}function jo(o){return Xt(o)&&tm(o.length)&&!!bt[un(o)]}function ja(o){return typeof o=="function"?o:o==null?_s:typeof o=="object"?Je(o)?Mt(o[0],o[1]):sc(o):Z0(o)}function vr(o){if(!jr(o))return ha(o);var d=[];for(var g in wt(o))mt.call(o,g)&&g!="constructor"&&d.push(g);return d}function Yu(o){if(!$t(o))return Bh(o);var d=jr(o),g=[];for(var _ in o)_=="constructor"&&(d||!mt.call(o,_))||g.push(_);return g}function Vr(o,d){return o<d}function qu(o,d){var g=-1,_=bs(o)?ue(o.length):[];return Js(o,function(E,I,Y){_[++g]=d(E,I,Y)}),_}function sc(o){var d=Lo(o);return d.length==1&&d[0][2]?bc(d[0][0],d[0][1]):function(g){return g===o||_a(g,o,d)}}function Mt(o,d){return Le(o)&&Io(d)?bc(Rs(o),d):function(g){var _=lg(g,o);return _===n&&_===d?cg(g,o):ps(d,_,k|N)}}function Ei(o,d,g,_,E){o!==d&&Jl(d,function(I,Y){if(E||(E=new jn),$t(I))Ku(o,d,Y,g,Ei,_,E);else{var X=_?_(rr(o,Y),I,Y+"",o,d,E):n;X===n&&(X=I),yo(o,Y,X)}},ws)}function Ku(o,d,g,_,E,I,Y){var X=rr(o,g),re=rr(d,g),ve=Y.get(re);if(ve){yo(o,g,ve);return}var be=I?I(X,re,g+"",o,d,Y):n,Ne=be===n;if(Ne){var Ae=Je(re),ze=!Ae&&Da(re),qe=!Ae&&!ze&&Bc(re);be=re,Ae||ze||qe?Je(X)?be=X:tn(X)?be=An(X):ze?(Ne=!1,be=nd(re,!0)):qe?(Ne=!1,be=Ph(re,!0)):be=[]:Ld(re)||Vo(re)?(be=X,Vo(X)?be=$0(X):(!$t(X)||zi(X))&&(be=hn(re))):Ne=!1}Ne&&(Y.set(re,be),E(be,re,_,I,Y),Y.delete(re)),yo(o,g,be)}function rc(o,d){var g=o.length;if(g)return d+=d<0?g:0,Lt(d,g)?o[d]:n}function No(o,d,g){d.length?d=kt(d,function(I){return Je(I)?function(Y){return gr(Y,I.length===1?I[0]:I)}:I}):d=[_s];var _=-1;d=kt(d,Xn(Ve()));var E=qu(o,function(I,Y,X){var re=kt(d,function(ve){return ve(I)});return{criteria:re,index:++_,value:I}});return Ep(E,function(I,Y){return Bp(I,Y,g)})}function Qu(o,d){return Yr(o,d,function(g,_){return cg(o,_)})}function Yr(o,d,g){for(var _=-1,E=d.length,I={};++_<E;){var Y=d[_],X=gr(o,Y);g(X,Y)&&Ai(I,tr(Y,o),X)}return I}function Dt(o){return function(d){return gr(d,o)}}function Wt(o,d,g,_){var E=_?Eu:aa,I=-1,Y=d.length,X=o;for(o===d&&(d=An(d)),g&&(X=kt(o,Xn(g)));++I<Y;)for(var re=0,ve=d[I],be=g?g(ve):ve;(re=E(X,be,re,_))>-1;)X!==o&&zl.call(X,re,1),zl.call(o,re,1);return o}function Zt(o,d){for(var g=o?d.length:0,_=g-1;g--;){var E=d[g];if(g==_||E!==I){var I=E;Lt(E)?zl.call(o,E,1):oc(o,E)}}return o}function Na(o,d){return o+Ir(mo()*(d-o+1))}function So(o,d,g,_){for(var E=-1,I=Kt(wi((d-o)/(g||1)),0),Y=ue(I);I--;)Y[_?I:++E]=o,o+=g;return Y}function Oi(o,d){var g="";if(!o||d<1||d>M)return g;do d%2&&(g+=o),d=Ir(d/2),d&&(o+=o);while(d);return g}function et(o,d){return ts(wc(o,d,_s),o+"")}function Sn(o){return Qs(zc(o))}function Xu(o,d){var g=zc(o);return _c(g,pr(d,0,g.length))}function Ai(o,d,g,_){if(!$t(o))return o;d=tr(d,o);for(var E=-1,I=d.length,Y=I-1,X=o;X!=null&&++E<I;){var re=Rs(d[E]),ve=g;if(re==="__proto__"||re==="constructor"||re==="prototype")return o;if(E!=Y){var be=X[re];ve=_?_(be,re,X):n,ve===n&&(ve=$t(be)?be:Lt(d[E+1])?[]:{})}ki(X,re,ve),X=X[re]}return o}var ic=Ul?function(o,d){return Ul.set(o,d),o}:_s,er=ho?function(o,d){return ho(o,"toString",{configurable:!0,enumerable:!1,value:dg(d),writable:!0})}:_s;function gs(o){return _c(zc(o))}function kn(o,d,g){var _=-1,E=o.length;d<0&&(d=-d>E?0:E+d),g=g>E?E:g,g<0&&(g+=E),E=d>g?0:g-d>>>0,d>>>=0;for(var I=ue(E);++_<E;)I[_]=o[_+d];return I}function Gu(o,d){var g;return Js(o,function(_,E,I){return g=d(_,E,I),!g}),!!g}function Sa(o,d,g){var _=0,E=o==null?_:o.length;if(typeof d=="number"&&d===d&&E<=H){for(;_<E;){var I=_+E>>>1,Y=o[I];Y!==null&&!Fs(Y)&&(g?Y<=d:Y<d)?_=I+1:E=I}return E}return ac(o,d,_s,g)}function ac(o,d,g,_){var E=0,I=o==null?0:o.length;if(I===0)return 0;d=g(d);for(var Y=d!==d,X=d===null,re=Fs(d),ve=d===n;E<I;){var be=Ir((E+I)/2),Ne=g(o[be]),Ae=Ne!==n,ze=Ne===null,qe=Ne===Ne,nt=Fs(Ne);if(Y)var Ke=_||qe;else ve?Ke=qe&&(_||Ae):X?Ke=qe&&Ae&&(_||!ze):re?Ke=qe&&Ae&&!ze&&(_||!nt):ze||nt?Ke=!1:Ke=_?Ne<=d:Ne<d;Ke?E=be+1:I=be}return bn(I,V)}function Ju(o,d){for(var g=-1,_=o.length,E=0,I=[];++g<_;){var Y=o[g],X=d?d(Y):Y;if(!g||!Sr(X,re)){var re=X;I[E++]=Y===0?0:Y}}return I}function Zu(o){return typeof o=="number"?o:Fs(o)?D:+o}function Wn(o){if(typeof o=="string")return o;if(Je(o))return kt(o,Wn)+"";if(Fs(o))return Vl?Vl.call(o):"";var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function br(o,d,g){var _=-1,E=Ol,I=o.length,Y=!0,X=[],re=X;if(g)Y=!1,E=ku;else if(I>=i){var ve=d?null:Th(o);if(ve)return Dr(ve);Y=!1,E=ur,re=new ji}else re=d?[]:X;e:for(;++_<I;){var be=o[_],Ne=d?d(be):be;if(be=g||be!==0?be:0,Y&&Ne===Ne){for(var Ae=re.length;Ae--;)if(re[Ae]===Ne)continue e;d&&re.push(Ne),X.push(be)}else E(re,Ne,g)||(re!==X&&re.push(Ne),X.push(be))}return X}function oc(o,d){return d=tr(d,o),o=on(o,d),o==null||delete o[Rs(Ln(d))]}function ed(o,d,g,_){return Ai(o,d,g(gr(o,d)),_)}function ko(o,d,g,_){for(var E=o.length,I=_?E:-1;(_?I--:++I<E)&&d(o[I],I,o););return g?kn(o,_?0:I,_?I+1:E):kn(o,_?I+1:0,_?E:I)}function ka(o,d){var g=o;return g instanceof Ge&&(g=g.value()),Cu(d,function(_,E){return E.func.apply(E.thisArg,Rr([_],E.args))},g)}function lc(o,d,g){var _=o.length;if(_<2)return _?br(o[0]):[];for(var E=-1,I=ue(_);++E<_;)for(var Y=o[E],X=-1;++X<_;)X!=E&&(I[E]=Gs(I[E]||Y,o[X],d,g));return br(Bt(I,1),d,g)}function Co(o,d,g){for(var _=-1,E=o.length,I=d.length,Y={};++_<E;){var X=_<I?d[_]:n;g(Y,o[_],X)}return Y}function Ca(o){return tn(o)?o:[]}function cc(o){return typeof o=="function"?o:_s}function tr(o,d){return Je(o)?o:Le(o,d)?[o]:vd(_t(o))}var Nh=et;function wr(o,d,g){var _=o.length;return g=g===n?_:g,!d&&g>=_?o:kn(o,d,g)}var td=dh||function(o){return Tt.clearTimeout(o)};function nd(o,d){if(d)return o.slice();var g=o.length,_=Du?Du(g):new o.constructor(g);return o.copy(_),_}function Po(o){var d=new o.constructor(o.byteLength);return new fo(d).set(new fo(o)),d}function Sh(o,d){var g=d?Po(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.byteLength)}function kh(o){var d=new o.constructor(o.source,mu.exec(o));return d.lastIndex=o.lastIndex,d}function Ch(o){return Jn?wt(Jn.call(o)):{}}function Ph(o,d){var g=d?Po(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.length)}function sd(o,d){if(o!==d){var g=o!==n,_=o===null,E=o===o,I=Fs(o),Y=d!==n,X=d===null,re=d===d,ve=Fs(d);if(!X&&!ve&&!I&&o>d||I&&Y&&re&&!X&&!ve||_&&Y&&re||!g&&re||!E)return 1;if(!_&&!I&&!ve&&o<d||ve&&g&&E&&!_&&!I||X&&g&&E||!Y&&E||!re)return-1}return 0}function Bp(o,d,g){for(var _=-1,E=o.criteria,I=d.criteria,Y=E.length,X=g.length;++_<Y;){var re=sd(E[_],I[_]);if(re){if(_>=X)return re;var ve=g[_];return re*(ve=="desc"?-1:1)}}return o.index-d.index}function Eh(o,d,g,_){for(var E=-1,I=o.length,Y=g.length,X=-1,re=d.length,ve=Kt(I-Y,0),be=ue(re+ve),Ne=!_;++X<re;)be[X]=d[X];for(;++E<Y;)(Ne||E<I)&&(be[g[E]]=o[E]);for(;ve--;)be[X++]=o[E++];return be}function rd(o,d,g,_){for(var E=-1,I=o.length,Y=-1,X=g.length,re=-1,ve=d.length,be=Kt(I-X,0),Ne=ue(be+ve),Ae=!_;++E<be;)Ne[E]=o[E];for(var ze=E;++re<ve;)Ne[ze+re]=d[re];for(;++Y<X;)(Ae||E<I)&&(Ne[ze+g[Y]]=o[E++]);return Ne}function An(o,d){var g=-1,_=o.length;for(d||(d=ue(_));++g<_;)d[g]=o[g];return d}function As(o,d,g,_){var E=!g;g||(g={});for(var I=-1,Y=d.length;++I<Y;){var X=d[I],re=_?_(g[X],o[X],X,g,o):n;re===n&&(re=o[X]),E?Xs(g,X,re):ki(g,X,re)}return g}function uc(o,d){return As(o,Ts(o),d)}function zp(o,d){return As(o,Lh(o),d)}function dc(o,d){return function(g,_){var E=Je(g)?Nu:Zn,I=d?d():{};return E(g,o,Ve(_,2),I)}}function Pa(o){return et(function(d,g){var _=-1,E=g.length,I=E>1?g[E-1]:n,Y=E>2?g[2]:n;for(I=o.length>3&&typeof I=="function"?(E--,I):n,Y&&Mn(g[0],g[1],Y)&&(I=E<3?n:I,E=1),d=wt(d);++_<E;){var X=g[_];X&&o(d,X,_,I)}return d})}function xs(o,d){return function(g,_){if(g==null)return g;if(!bs(g))return o(g,_);for(var E=g.length,I=d?E:-1,Y=wt(g);(d?I--:++I<E)&&_(Y[I],I,Y)!==!1;);return g}}function fc(o){return function(d,g,_){for(var E=-1,I=wt(d),Y=_(d),X=Y.length;X--;){var re=Y[o?X:++E];if(g(I[re],re,I)===!1)break}return d}}function hc(o,d,g){var _=d&P,E=Ea(o);function I(){var Y=this&&this!==Tt&&this instanceof I?E:o;return Y.apply(_?g:this,arguments)}return I}function id(o){return function(d){d=_t(d);var g=la(d)?Gn(d):n,_=g?g[0]:d.charAt(0),E=g?wr(g,1).join(""):d.slice(1);return _[o]()+E}}function Ti(o){return function(d){return Cu(G0(X0(d).replace(wp,"")),o,"")}}function Ea(o){return function(){var d=arguments;switch(d.length){case 0:return new o;case 1:return new o(d[0]);case 2:return new o(d[0],d[1]);case 3:return new o(d[0],d[1],d[2]);case 4:return new o(d[0],d[1],d[2],d[3]);case 5:return new o(d[0],d[1],d[2],d[3],d[4]);case 6:return new o(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new o(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=xa(o.prototype),_=o.apply(g,d);return $t(_)?_:g}}function ad(o,d,g){var _=Ea(o);function E(){for(var I=arguments.length,Y=ue(I),X=I,re=_r(E);X--;)Y[X]=arguments[X];var ve=I<3&&Y[0]!==re&&Y[I-1]!==re?[]:ls(Y,re);if(I-=ve.length,I<g)return Tn(o,d,Oa,E.placeholder,n,Y,ve,n,n,g-I);var be=this&&this!==Tt&&this instanceof E?_:o;return En(be,this,Y)}return E}function Mi(o){return function(d,g,_){var E=wt(d);if(!bs(d)){var I=Ve(g,3);d=Cn(d),g=function(X){return I(E[X],X,E)}}var Y=o(d,g,_);return Y>-1?E[I?d[Y]:Y]:n}}function mc(o){return sr(function(d){var g=d.length,_=g,E=wn.prototype.thru;for(o&&d.reverse();_--;){var I=d[_];if(typeof I!="function")throw new cs(u);if(E&&!Y&&Aa(I)=="wrapper")var Y=new wn([],!0)}for(_=Y?_:g;++_<g;){I=d[_];var X=Aa(I),re=X=="wrapper"?xc(I):n;re&&Do(re[0])&&re[1]==(ne|B|W|J)&&!re[4].length&&re[9]==1?Y=Y[Aa(re[0])].apply(Y,re[3]):Y=I.length==1&&Do(I)?Y[X]():Y.thru(I)}return function(){var ve=arguments,be=ve[0];if(Y&&ve.length==1&&Je(be))return Y.plant(be).value();for(var Ne=0,Ae=g?d[Ne].apply(this,ve):be;++Ne<g;)Ae=d[Ne].call(this,Ae);return Ae}})}function Oa(o,d,g,_,E,I,Y,X,re,ve){var be=d&ne,Ne=d&P,Ae=d&S,ze=d&(B|z),qe=d&fe,nt=Ae?n:Ea(o);function Ke(){for(var it=arguments.length,dt=ue(it),Bs=it;Bs--;)dt[Bs]=arguments[Bs];if(ze)var ss=_r(Ke),zs=th(dt,ss);if(_&&(dt=Eh(dt,_,E,ze)),I&&(dt=rd(dt,I,Y,ze)),it-=zs,ze&&it<ve){var nn=ls(dt,ss);return Tn(o,d,Oa,Ke.placeholder,g,dt,nn,X,re,ve-it)}var kr=Ne?g:this,Hi=Ae?kr[o]:o;return it=dt.length,X?dt=Ms(dt,X):qe&&it>1&&dt.reverse(),be&&re<it&&(dt.length=re),this&&this!==Tt&&this instanceof Ke&&(Hi=nt||Ea(Hi)),Hi.apply(kr,dt)}return Ke}function Oh(o,d){return function(g,_){return xr(g,o,d(_),{})}}function Eo(o,d){return function(g,_){var E;if(g===n&&_===n)return d;if(g!==n&&(E=g),_!==n){if(E===n)return _;typeof g=="string"||typeof _=="string"?(g=Wn(g),_=Wn(_)):(g=Zu(g),_=Zu(_)),E=o(g,_)}return E}}function pc(o){return sr(function(d){return d=kt(d,Xn(Ve())),et(function(g){var _=this;return o(d,function(E){return En(E,_,g)})})})}function Oo(o,d){d=d===n?" ":Wn(d);var g=d.length;if(g<2)return g?Oi(d,o):d;var _=Oi(d,wi(o/vi(d)));return la(d)?wr(Gn(_),0,o).join(""):_.slice(0,o)}function Ah(o,d,g,_){var E=d&P,I=Ea(o);function Y(){for(var X=-1,re=arguments.length,ve=-1,be=_.length,Ne=ue(be+re),Ae=this&&this!==Tt&&this instanceof Y?I:o;++ve<be;)Ne[ve]=_[ve];for(;re--;)Ne[ve++]=arguments[++X];return En(Ae,E?g:this,Ne)}return Y}function od(o){return function(d,g,_){return _&&typeof _!="number"&&Mn(d,g,_)&&(g=_=n),d=Wi(d),g===n?(g=d,d=0):g=Wi(g),_=_===n?d<g?1:-1:Wi(_),So(d,g,_,o)}}function gc(o){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=ir(d),g=ir(g)),o(d,g)}}function Tn(o,d,g,_,E,I,Y,X,re,ve){var be=d&B,Ne=be?Y:n,Ae=be?n:Y,ze=be?I:n,qe=be?n:I;d|=be?W:q,d&=~(be?q:W),d&F||(d&=-4);var nt=[o,d,E,ze,Ne,qe,Ae,X,re,ve],Ke=g.apply(n,nt);return Do(o)&&xd(Ke,nt),Ke.placeholder=_,yd(Ke,o,d)}function dn(o){var d=qt[o];return function(g,_){if(g=ir(g),_=_==null?0:bn(tt(_),292),_&&fa(g)){var E=(_t(g)+"e").split("e"),I=d(E[0]+"e"+(+E[1]+_));return E=(_t(I)+"e").split("e"),+(E[0]+"e"+(+E[1]-_))}return d(g)}}var Th=Fr&&1/Dr(new Fr([,-0]))[1]==T?function(o){return new Fr(o)}:mg;function ld(o){return function(d){var g=fn(d);return g==ge?Ml(d):g==yt?Mp(d):Op(d,o(d))}}function nr(o,d,g,_,E,I,Y,X){var re=d&S;if(!re&&typeof o!="function")throw new cs(u);var ve=_?_.length:0;if(ve||(d&=-97,_=E=n),Y=Y===n?Y:Kt(tt(Y),0),X=X===n?X:tt(X),ve-=E?E.length:0,d&q){var be=_,Ne=E;_=E=n}var Ae=re?n:xc(o),ze=[o,d,g,_,E,be,Ne,I,Y,X];if(Ae&&Fh(ze,Ae),o=ze[0],d=ze[1],g=ze[2],_=ze[3],E=ze[4],X=ze[9]=ze[9]===n?re?0:o.length:Kt(ze[9]-ve,0),!X&&d&(B|z)&&(d&=-25),!d||d==P)var qe=hc(o,d,g);else d==B||d==z?qe=ad(o,d,X):(d==W||d==(P|W))&&!E.length?qe=Ah(o,d,g,_):qe=Oa.apply(n,ze);var nt=Ae?ic:xd;return yd(nt(qe,ze),o,d)}function cd(o,d,g,_){return o===n||Sr(o,Vs[g])&&!mt.call(_,g)?d:o}function ud(o,d,g,_,E,I){return $t(o)&&$t(d)&&(I.set(d,o),Ei(o,d,n,ud,I),I.delete(d)),o}function dd(o){return Ld(o)?n:o}function fd(o,d,g,_,E,I){var Y=g&k,X=o.length,re=d.length;if(X!=re&&!(Y&&re>X))return!1;var ve=I.get(o),be=I.get(d);if(ve&&be)return ve==d&&be==o;var Ne=-1,Ae=!0,ze=g&N?new ji:n;for(I.set(o,d),I.set(d,o);++Ne<X;){var qe=o[Ne],nt=d[Ne];if(_)var Ke=Y?_(nt,qe,Ne,d,o,I):_(qe,nt,Ne,o,d,I);if(Ke!==n){if(Ke)continue;Ae=!1;break}if(ze){if(!Pu(d,function(it,dt){if(!ur(ze,dt)&&(qe===it||E(qe,it,g,_,I)))return ze.push(dt)})){Ae=!1;break}}else if(!(qe===nt||E(qe,nt,g,_,I))){Ae=!1;break}}return I.delete(o),I.delete(d),Ae}function hd(o,d,g,_,E,I,Y){switch(g){case cr:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case ci:return!(o.byteLength!=d.byteLength||!I(new fo(o),new fo(d)));case Oe:case K:case Fe:return Sr(+o,+d);case Qe:return o.name==d.name&&o.message==d.message;case an:case os:return o==d+"";case ge:var X=Ml;case yt:var re=_&k;if(X||(X=Dr),o.size!=d.size&&!re)return!1;var ve=Y.get(o);if(ve)return ve==d;_|=N,Y.set(o,d);var be=fd(X(o),X(d),_,E,I,Y);return Y.delete(o),be;case Er:if(Jn)return Jn.call(o)==Jn.call(d)}return!1}function Mh(o,d,g,_,E,I){var Y=g&k,X=Ao(o),re=X.length,ve=Ao(d),be=ve.length;if(re!=be&&!Y)return!1;for(var Ne=re;Ne--;){var Ae=X[Ne];if(!(Y?Ae in d:mt.call(d,Ae)))return!1}var ze=I.get(o),qe=I.get(d);if(ze&&qe)return ze==d&&qe==o;var nt=!0;I.set(o,d),I.set(d,o);for(var Ke=Y;++Ne<re;){Ae=X[Ne];var it=o[Ae],dt=d[Ae];if(_)var Bs=Y?_(dt,it,Ae,d,o,I):_(it,dt,Ae,o,d,I);if(!(Bs===n?it===dt||E(it,dt,g,_,I):Bs)){nt=!1;break}Ke||(Ke=Ae=="constructor")}if(nt&&!Ke){var ss=o.constructor,zs=d.constructor;ss!=zs&&"constructor"in o&&"constructor"in d&&!(typeof ss=="function"&&ss instanceof ss&&typeof zs=="function"&&zs instanceof zs)&&(nt=!1)}return I.delete(o),I.delete(d),nt}function sr(o){return ts(wc(o,n,Nc),o+"")}function Ao(o){return Zl(o,Cn,Ts)}function To(o){return Zl(o,ws,Lh)}var xc=Ul?function(o){return Ul.get(o)}:mg;function Aa(o){for(var d=o.name+"",g=pa[d],_=mt.call(pa,d)?g.length:0;_--;){var E=g[_],I=E.func;if(I==null||I==o)return E.name}return d}function _r(o){var d=mt.call(L,"placeholder")?L:o;return d.placeholder}function Ve(){var o=L.iteratee||fg;return o=o===fg?ja:o,arguments.length?o(arguments[0],arguments[1]):o}function Mo(o,d){var g=o.__data__;return Ta(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Lo(o){for(var d=Cn(o),g=d.length;g--;){var _=d[g],E=o[_];d[g]=[_,E,Io(E)]}return d}function qr(o,d){var g=oa(o,d);return Vu(g)?g:n}function yc(o){var d=mt.call(o,bi),g=o[bi];try{o[bi]=n;var _=!0}catch{}var E=co.call(o);return _&&(d?o[bi]=g:delete o[bi]),E}var Ts=Wl?function(o){return o==null?[]:(o=wt(o),Lr(Wl(o),function(d){return Bl.call(o,d)}))}:pg,Lh=Wl?function(o){for(var d=[];o;)Rr(d,Ts(o)),o=Es(o);return d}:pg,fn=un;(po&&fn(new po(new ArrayBuffer(1)))!=cr||_i&&fn(new _i)!=ge||go&&fn(go.resolve())!=jt||Fr&&fn(new Fr)!=yt||xo&&fn(new xo)!=Zi)&&(fn=function(o){var d=un(o),g=d==ct?o.constructor:n,_=g?Kr(g):"";if(_)switch(_){case Bu:return cr;case Br:return ge;case hh:return jt;case ga:return yt;case Ys:return Zi}return d});function md(o,d,g){for(var _=-1,E=g.length;++_<E;){var I=g[_],Y=I.size;switch(I.type){case"drop":o+=Y;break;case"dropRight":d-=Y;break;case"take":d=bn(d,o+Y);break;case"takeRight":o=Kt(o,d-Y);break}}return{start:o,end:d}}function Rh(o){var d=o.match(xl);return d?d[1].split(hu):[]}function pd(o,d,g){d=tr(d,o);for(var _=-1,E=d.length,I=!1;++_<E;){var Y=Rs(d[_]);if(!(I=o!=null&&g(o,Y)))break;o=o[Y]}return I||++_!=E?I:(E=o==null?0:o.length,!!E&&tm(E)&&Lt(Y,E)&&(Je(o)||Vo(o)))}function Ro(o){var d=o.length,g=new o.constructor(d);return d&&typeof o[0]=="string"&&mt.call(o,"index")&&(g.index=o.index,g.input=o.input),g}function hn(o){return typeof o.constructor=="function"&&!jr(o)?xa(Es(o)):{}}function Wp(o,d,g){var _=o.constructor;switch(d){case ci:return Po(o);case Oe:case K:return new _(+o);case cr:return Sh(o,g);case hl:case ui:case di:case iu:case ml:case pl:case au:case qa:case Ka:return Ph(o,g);case ge:return new _;case Fe:case os:return new _(o);case an:return kh(o);case yt:return new _;case Er:return Ch(o)}}function Hp(o,d){var g=d.length;if(!g)return o;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),o.replace(gl,`{
/* [wrapped with `+d+`] */
`)}function vc(o){return Je(o)||Vo(o)||!!(uh&&o&&o[uh])}function Lt(o,d){var g=typeof o;return d=d??M,!!d&&(g=="number"||g!="symbol"&&Mf.test(o))&&o>-1&&o%1==0&&o<d}function Mn(o,d,g){if(!$t(g))return!1;var _=typeof d;return(_=="number"?bs(g)&&Lt(d,g.length):_=="string"&&d in g)?Sr(g[d],o):!1}function Le(o,d){if(Je(o))return!1;var g=typeof o;return g=="number"||g=="symbol"||g=="boolean"||o==null||Fs(o)?!0:Ef.test(o)||!du.test(o)||d!=null&&o in wt(d)}function Ta(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function Do(o){var d=Aa(o),g=L[d];if(typeof g!="function"||!(d in Ge.prototype))return!1;if(o===g)return!0;var _=xc(g);return!!_&&o===_[0]}function Dh(o){return!!Dl&&Dl in o}var $p=ua?zi:gg;function jr(o){var d=o&&o.constructor,g=typeof d=="function"&&d.prototype||Vs;return o===g}function Io(o){return o===o&&!$t(o)}function bc(o,d){return function(g){return g==null?!1:g[o]===d&&(d!==n||o in wt(g))}}function Ih(o){var d=le(o,function(_){return g.size===x&&g.clear(),_}),g=d.cache;return d}function Fh(o,d){var g=o[1],_=d[1],E=g|_,I=E<(P|S|ne),Y=_==ne&&g==B||_==ne&&g==J&&o[7].length<=d[8]||_==(ne|J)&&d[7].length<=d[8]&&g==B;if(!(I||Y))return o;_&P&&(o[2]=d[2],E|=g&P?0:F);var X=d[3];if(X){var re=o[3];o[3]=re?Eh(re,X,d[4]):X,o[4]=re?ls(o[3],y):d[4]}return X=d[5],X&&(re=o[5],o[5]=re?rd(re,X,d[6]):X,o[6]=re?ls(o[5],y):d[6]),X=d[7],X&&(o[7]=X),_&ne&&(o[8]=o[8]==null?d[8]:bn(o[8],d[8])),o[9]==null&&(o[9]=d[9]),o[0]=d[0],o[1]=E,o}function Bh(o){var d=[];if(o!=null)for(var g in wt(o))d.push(g);return d}function gd(o){return co.call(o)}function wc(o,d,g){return d=Kt(d===n?o.length-1:d,0),function(){for(var _=arguments,E=-1,I=Kt(_.length-d,0),Y=ue(I);++E<I;)Y[E]=_[d+E];E=-1;for(var X=ue(d+1);++E<d;)X[E]=_[E];return X[d]=g(Y),En(o,this,X)}}function on(o,d){return d.length<2?o:gr(o,kn(d,0,-1))}function Ms(o,d){for(var g=o.length,_=bn(d.length,g),E=An(o);_--;){var I=d[_];o[_]=Lt(I,g)?E[I]:n}return o}function rr(o,d){if(!(d==="constructor"&&typeof o[d]=="function")&&d!="__proto__")return o[d]}var xd=Ls(ic),Ma=Iu||function(o,d){return Tt.setTimeout(o,d)},ts=Ls(er);function yd(o,d,g){var _=d+"";return ts(o,Hp(_,zh(Rh(_),g)))}function Ls(o){var d=0,g=0;return function(){var _=Fp(),E=ke-(_-g);if(g=_,E>0){if(++d>=oe)return arguments[0]}else d=0;return o.apply(n,arguments)}}function _c(o,d){var g=-1,_=o.length,E=_-1;for(d=d===n?_:d;++g<d;){var I=Na(g,E),Y=o[I];o[I]=o[g],o[g]=Y}return o.length=d,o}var vd=Ih(function(o){var d=[];return o.charCodeAt(0)===46&&d.push(""),o.replace(Qa,function(g,_,E,I){d.push(E?I.replace(pp,"$1"):_||g)}),d});function Rs(o){if(typeof o=="string"||Fs(o))return o;var d=o+"";return d=="0"&&1/o==-1/0?"-0":d}function Kr(o){if(o!=null){try{return lo.call(o)}catch{}try{return o+""}catch{}}return""}function zh(o,d){return vn(te,function(g){var _="_."+g[0];d&g[1]&&!Ol(o,_)&&o.push(_)}),o.sort()}function Wh(o){if(o instanceof Ge)return o.clone();var d=new wn(o.__wrapped__,o.__chain__);return d.__actions__=An(o.__actions__),d.__index__=o.__index__,d.__values__=o.__values__,d}function jc(o,d,g){(g?Mn(o,d,g):d===n)?d=1:d=Kt(tt(d),0);var _=o==null?0:o.length;if(!_||d<1)return[];for(var E=0,I=0,Y=ue(wi(_/d));E<_;)Y[I++]=kn(o,E,E+=d);return Y}function bd(o){for(var d=-1,g=o==null?0:o.length,_=0,E=[];++d<g;){var I=o[d];I&&(E[_++]=I)}return E}function ys(){var o=arguments.length;if(!o)return[];for(var d=ue(o-1),g=arguments[0],_=o;_--;)d[_-1]=arguments[_];return Rr(Je(g)?An(g):[g],Bt(d,1))}var ut=et(function(o,d){return tn(o)?Gs(o,Bt(d,1,tn,!0)):[]}),ln=et(function(o,d){var g=Ln(d);return tn(g)&&(g=n),tn(o)?Gs(o,Bt(d,1,tn,!0),Ve(g,2)):[]}),Qt=et(function(o,d){var g=Ln(d);return tn(g)&&(g=n),tn(o)?Gs(o,Bt(d,1,tn,!0),n,g):[]});function mn(o,d,g){var _=o==null?0:o.length;return _?(d=g||d===n?1:tt(d),kn(o,d<0?0:d,_)):[]}function ns(o,d,g){var _=o==null?0:o.length;return _?(d=g||d===n?1:tt(d),d=_-d,kn(o,0,d<0?0:d)):[]}function La(o,d){return o&&o.length?ko(o,Ve(d,3),!0,!0):[]}function en(o,d){return o&&o.length?ko(o,Ve(d,3),!0):[]}function Fo(o,d,g,_){var E=o==null?0:o.length;return E?(g&&typeof g!="number"&&Mn(o,d,g)&&(g=0,_=E),wh(o,d,g,_)):[]}function Qr(o,d,g){var _=o==null?0:o.length;if(!_)return-1;var E=g==null?0:tt(g);return E<0&&(E=Kt(_+E,0)),Al(o,Ve(d,3),E)}function Bo(o,d,g){var _=o==null?0:o.length;if(!_)return-1;var E=_-1;return g!==n&&(E=tt(g),E=g<0?Kt(_+E,0):bn(E,_-1)),Al(o,Ve(d,3),E,!0)}function Nc(o){var d=o==null?0:o.length;return d?Bt(o,1):[]}function zo(o){var d=o==null?0:o.length;return d?Bt(o,T):[]}function Hn(o,d){var g=o==null?0:o.length;return g?(d=d===n?1:tt(d),Bt(o,d)):[]}function wd(o){for(var d=-1,g=o==null?0:o.length,_={};++d<g;){var E=o[d];_[E[0]]=E[1]}return _}function Li(o){return o&&o.length?o[0]:n}function Nr(o,d,g){var _=o==null?0:o.length;if(!_)return-1;var E=g==null?0:tt(g);return E<0&&(E=Kt(_+E,0)),aa(o,d,E)}function Sc(o){var d=o==null?0:o.length;return d?kn(o,0,-1):[]}var _d=et(function(o){var d=kt(o,Ca);return d.length&&d[0]===o[0]?ec(d):[]}),Xr=et(function(o){var d=Ln(o),g=kt(o,Ca);return d===Ln(g)?d=n:g.pop(),g.length&&g[0]===o[0]?ec(g,Ve(d,2)):[]}),kc=et(function(o){var d=Ln(o),g=kt(o,Ca);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===o[0]?ec(g,n,d):[]});function Gr(o,d){return o==null?"":Hl.call(o,d)}function Ln(o){var d=o==null?0:o.length;return d?o[d-1]:n}function Wo(o,d,g){var _=o==null?0:o.length;if(!_)return-1;var E=_;return g!==n&&(E=tt(g),E=E<0?Kt(_+E,0):bn(E,_-1)),d===d?Lp(o,d,E):Al(o,Xf,E,!0)}function jd(o,d){return o&&o.length?rc(o,tt(d)):n}var Cc=et(Ho);function Ho(o,d){return o&&o.length&&d&&d.length?Wt(o,d):o}function Rn(o,d,g){return o&&o.length&&d&&d.length?Wt(o,d,Ve(g,2)):o}function Jr(o,d,g){return o&&o.length&&d&&d.length?Wt(o,d,n,g):o}var Ds=sr(function(o,d){var g=o==null?0:o.length,_=Gl(o,d);return Zt(o,kt(d,function(E){return Lt(E,g)?+E:E}).sort(sd)),_});function $n(o,d){var g=[];if(!(o&&o.length))return g;var _=-1,E=[],I=o.length;for(d=Ve(d,3);++_<I;){var Y=o[_];d(Y,_,o)&&(g.push(Y),E.push(_))}return Zt(o,E),g}function Pc(o){return o==null?o:$l.call(o)}function Nd(o,d,g){var _=o==null?0:o.length;return _?(g&&typeof g!="number"&&Mn(o,d,g)?(d=0,g=_):(d=d==null?0:tt(d),g=g===n?_:tt(g)),kn(o,d,g)):[]}function Sd(o,d){return Sa(o,d)}function Up(o,d,g){return ac(o,d,Ve(g,2))}function Zr(o,d){var g=o==null?0:o.length;if(g){var _=Sa(o,d);if(_<g&&Sr(o[_],d))return _}return-1}function Hh(o,d){return Sa(o,d,!0)}function kd(o,d,g){return ac(o,d,Ve(g,2),!0)}function Ri(o,d){var g=o==null?0:o.length;if(g){var _=Sa(o,d,!0)-1;if(Sr(o[_],d))return _}return-1}function Cd(o){return o&&o.length?Ju(o):[]}function Di(o,d){return o&&o.length?Ju(o,Ve(d,2)):[]}function $h(o){var d=o==null?0:o.length;return d?kn(o,1,d):[]}function Uh(o,d,g){return o&&o.length?(d=g||d===n?1:tt(d),kn(o,0,d<0?0:d)):[]}function Pd(o,d,g){var _=o==null?0:o.length;return _?(d=g||d===n?1:tt(d),d=_-d,kn(o,d<0?0:d,_)):[]}function Ec(o,d){return o&&o.length?ko(o,Ve(d,3),!1,!0):[]}function Vp(o,d){return o&&o.length?ko(o,Ve(d,3)):[]}var Yp=et(function(o){return br(Bt(o,1,tn,!0))}),Vh=et(function(o){var d=Ln(o);return tn(d)&&(d=n),br(Bt(o,1,tn,!0),Ve(d,2))}),Yh=et(function(o){var d=Ln(o);return d=typeof d=="function"?d:n,br(Bt(o,1,tn,!0),n,d)});function Ii(o){return o&&o.length?br(o):[]}function qp(o,d){return o&&o.length?br(o,Ve(d,2)):[]}function Ra(o,d){return d=typeof d=="function"?d:n,o&&o.length?br(o,n,d):[]}function Oc(o){if(!(o&&o.length))return[];var d=0;return o=Lr(o,function(g){if(tn(g))return d=Kt(g.length,d),!0}),Tu(d,function(g){return kt(o,Ou(g))})}function It(o,d){if(!(o&&o.length))return[];var g=Oc(o);return d==null?g:kt(g,function(_){return En(d,n,_)})}var Kp=et(function(o,d){return tn(o)?Gs(o,d):[]}),qh=et(function(o){return lc(Lr(o,tn))}),Qp=et(function(o){var d=Ln(o);return tn(d)&&(d=n),lc(Lr(o,tn),Ve(d,2))}),Xp=et(function(o){var d=Ln(o);return d=typeof d=="function"?d:n,lc(Lr(o,tn),n,d)}),Kh=et(Oc);function Qh(o,d){return Co(o||[],d||[],ki)}function Gp(o,d){return Co(o||[],d||[],Ai)}var vs=et(function(o){var d=o.length,g=d>1?o[d-1]:n;return g=typeof g=="function"?(o.pop(),g):n,It(o,g)});function Ac(o){var d=L(o);return d.__chain__=!0,d}function Jp(o,d){return d(o),o}function Is(o,d){return d(o)}var Tc=sr(function(o){var d=o.length,g=d?o[0]:0,_=this.__wrapped__,E=function(I){return Gl(I,o)};return d>1||this.__actions__.length||!(_ instanceof Ge)||!Lt(g)?this.thru(E):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:Is,args:[E],thisArg:n}),new wn(_,this.__chain__).thru(function(I){return d&&!I.length&&I.push(n),I}))});function Fi(){return Ac(this)}function Mc(){return new wn(this.value(),this.__chain__)}function Ed(){this.__values__===n&&(this.__values__=W0(this.value()));var o=this.__index__>=this.__values__.length,d=o?n:this.__values__[this.__index__++];return{done:o,value:d}}function Od(){return this}function Zp(o){for(var d,g=this;g instanceof qs;){var _=Wh(g);_.__index__=0,_.__values__=n,d?E.__wrapped__=_:d=_;var E=_;g=g.__wrapped__}return E.__wrapped__=o,d}function Ad(){var o=this.__wrapped__;if(o instanceof Ge){var d=o;return this.__actions__.length&&(d=new Ge(this)),d=d.reverse(),d.__actions__.push({func:Is,args:[Pc],thisArg:n}),new wn(d,this.__chain__)}return this.thru(Pc)}function eg(){return ka(this.__wrapped__,this.__actions__)}var Xh=dc(function(o,d,g){mt.call(o,g)?++o[g]:Xs(o,g,1)});function Gh(o,d,g){var _=Je(o)?Su:bo;return g&&Mn(o,d,g)&&(d=n),_(o,Ve(d,3))}function Lc(o,d){var g=Je(o)?Lr:$u;return g(o,Ve(d,3))}var Rc=Mi(Qr),Jh=Mi(Bo);function Td(o,d){return Bt(Bi(o,d),1)}function tg(o,d){return Bt(Bi(o,d),T)}function Zh(o,d,g){return g=g===n?1:tt(g),Bt(Bi(o,d),g)}function Dc(o,d){var g=Je(o)?vn:Js;return g(o,Ve(d,3))}function $o(o,d){var g=Je(o)?El:bh;return g(o,Ve(d,3))}var Md=dc(function(o,d,g){mt.call(o,g)?o[g].push(d):Xs(o,g,[d])});function Ic(o,d,g,_){o=bs(o)?o:zc(o),g=g&&!_?tt(g):0;var E=o.length;return g<0&&(g=Kt(E+g,0)),nm(o)?g<=E&&o.indexOf(d,g)>-1:!!E&&aa(o,d,g)>-1}var em=et(function(o,d,g){var _=-1,E=typeof d=="function",I=bs(o)?ue(o.length):[];return Js(o,function(Y){I[++_]=E?En(d,Y,g):ms(Y,d,g)}),I}),ng=dc(function(o,d,g){Xs(o,g,d)});function Bi(o,d){var g=Je(o)?kt:qu;return g(o,Ve(d,3))}function sg(o,d,g,_){return o==null?[]:(Je(d)||(d=d==null?[]:[d]),g=_?n:g,Je(g)||(g=g==null?[]:[g]),No(o,d,g))}var Uo=dc(function(o,d,g){o[g?0:1].push(d)},function(){return[[],[]]});function rg(o,d,g){var _=Je(o)?Cu:Jf,E=arguments.length<3;return _(o,Ve(d,4),g,E,Js)}function Fc(o,d,g){var _=Je(o)?kp:Jf,E=arguments.length<3;return _(o,Ve(d,4),g,E,bh)}function r(o,d){var g=Je(o)?Lr:$u;return g(o,Pe(Ve(d,3)))}function a(o){var d=Je(o)?Qs:Sn;return d(o)}function f(o,d,g){(g?Mn(o,d,g):d===n)?d=1:d=tt(d);var _=Je(o)?Si:Xu;return _(o,d)}function p(o){var d=Je(o)?yh:gs;return d(o)}function v(o){if(o==null)return 0;if(bs(o))return nm(o)?vi(o):o.length;var d=fn(o);return d==ge||d==yt?o.size:vr(o).length}function w(o,d,g){var _=Je(o)?Pu:Gu;return g&&Mn(o,d,g)&&(d=n),_(o,Ve(d,3))}var A=et(function(o,d){if(o==null)return[];var g=d.length;return g>1&&Mn(o,d[0],d[1])?d=[]:g>2&&Mn(d[0],d[1],d[2])&&(d=[d[0]]),No(o,Bt(d,1),[])}),$=Pt||function(){return Tt.Date.now()};function Q(o,d){if(typeof d!="function")throw new cs(u);return o=tt(o),function(){if(--o<1)return d.apply(this,arguments)}}function de(o,d,g){return d=g?n:d,d=o&&d==null?o.length:d,nr(o,ne,n,n,n,n,d)}function je(o,d){var g;if(typeof d!="function")throw new cs(u);return o=tt(o),function(){return--o>0&&(g=d.apply(this,arguments)),o<=1&&(d=n),g}}var Ce=et(function(o,d,g){var _=P;if(g.length){var E=ls(g,_r(Ce));_|=W}return nr(o,_,d,g,E)}),_e=et(function(o,d,g){var _=P|S;if(g.length){var E=ls(g,_r(_e));_|=W}return nr(d,_,o,g,E)});function Me(o,d,g){d=g?n:d;var _=nr(o,B,n,n,n,n,n,d);return _.placeholder=Me.placeholder,_}function Re(o,d,g){d=g?n:d;var _=nr(o,z,n,n,n,n,n,d);return _.placeholder=Re.placeholder,_}function De(o,d,g){var _,E,I,Y,X,re,ve=0,be=!1,Ne=!1,Ae=!0;if(typeof o!="function")throw new cs(u);d=ir(d)||0,$t(g)&&(be=!!g.leading,Ne="maxWait"in g,I=Ne?Kt(ir(g.maxWait)||0,d):I,Ae="trailing"in g?!!g.trailing:Ae);function ze(nn){var kr=_,Hi=E;return _=E=n,ve=nn,Y=o.apply(Hi,kr),Y}function qe(nn){return ve=nn,X=Ma(it,d),be?ze(nn):Y}function nt(nn){var kr=nn-re,Hi=nn-ve,ex=d-kr;return Ne?bn(ex,I-Hi):ex}function Ke(nn){var kr=nn-re,Hi=nn-ve;return re===n||kr>=d||kr<0||Ne&&Hi>=I}function it(){var nn=$();if(Ke(nn))return dt(nn);X=Ma(it,nt(nn))}function dt(nn){return X=n,Ae&&_?ze(nn):(_=E=n,Y)}function Bs(){X!==n&&td(X),ve=0,_=re=E=X=n}function ss(){return X===n?Y:dt($())}function zs(){var nn=$(),kr=Ke(nn);if(_=arguments,E=this,re=nn,kr){if(X===n)return qe(re);if(Ne)return td(X),X=Ma(it,d),ze(re)}return X===n&&(X=Ma(it,d)),Y}return zs.cancel=Bs,zs.flush=ss,zs}var Ht=et(function(o,d){return Hu(o,1,d)}),ae=et(function(o,d,g){return Hu(o,ir(d)||0,g)});function Z(o){return nr(o,fe)}function le(o,d){if(typeof o!="function"||d!=null&&typeof d!="function")throw new cs(u);var g=function(){var _=arguments,E=d?d.apply(this,_):_[0],I=g.cache;if(I.has(E))return I.get(E);var Y=o.apply(this,_);return g.cache=I.set(E,Y)||I,Y};return g.cache=new(le.Cache||us),g}le.Cache=us;function Pe(o){if(typeof o!="function")throw new cs(u);return function(){var d=arguments;switch(d.length){case 0:return!o.call(this);case 1:return!o.call(this,d[0]);case 2:return!o.call(this,d[0],d[1]);case 3:return!o.call(this,d[0],d[1],d[2])}return!o.apply(this,d)}}function Be(o){return je(2,o)}var Ue=Nh(function(o,d){d=d.length==1&&Je(d[0])?kt(d[0],Xn(Ve())):kt(Bt(d,1),Xn(Ve()));var g=d.length;return et(function(_){for(var E=-1,I=bn(_.length,g);++E<I;)_[E]=d[E].call(this,_[E]);return En(o,this,_)})}),He=et(function(o,d){var g=ls(d,_r(He));return nr(o,W,n,d,g)}),Ye=et(function(o,d){var g=ls(d,_r(Ye));return nr(o,q,n,d,g)}),cn=sr(function(o,d){return nr(o,J,n,n,n,d)});function pt(o,d){if(typeof o!="function")throw new cs(u);return d=d===n?d:tt(d),et(o,d)}function ei(o,d){if(typeof o!="function")throw new cs(u);return d=d==null?0:Kt(tt(d),0),et(function(g){var _=g[d],E=wr(g,0,d);return _&&Rr(E,_),En(o,this,E)})}function ig(o,d,g){var _=!0,E=!0;if(typeof o!="function")throw new cs(u);return $t(g)&&(_="leading"in g?!!g.leading:_,E="trailing"in g?!!g.trailing:E),De(o,d,{leading:_,maxWait:d,trailing:E})}function mb(o){return de(o,1)}function pb(o,d){return He(cc(d),o)}function gb(){if(!arguments.length)return[];var o=arguments[0];return Je(o)?o:[o]}function xb(o){return zn(o,C)}function yb(o,d){return d=typeof d=="function"?d:n,zn(o,C,d)}function vb(o){return zn(o,b|C)}function bb(o,d){return d=typeof d=="function"?d:n,zn(o,b|C,d)}function wb(o,d){return d==null||vo(o,d,Cn(d))}function Sr(o,d){return o===d||o!==o&&d!==d}var _b=gc(Ur),jb=gc(function(o,d){return o>=d}),Vo=tc(function(){return arguments}())?tc:function(o){return Xt(o)&&mt.call(o,"callee")&&!Bl.call(o,"callee")},Je=ue.isArray,Nb=ju?Xn(ju):_h;function bs(o){return o!=null&&tm(o.length)&&!zi(o)}function tn(o){return Xt(o)&&bs(o)}function Sb(o){return o===!0||o===!1||Xt(o)&&un(o)==Oe}var Da=Fu||gg,kb=Dn?Xn(Dn):yr;function Cb(o){return Xt(o)&&o.nodeType===1&&!Ld(o)}function Pb(o){if(o==null)return!0;if(bs(o)&&(Je(o)||typeof o=="string"||typeof o.splice=="function"||Da(o)||Bc(o)||Vo(o)))return!o.length;var d=fn(o);if(d==ge||d==yt)return!o.size;if(jr(o))return!vr(o).length;for(var g in o)if(mt.call(o,g))return!1;return!0}function Eb(o,d){return ps(o,d)}function Ob(o,d,g){g=typeof g=="function"?g:n;var _=g?g(o,d):n;return _===n?ps(o,d,n,g):!!_}function ag(o){if(!Xt(o))return!1;var d=un(o);return d==Qe||d==pe||typeof o.message=="string"&&typeof o.name=="string"&&!Ld(o)}function Ab(o){return typeof o=="number"&&fa(o)}function zi(o){if(!$t(o))return!1;var d=un(o);return d==We||d==Ie||d==he||d==Jt}function I0(o){return typeof o=="number"&&o==tt(o)}function tm(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=M}function $t(o){var d=typeof o;return o!=null&&(d=="object"||d=="function")}function Xt(o){return o!=null&&typeof o=="object"}var F0=yi?Xn(yi):jh;function Tb(o,d){return o===d||_a(o,d,Lo(d))}function Mb(o,d,g){return g=typeof g=="function"?g:n,_a(o,d,Lo(d),g)}function Lb(o){return B0(o)&&o!=+o}function Rb(o){if($p(o))throw new Xe(c);return Vu(o)}function Db(o){return o===null}function Ib(o){return o==null}function B0(o){return typeof o=="number"||Xt(o)&&un(o)==Fe}function Ld(o){if(!Xt(o)||un(o)!=ct)return!1;var d=Es(o);if(d===null)return!0;var g=mt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&lo.call(g)==Il}var og=Pl?Xn(Pl):_o;function Fb(o){return I0(o)&&o>=-9007199254740991&&o<=M}var z0=ia?Xn(ia):Zs;function nm(o){return typeof o=="string"||!Je(o)&&Xt(o)&&un(o)==os}function Fs(o){return typeof o=="symbol"||Xt(o)&&un(o)==Er}var Bc=qf?Xn(qf):jo;function Bb(o){return o===n}function zb(o){return Xt(o)&&fn(o)==Zi}function Wb(o){return Xt(o)&&un(o)==Nf}var Hb=gc(Vr),$b=gc(function(o,d){return o<=d});function W0(o){if(!o)return[];if(bs(o))return nm(o)?Gn(o):An(o);if(hr&&o[hr])return Tp(o[hr]());var d=fn(o),g=d==ge?Ml:d==yt?Dr:zc;return g(o)}function Wi(o){if(!o)return o===0?o:0;if(o=ir(o),o===T||o===-1/0){var d=o<0?-1:1;return d*G}return o===o?o:0}function tt(o){var d=Wi(o),g=d%1;return d===d?g?d-g:d:0}function H0(o){return o?pr(tt(o),0,O):0}function ir(o){if(typeof o=="number")return o;if(Fs(o))return D;if($t(o)){var d=typeof o.valueOf=="function"?o.valueOf():o;o=$t(d)?d+"":d}if(typeof o!="string")return o===0?o:+o;o=Zf(o);var g=gp.test(o);return g||Tf.test(o)?kl(o.slice(2),g?2:8):Of.test(o)?D:+o}function $0(o){return As(o,ws(o))}function Ub(o){return o?pr(tt(o),-9007199254740991,M):o===0?o:0}function _t(o){return o==null?"":Wn(o)}var Vb=Pa(function(o,d){if(jr(d)||bs(d)){As(d,Cn(d),o);return}for(var g in d)mt.call(d,g)&&ki(o,g,d[g])}),U0=Pa(function(o,d){As(d,ws(d),o)}),sm=Pa(function(o,d,g,_){As(d,ws(d),o,_)}),Yb=Pa(function(o,d,g,_){As(d,Cn(d),o,_)}),qb=sr(Gl);function Kb(o,d){var g=xa(o);return d==null?g:Ot(g,d)}var Qb=et(function(o,d){o=wt(o);var g=-1,_=d.length,E=_>2?d[2]:n;for(E&&Mn(d[0],d[1],E)&&(_=1);++g<_;)for(var I=d[g],Y=ws(I),X=-1,re=Y.length;++X<re;){var ve=Y[X],be=o[ve];(be===n||Sr(be,Vs[ve])&&!mt.call(o,ve))&&(o[ve]=I[ve])}return o}),Xb=et(function(o){return o.push(n,ud),En(V0,n,o)});function Gb(o,d){return Qf(o,Ve(d,3),es)}function Jb(o,d){return Qf(o,Ve(d,3),$r)}function Zb(o,d){return o==null?o:Jl(o,Ve(d,3),ws)}function ew(o,d){return o==null?o:wo(o,Ve(d,3),ws)}function tw(o,d){return o&&es(o,Ve(d,3))}function nw(o,d){return o&&$r(o,Ve(d,3))}function sw(o){return o==null?[]:wa(o,Cn(o))}function rw(o){return o==null?[]:wa(o,ws(o))}function lg(o,d,g){var _=o==null?n:gr(o,d);return _===n?g:_}function iw(o,d){return o!=null&&pd(o,d,hs)}function cg(o,d){return o!=null&&pd(o,d,Pi)}var aw=Oh(function(o,d,g){d!=null&&typeof d.toString!="function"&&(d=co.call(d)),o[d]=g},dg(_s)),ow=Oh(function(o,d,g){d!=null&&typeof d.toString!="function"&&(d=co.call(d)),mt.call(o,d)?o[d].push(g):o[d]=[g]},Ve),lw=et(ms);function Cn(o){return bs(o)?Ks(o):vr(o)}function ws(o){return bs(o)?Ks(o,!0):Yu(o)}function cw(o,d){var g={};return d=Ve(d,3),es(o,function(_,E,I){Xs(g,d(_,E,I),_)}),g}function uw(o,d){var g={};return d=Ve(d,3),es(o,function(_,E,I){Xs(g,E,d(_,E,I))}),g}var dw=Pa(function(o,d,g){Ei(o,d,g)}),V0=Pa(function(o,d,g,_){Ei(o,d,g,_)}),fw=sr(function(o,d){var g={};if(o==null)return g;var _=!1;d=kt(d,function(I){return I=tr(I,o),_||(_=I.length>1),I}),As(o,To(o),g),_&&(g=zn(g,b|j|C,dd));for(var E=d.length;E--;)oc(g,d[E]);return g});function hw(o,d){return Y0(o,Pe(Ve(d)))}var mw=sr(function(o,d){return o==null?{}:Qu(o,d)});function Y0(o,d){if(o==null)return{};var g=kt(To(o),function(_){return[_]});return d=Ve(d),Yr(o,g,function(_,E){return d(_,E[0])})}function pw(o,d,g){d=tr(d,o);var _=-1,E=d.length;for(E||(E=1,o=n);++_<E;){var I=o==null?n:o[Rs(d[_])];I===n&&(_=E,I=g),o=zi(I)?I.call(o):I}return o}function gw(o,d,g){return o==null?o:Ai(o,d,g)}function xw(o,d,g,_){return _=typeof _=="function"?_:n,o==null?o:Ai(o,d,g,_)}var q0=ld(Cn),K0=ld(ws);function yw(o,d,g){var _=Je(o),E=_||Da(o)||Bc(o);if(d=Ve(d,4),g==null){var I=o&&o.constructor;E?g=_?new I:[]:$t(o)?g=zi(I)?xa(Es(o)):{}:g={}}return(E?vn:es)(o,function(Y,X,re){return d(g,Y,X,re)}),g}function vw(o,d){return o==null?!0:oc(o,d)}function bw(o,d,g){return o==null?o:ed(o,d,cc(g))}function ww(o,d,g,_){return _=typeof _=="function"?_:n,o==null?o:ed(o,d,cc(g),_)}function zc(o){return o==null?[]:ao(o,Cn(o))}function _w(o){return o==null?[]:ao(o,ws(o))}function jw(o,d,g){return g===n&&(g=d,d=n),g!==n&&(g=ir(g),g=g===g?g:0),d!==n&&(d=ir(d),d=d===d?d:0),pr(ir(o),d,g)}function Nw(o,d,g){return d=Wi(d),g===n?(g=d,d=0):g=Wi(g),o=ir(o),Uu(o,d,g)}function Sw(o,d,g){if(g&&typeof g!="boolean"&&Mn(o,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof o=="boolean"&&(g=o,o=n)),o===n&&d===n?(o=0,d=1):(o=Wi(o),d===n?(d=o,o=0):d=Wi(d)),o>d){var _=o;o=d,d=_}if(g||o%1||d%1){var E=mo();return bn(o+E*(d-o+wu("1e-"+((E+"").length-1))),d)}return Na(o,d)}var kw=Ti(function(o,d,g){return d=d.toLowerCase(),o+(g?Q0(d):d)});function Q0(o){return ug(_t(o).toLowerCase())}function X0(o){return o=_t(o),o&&o.replace(Lf,nh).replace($f,"")}function Cw(o,d,g){o=_t(o),d=Wn(d);var _=o.length;g=g===n?_:pr(tt(g),0,_);var E=g;return g-=d.length,g>=0&&o.slice(g,E)==d}function Pw(o){return o=_t(o),o&&kf.test(o)?o.replace(hi,sh):o}function Ew(o){return o=_t(o),o&&Ga.test(o)?o.replace(Xa,"\\$&"):o}var Ow=Ti(function(o,d,g){return o+(g?"-":"")+d.toLowerCase()}),Aw=Ti(function(o,d,g){return o+(g?" ":"")+d.toLowerCase()}),Tw=id("toLowerCase");function Mw(o,d,g){o=_t(o),d=tt(d);var _=d?vi(o):0;if(!d||_>=d)return o;var E=(d-_)/2;return Oo(Ir(E),g)+o+Oo(wi(E),g)}function Lw(o,d,g){o=_t(o),d=tt(d);var _=d?vi(o):0;return d&&_<d?o+Oo(d-_,g):o}function Rw(o,d,g){o=_t(o),d=tt(d);var _=d?vi(o):0;return d&&_<d?Oo(d-_,g)+o:o}function Dw(o,d,g){return g||d==null?d=0:d&&(d=+d),fh(_t(o).replace(fu,""),d||0)}function Iw(o,d,g){return(g?Mn(o,d,g):d===n)?d=1:d=tt(d),Oi(_t(o),d)}function Fw(){var o=arguments,d=_t(o[0]);return o.length<3?d:d.replace(o[1],o[2])}var Bw=Ti(function(o,d,g){return o+(g?"_":"")+d.toLowerCase()});function zw(o,d,g){return g&&typeof g!="number"&&Mn(o,d,g)&&(d=g=n),g=g===n?O:g>>>0,g?(o=_t(o),o&&(typeof d=="string"||d!=null&&!og(d))&&(d=Wn(d),!d&&la(o))?wr(Gn(o),0,g):o.split(d,g)):[]}var Ww=Ti(function(o,d,g){return o+(g?" ":"")+ug(d)});function Hw(o,d,g){return o=_t(o),g=g==null?0:pr(tt(g),0,o.length),d=Wn(d),o.slice(g,g+d.length)==d}function $w(o,d,g){var _=L.templateSettings;g&&Mn(o,d,g)&&(d=n),o=_t(o),d=sm({},d,_,cd);var E=sm({},d.imports,_.imports,cd),I=Cn(E),Y=ao(E,I),X,re,ve=0,be=d.interpolate||yl,Ne="__p += '",Ae=oo((d.escape||yl).source+"|"+be.source+"|"+(be===uu?mi:yl).source+"|"+(d.evaluate||yl).source+"|$","g"),ze="//# sourceURL="+(mt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jp+"]")+`
`;o.replace(Ae,function(Ke,it,dt,Bs,ss,zs){return dt||(dt=Bs),Ne+=o.slice(ve,zs).replace(xp,rh),it&&(X=!0,Ne+=`' +
__e(`+it+`) +
'`),ss&&(re=!0,Ne+=`';
`+ss+`;
__p += '`),dt&&(Ne+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),ve=zs+Ke.length,Ke}),Ne+=`';
`;var qe=mt.call(d,"variable")&&d.variable;if(!qe)Ne=`with (obj) {
`+Ne+`
}
`;else if(mp.test(qe))throw new Xe(h);Ne=(re?Ne.replace(ou,""):Ne).replace(lu,"$1").replace(cu,"$1;"),Ne="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var nt=J0(function(){return ht(I,ze+"return "+Ne).apply(n,Y)});if(nt.source=Ne,ag(nt))throw nt;return nt}function Uw(o){return _t(o).toLowerCase()}function Vw(o){return _t(o).toUpperCase()}function Yw(o,d,g){if(o=_t(o),o&&(g||d===n))return Zf(o);if(!o||!(d=Wn(d)))return o;var _=Gn(o),E=Gn(d),I=eh(_,E),Y=Mu(_,E)+1;return wr(_,I,Y).join("")}function qw(o,d,g){if(o=_t(o),o&&(g||d===n))return o.slice(0,Rl(o)+1);if(!o||!(d=Wn(d)))return o;var _=Gn(o),E=Mu(_,Gn(d))+1;return wr(_,0,E).join("")}function Kw(o,d,g){if(o=_t(o),o&&(g||d===n))return o.replace(fu,"");if(!o||!(d=Wn(d)))return o;var _=Gn(o),E=eh(_,Gn(d));return wr(_,E).join("")}function Qw(o,d){var g=ee,_=ie;if($t(d)){var E="separator"in d?d.separator:E;g="length"in d?tt(d.length):g,_="omission"in d?Wn(d.omission):_}o=_t(o);var I=o.length;if(la(o)){var Y=Gn(o);I=Y.length}if(g>=I)return o;var X=g-vi(_);if(X<1)return _;var re=Y?wr(Y,0,X).join(""):o.slice(0,X);if(E===n)return re+_;if(Y&&(X+=re.length-X),og(E)){if(o.slice(X).search(E)){var ve,be=re;for(E.global||(E=oo(E.source,_t(mu.exec(E))+"g")),E.lastIndex=0;ve=E.exec(be);)var Ne=ve.index;re=re.slice(0,Ne===n?X:Ne)}}else if(o.indexOf(Wn(E),X)!=X){var Ae=re.lastIndexOf(E);Ae>-1&&(re=re.slice(0,Ae))}return re+_}function Xw(o){return o=_t(o),o&&Sf.test(o)?o.replace(fi,ih):o}var Gw=Ti(function(o,d,g){return o+(g?" ":"")+d.toUpperCase()}),ug=id("toUpperCase");function G0(o,d,g){return o=_t(o),d=g?n:d,d===n?Ap(o)?Rp(o):Pp(o):o.match(d)||[]}var J0=et(function(o,d){try{return En(o,n,d)}catch(g){return ag(g)?g:new Xe(g)}}),Jw=sr(function(o,d){return vn(d,function(g){g=Rs(g),Xs(o,g,Ce(o[g],o))}),o});function Zw(o){var d=o==null?0:o.length,g=Ve();return o=d?kt(o,function(_){if(typeof _[1]!="function")throw new cs(u);return[g(_[0]),_[1]]}):[],et(function(_){for(var E=-1;++E<d;){var I=o[E];if(En(I[0],this,_))return En(I[1],this,_)}})}function e_(o){return vh(zn(o,b))}function dg(o){return function(){return o}}function t_(o,d){return o==null||o!==o?d:o}var n_=mc(),s_=mc(!0);function _s(o){return o}function fg(o){return ja(typeof o=="function"?o:zn(o,b))}function r_(o){return sc(zn(o,b))}function i_(o,d){return Mt(o,zn(d,b))}var a_=et(function(o,d){return function(g){return ms(g,o,d)}}),o_=et(function(o,d){return function(g){return ms(o,g,d)}});function hg(o,d,g){var _=Cn(d),E=wa(d,_);g==null&&!($t(d)&&(E.length||!_.length))&&(g=d,d=o,o=this,E=wa(d,Cn(d)));var I=!($t(g)&&"chain"in g)||!!g.chain,Y=zi(o);return vn(E,function(X){var re=d[X];o[X]=re,Y&&(o.prototype[X]=function(){var ve=this.__chain__;if(I||ve){var be=o(this.__wrapped__),Ne=be.__actions__=An(this.__actions__);return Ne.push({func:re,args:arguments,thisArg:o}),be.__chain__=ve,be}return re.apply(o,Rr([this.value()],arguments))})}),o}function l_(){return Tt._===this&&(Tt._=lh),this}function mg(){}function c_(o){return o=tt(o),et(function(d){return rc(d,o)})}var u_=pc(kt),d_=pc(Su),f_=pc(Pu);function Z0(o){return Le(o)?Ou(Rs(o)):Dt(o)}function h_(o){return function(d){return o==null?n:gr(o,d)}}var m_=od(),p_=od(!0);function pg(){return[]}function gg(){return!1}function g_(){return{}}function x_(){return""}function y_(){return!0}function v_(o,d){if(o=tt(o),o<1||o>M)return[];var g=O,_=bn(o,O);d=Ve(d),o-=O;for(var E=Tu(_,d);++g<o;)d(g);return E}function b_(o){return Je(o)?kt(o,Rs):Fs(o)?[o]:An(vd(_t(o)))}function w_(o){var d=++da;return _t(o)+d}var __=Eo(function(o,d){return o+d},0),j_=dn("ceil"),N_=Eo(function(o,d){return o/d},1),S_=dn("floor");function k_(o){return o&&o.length?Ci(o,_s,Ur):n}function C_(o,d){return o&&o.length?Ci(o,Ve(d,2),Ur):n}function P_(o){return Gf(o,_s)}function E_(o,d){return Gf(o,Ve(d,2))}function O_(o){return o&&o.length?Ci(o,_s,Vr):n}function A_(o,d){return o&&o.length?Ci(o,Ve(d,2),Vr):n}var T_=Eo(function(o,d){return o*d},1),M_=dn("round"),L_=Eo(function(o,d){return o-d},0);function R_(o){return o&&o.length?Au(o,_s):0}function D_(o,d){return o&&o.length?Au(o,Ve(d,2)):0}return L.after=Q,L.ary=de,L.assign=Vb,L.assignIn=U0,L.assignInWith=sm,L.assignWith=Yb,L.at=qb,L.before=je,L.bind=Ce,L.bindAll=Jw,L.bindKey=_e,L.castArray=gb,L.chain=Ac,L.chunk=jc,L.compact=bd,L.concat=ys,L.cond=Zw,L.conforms=e_,L.constant=dg,L.countBy=Xh,L.create=Kb,L.curry=Me,L.curryRight=Re,L.debounce=De,L.defaults=Qb,L.defaultsDeep=Xb,L.defer=Ht,L.delay=ae,L.difference=ut,L.differenceBy=ln,L.differenceWith=Qt,L.drop=mn,L.dropRight=ns,L.dropRightWhile=La,L.dropWhile=en,L.fill=Fo,L.filter=Lc,L.flatMap=Td,L.flatMapDeep=tg,L.flatMapDepth=Zh,L.flatten=Nc,L.flattenDeep=zo,L.flattenDepth=Hn,L.flip=Z,L.flow=n_,L.flowRight=s_,L.fromPairs=wd,L.functions=sw,L.functionsIn=rw,L.groupBy=Md,L.initial=Sc,L.intersection=_d,L.intersectionBy=Xr,L.intersectionWith=kc,L.invert=aw,L.invertBy=ow,L.invokeMap=em,L.iteratee=fg,L.keyBy=ng,L.keys=Cn,L.keysIn=ws,L.map=Bi,L.mapKeys=cw,L.mapValues=uw,L.matches=r_,L.matchesProperty=i_,L.memoize=le,L.merge=dw,L.mergeWith=V0,L.method=a_,L.methodOf=o_,L.mixin=hg,L.negate=Pe,L.nthArg=c_,L.omit=fw,L.omitBy=hw,L.once=Be,L.orderBy=sg,L.over=u_,L.overArgs=Ue,L.overEvery=d_,L.overSome=f_,L.partial=He,L.partialRight=Ye,L.partition=Uo,L.pick=mw,L.pickBy=Y0,L.property=Z0,L.propertyOf=h_,L.pull=Cc,L.pullAll=Ho,L.pullAllBy=Rn,L.pullAllWith=Jr,L.pullAt=Ds,L.range=m_,L.rangeRight=p_,L.rearg=cn,L.reject=r,L.remove=$n,L.rest=pt,L.reverse=Pc,L.sampleSize=f,L.set=gw,L.setWith=xw,L.shuffle=p,L.slice=Nd,L.sortBy=A,L.sortedUniq=Cd,L.sortedUniqBy=Di,L.split=zw,L.spread=ei,L.tail=$h,L.take=Uh,L.takeRight=Pd,L.takeRightWhile=Ec,L.takeWhile=Vp,L.tap=Jp,L.throttle=ig,L.thru=Is,L.toArray=W0,L.toPairs=q0,L.toPairsIn=K0,L.toPath=b_,L.toPlainObject=$0,L.transform=yw,L.unary=mb,L.union=Yp,L.unionBy=Vh,L.unionWith=Yh,L.uniq=Ii,L.uniqBy=qp,L.uniqWith=Ra,L.unset=vw,L.unzip=Oc,L.unzipWith=It,L.update=bw,L.updateWith=ww,L.values=zc,L.valuesIn=_w,L.without=Kp,L.words=G0,L.wrap=pb,L.xor=qh,L.xorBy=Qp,L.xorWith=Xp,L.zip=Kh,L.zipObject=Qh,L.zipObjectDeep=Gp,L.zipWith=vs,L.entries=q0,L.entriesIn=K0,L.extend=U0,L.extendWith=sm,hg(L,L),L.add=__,L.attempt=J0,L.camelCase=kw,L.capitalize=Q0,L.ceil=j_,L.clamp=jw,L.clone=xb,L.cloneDeep=vb,L.cloneDeepWith=bb,L.cloneWith=yb,L.conformsTo=wb,L.deburr=X0,L.defaultTo=t_,L.divide=N_,L.endsWith=Cw,L.eq=Sr,L.escape=Pw,L.escapeRegExp=Ew,L.every=Gh,L.find=Rc,L.findIndex=Qr,L.findKey=Gb,L.findLast=Jh,L.findLastIndex=Bo,L.findLastKey=Jb,L.floor=S_,L.forEach=Dc,L.forEachRight=$o,L.forIn=Zb,L.forInRight=ew,L.forOwn=tw,L.forOwnRight=nw,L.get=lg,L.gt=_b,L.gte=jb,L.has=iw,L.hasIn=cg,L.head=Li,L.identity=_s,L.includes=Ic,L.indexOf=Nr,L.inRange=Nw,L.invoke=lw,L.isArguments=Vo,L.isArray=Je,L.isArrayBuffer=Nb,L.isArrayLike=bs,L.isArrayLikeObject=tn,L.isBoolean=Sb,L.isBuffer=Da,L.isDate=kb,L.isElement=Cb,L.isEmpty=Pb,L.isEqual=Eb,L.isEqualWith=Ob,L.isError=ag,L.isFinite=Ab,L.isFunction=zi,L.isInteger=I0,L.isLength=tm,L.isMap=F0,L.isMatch=Tb,L.isMatchWith=Mb,L.isNaN=Lb,L.isNative=Rb,L.isNil=Ib,L.isNull=Db,L.isNumber=B0,L.isObject=$t,L.isObjectLike=Xt,L.isPlainObject=Ld,L.isRegExp=og,L.isSafeInteger=Fb,L.isSet=z0,L.isString=nm,L.isSymbol=Fs,L.isTypedArray=Bc,L.isUndefined=Bb,L.isWeakMap=zb,L.isWeakSet=Wb,L.join=Gr,L.kebabCase=Ow,L.last=Ln,L.lastIndexOf=Wo,L.lowerCase=Aw,L.lowerFirst=Tw,L.lt=Hb,L.lte=$b,L.max=k_,L.maxBy=C_,L.mean=P_,L.meanBy=E_,L.min=O_,L.minBy=A_,L.stubArray=pg,L.stubFalse=gg,L.stubObject=g_,L.stubString=x_,L.stubTrue=y_,L.multiply=T_,L.nth=jd,L.noConflict=l_,L.noop=mg,L.now=$,L.pad=Mw,L.padEnd=Lw,L.padStart=Rw,L.parseInt=Dw,L.random=Sw,L.reduce=rg,L.reduceRight=Fc,L.repeat=Iw,L.replace=Fw,L.result=pw,L.round=M_,L.runInContext=se,L.sample=a,L.size=v,L.snakeCase=Bw,L.some=w,L.sortedIndex=Sd,L.sortedIndexBy=Up,L.sortedIndexOf=Zr,L.sortedLastIndex=Hh,L.sortedLastIndexBy=kd,L.sortedLastIndexOf=Ri,L.startCase=Ww,L.startsWith=Hw,L.subtract=L_,L.sum=R_,L.sumBy=D_,L.template=$w,L.times=v_,L.toFinite=Wi,L.toInteger=tt,L.toLength=H0,L.toLower=Uw,L.toNumber=ir,L.toSafeInteger=Ub,L.toString=_t,L.toUpper=Vw,L.trim=Yw,L.trimEnd=qw,L.trimStart=Kw,L.truncate=Qw,L.unescape=Xw,L.uniqueId=w_,L.upperCase=Gw,L.upperFirst=ug,L.each=Dc,L.eachRight=$o,L.first=Li,hg(L,function(){var o={};return es(L,function(d,g){mt.call(L.prototype,g)||(o[g]=d)}),o}(),{chain:!1}),L.VERSION=s,vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){L[o].placeholder=L}),vn(["drop","take"],function(o,d){Ge.prototype[o]=function(g){g=g===n?1:Kt(tt(g),0);var _=this.__filtered__&&!d?new Ge(this):this.clone();return _.__filtered__?_.__takeCount__=bn(g,_.__takeCount__):_.__views__.push({size:bn(g,O),type:o+(_.__dir__<0?"Right":"")}),_},Ge.prototype[o+"Right"]=function(g){return this.reverse()[o](g).reverse()}}),vn(["filter","map","takeWhile"],function(o,d){var g=d+1,_=g==Ee||g==ye;Ge.prototype[o]=function(E){var I=this.clone();return I.__iteratees__.push({iteratee:Ve(E,3),type:g}),I.__filtered__=I.__filtered__||_,I}}),vn(["head","last"],function(o,d){var g="take"+(d?"Right":"");Ge.prototype[o]=function(){return this[g](1).value()[0]}}),vn(["initial","tail"],function(o,d){var g="drop"+(d?"":"Right");Ge.prototype[o]=function(){return this.__filtered__?new Ge(this):this[g](1)}}),Ge.prototype.compact=function(){return this.filter(_s)},Ge.prototype.find=function(o){return this.filter(o).head()},Ge.prototype.findLast=function(o){return this.reverse().find(o)},Ge.prototype.invokeMap=et(function(o,d){return typeof o=="function"?new Ge(this):this.map(function(g){return ms(g,o,d)})}),Ge.prototype.reject=function(o){return this.filter(Pe(Ve(o)))},Ge.prototype.slice=function(o,d){o=tt(o);var g=this;return g.__filtered__&&(o>0||d<0)?new Ge(g):(o<0?g=g.takeRight(-o):o&&(g=g.drop(o)),d!==n&&(d=tt(d),g=d<0?g.dropRight(-d):g.take(d-o)),g)},Ge.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Ge.prototype.toArray=function(){return this.take(O)},es(Ge.prototype,function(o,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),E=L[_?"take"+(d=="last"?"Right":""):d],I=_||/^find/.test(d);E&&(L.prototype[d]=function(){var Y=this.__wrapped__,X=_?[1]:arguments,re=Y instanceof Ge,ve=X[0],be=re||Je(Y),Ne=function(it){var dt=E.apply(L,Rr([it],X));return _&&Ae?dt[0]:dt};be&&g&&typeof ve=="function"&&ve.length!=1&&(re=be=!1);var Ae=this.__chain__,ze=!!this.__actions__.length,qe=I&&!Ae,nt=re&&!ze;if(!I&&be){Y=nt?Y:new Ge(this);var Ke=o.apply(Y,X);return Ke.__actions__.push({func:Is,args:[Ne],thisArg:n}),new wn(Ke,Ae)}return qe&&nt?o.apply(this,X):(Ke=this.thru(Ne),qe?_?Ke.value()[0]:Ke.value():Ke)})}),vn(["pop","push","shift","sort","splice","unshift"],function(o){var d=dr[o],g=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",_=/^(?:pop|shift)$/.test(o);L.prototype[o]=function(){var E=arguments;if(_&&!this.__chain__){var I=this.value();return d.apply(Je(I)?I:[],E)}return this[g](function(Y){return d.apply(Je(Y)?Y:[],E)})}}),es(Ge.prototype,function(o,d){var g=L[d];if(g){var _=g.name+"";mt.call(pa,_)||(pa[_]=[]),pa[_].push({name:d,func:g})}}),pa[Oa(n,S).name]=[{name:"wrapper",func:n}],Ge.prototype.clone=Yl,Ge.prototype.reverse=zu,Ge.prototype.value=ya,L.prototype.at=Tc,L.prototype.chain=Fi,L.prototype.commit=Mc,L.prototype.next=Ed,L.prototype.plant=Zp,L.prototype.reverse=Ad,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=eg,L.prototype.first=L.prototype.head,hr&&(L.prototype[hr]=Od),L},ca=Dp();Us?((Us.exports=ca)._=ca,io._=ca):Tt._=ca}).call(dA)}(Kd,Kd.exports)),Kd.exports}var hA=fA();const mA=()=>{const[t,e]=R.useState(""),[n,s]=R.useState([]),[i,c]=R.useState(!0),[u,h]=R.useState(1),[m,x]=R.useState(1),[y,b]=R.useState(0),[j]=R.useState(20),[C,k]=R.useState(!1),N=R.useRef(0),P=()=>{N.current++,F(N.current),k(!0)},[S,F]=R.useState(0),B=async(ge=t,Fe=u)=>{var ct;c(!0);let ot=`/api/categories?page=${Fe}&limit=${j}`;if(he&&(q!=null&&q.assignedShop)){const jt=((ct=q==null?void 0:q.assignedShop)==null?void 0:ct._id)||(q==null?void 0:q.assignedShop);ot+=`&shop=${jt}`}try{const jt=await gt(ot);s(jt.data||[]),x(jt.totalPages||1),b(jt.total||0)}catch{s([]),x(1),b(0)}finally{c(!1)}};R.useEffect(()=>{B()},[u]);const z=hA.debounce(ge=>{h(1),B(ge,1)},400),W=ge=>{e(ge.target.value),z(ge.target.value)},{user:q,setUser:ne,refreshUser:J}=Qn(),[fe,ee]=R.useState(!1),[ie,oe]=R.useState(null),[ke,Ee]=R.useState({name:"",image:"",description:{en:"",ar:""}}),[we,ye]=R.useState(!1),[T,M]=R.useState(null),[G,D]=R.useState(!1),[O,V]=R.useState({name:{en:"",ar:""},description:{en:"",ar:""},image:"",shop:"",parentCategory:"",level:0,sortOrder:0,status:"Active",seo:{metaTitle:"",metaDescription:"",keywords:""},createdBy:""}),[H,te]=R.useState(!1),[ce,U]=R.useState(null),he=(q==null?void 0:q.role)==="worker",Oe=R.useMemo(()=>Array.isArray(n)?n.filter(ge=>{var ot,ct,jt;const Fe=typeof ge.name=="string"?ge.name:((ot=ge.name)==null?void 0:ot.en)||"";if(he){const Jt=((ct=q==null?void 0:q.assignedShop)==null?void 0:ct._id)||(q==null?void 0:q.assignedShop);return(ge.shop===Jt||((jt=ge.shop)==null?void 0:jt._id)===Jt)&&Fe.toLowerCase().includes(t.toLowerCase())}else{const Jt=ge.createdBy===(q==null?void 0:q._id);return Fe.toLowerCase().includes(t.toLowerCase())&&Jt}}):[],[n,t,q==null?void 0:q.assignedShop,q==null?void 0:q._id,he]),K=(ge,Fe)=>{oe({...ge,index:Fe}),Ee({name:ge.name,image:ge.image,description:ge.description||{en:"",ar:""}}),M(null),ee(!0)},pe=()=>{var ge,Fe,ot;D(!0),V({name:{en:"",ar:""},description:{en:"",ar:""},image:"",shop:((Fe=(ge=q==null?void 0:q.managedShops)==null?void 0:ge[0])==null?void 0:Fe._id)||((ot=q==null?void 0:q.managedShops)==null?void 0:ot[0])||"",parentCategory:"",level:0,sortOrder:0,status:"Active",seo:{metaTitle:"",metaDescription:"",keywords:""},createdBy:(q==null?void 0:q._id)||""}),U(null)},Qe=async()=>{var ot,ct,jt;console.log("addForm:",O);let ge="";q!=null&&q.managedShops&&q.managedShops.length>0&&(ge=((ot=q.managedShops[0])==null?void 0:ot._id)||q.managedShops[0]);const Fe=q==null?void 0:q._id;if(O.name.en.trim()&&ge&&Fe){let Jt=O.seo.keywords;typeof Jt=="string"&&(Jt=Jt.split(",").map(yt=>yt.trim()).filter(Boolean));const an={name:{en:O.name.en,ar:O.name.ar},description:{en:O.description.en,ar:O.description.ar},image:O.image||"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=facearea&w=256&h=256",shop:ge,parentCategory:O.parentCategory||void 0,level:O.level,sortOrder:O.sortOrder,status:O.status,seo:{metaTitle:O.seo.metaTitle,metaDescription:O.seo.metaDescription,keywords:Jt},createdBy:Fe};try{const yt=await yn("/api/categories",an);s([...n,yt.data.data||yt.data]),P(),(q==null?void 0:q.role)!=="shop_admin"&&(ne(os=>({...os,role:"shop_admin"})),localStorage.setItem("user",JSON.stringify({...q,role:"shop_admin"})),typeof J=="function"&&J()),D(!1),V({name:{en:"",ar:""},description:{en:"",ar:""},image:"",shop:"",parentCategory:"",level:0,sortOrder:0,status:"Active",seo:{metaTitle:"",metaDescription:"",keywords:""},createdBy:""}),U(null)}catch(yt){alert(((jt=(ct=yt.response)==null?void 0:ct.data)==null?void 0:jt.message)||"Failed to add category. Please try again.")}}else alert("Please fill in all required fields including Name (EN).")},We=ge=>{const Fe=ge.target.files[0];if(Fe&&Fe.type.startsWith("image/")){const ot=new FileReader;ot.onload=ct=>{U(ct.target.result),V({...O,image:ct.target.result})},ot.readAsDataURL(Fe)}},Ie=(ge,Fe=[])=>{const{name:ot,value:ct}=ge.target;Fe.length?V(jt=>{let Jt={...jt},an=Jt;for(let yt=0;yt<Fe.length-1;yt++)an=an[Fe[yt]];return an[Fe[Fe.length-1]]=ct,Jt}):V(jt=>({...jt,[ot]:ct}))};return l.jsx(t1.Provider,{value:{categoryEvent:S,notifyCategoryCreated:P,categoryCreatedThisSession:C},children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-2 md:gap-0",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Category Management"}),!he&&l.jsxs("button",{className:"btn btn-primary flex items-center w-full md:w-auto",onClick:pe,children:[l.jsx(Gm,{className:"mr-2"})," Add Category"]})]}),l.jsxs("div",{className:"card mb-4 flex flex-col md:flex-row md:items-center md:justify-between p-4 gap-2 md:gap-0",children:[l.jsx("input",{type:"text",className:"form-input w-full md:w-1/3",placeholder:"Search categories...",value:t,onChange:W,disabled:i}),!i&&l.jsxs("span",{className:"mt-2 md:mt-0 text-gray-500 text-sm md:text-base",children:[y," categories found"]})]}),l.jsx("div",{className:"card min-h-[350px] shadow border border-gray-100 overflow-x-auto",children:i?l.jsx("div",{className:"space-y-6 p-8",children:[...Array(6)].map((ge,Fe)=>l.jsx("div",{className:"h-10 bg-gray-100 rounded w-full animate-pulse"},Fe))}):l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 whitespace-nowrap",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Description (EN)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Description (AR)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),!he&&l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(Oe)&&Oe.map((ge,Fe)=>{var ot,ct,jt,Jt,an,yt,os,Er;return l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-6 py-4 align-middle",children:l.jsx("img",{src:ge.image||"/default-image.png",alt:((ot=ge.name)==null?void 0:ot.en)||ge.name||"Category",className:"h-12 w-12 rounded object-cover border"})}),l.jsx("td",{className:"px-6 py-4 align-middle font-bold text-gray-900 text-base",children:((ct=ge.name)==null?void 0:ct.en)||ge.name}),l.jsx("td",{className:"px-6 py-4 align-middle max-w-[200px] min-w-[200px] w-24",children:l.jsxs("div",{className:"relative group",children:[l.jsx("span",{className:"block truncate line-clamp-2 cursor-pointer",title:((jt=ge.description)==null?void 0:jt.en)||"",children:((Jt=ge.description)==null?void 0:Jt.en)||""}),((an=ge.description)==null?void 0:an.en)&&l.jsx("div",{className:"absolute left-1/2 z-20 hidden group-hover:block bg-white shadow-lg rounded p-4 min-w-[250px] max-w-xs -translate-x-1/2 top-8 border",children:l.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line",children:ge.description.en})})]})}),l.jsx("td",{className:"px-6 py-4 align-middle max-w-[200px] min-w-[200px] w-24",children:l.jsxs("div",{className:"relative group",children:[l.jsx("span",{className:"block truncate line-clamp-2 cursor-pointer",title:((yt=ge.description)==null?void 0:yt.ar)||"",children:((os=ge.description)==null?void 0:os.ar)||""}),((Er=ge.description)==null?void 0:Er.ar)&&l.jsx("div",{className:"absolute left-1/2 z-20 hidden group-hover:block bg-white shadow-lg rounded p-4 min-w-[250px] max-w-xs -translate-x-1/2 top-8 border",children:l.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line",children:ge.description.ar})})]})}),l.jsx("td",{className:"px-6 py-4 align-middle",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ge.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:ge.status})}),!he&&l.jsx("td",{className:"px-6 py-4 align-middle text-center",children:l.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:l.jsxs("button",{className:"btn btn-secondary btn-sm inline-flex items-center shadow-sm hover:shadow-md transition",onClick:()=>K(ge,Fe),title:"Edit",children:[l.jsx(m0,{className:"mr-1"}),"Edit"]})})})]},Fe)})})]})}),!he&&fe&&ie&&l.jsx(uA,{categoryId:ie._id,onClose:()=>{ee(!1),oe(null)},onSave:ge=>{s(Fe=>Fe.map(ot=>ot._id===ge._id?ge:ot)),ee(!1),oe(null)}}),!he&&G&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 p-4 sm:p-8 relative max-h-[90vh] overflow-y-auto",children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>D(!1),children:"×"}),l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Category"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name (EN)"}),l.jsx("input",{type:"text",className:"form-input w-full",value:O.name.en,onChange:ge=>Ie(ge,["name","en"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name (AR)"}),l.jsx("input",{type:"text",className:"form-input w-full",value:O.name.ar,onChange:ge=>Ie(ge,["name","ar"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description (EN)"}),l.jsx("textarea",{className:"form-input w-full",value:O.description.en,onChange:ge=>Ie(ge,["description","en"])})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description (AR)"}),l.jsx("textarea",{className:"form-input w-full",value:O.description.ar,onChange:ge=>Ie(ge,["description","ar"])})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image"}),l.jsx("input",{type:"file",accept:"image/*",onChange:We}),ce&&l.jsx("img",{src:ce,alt:"Preview",className:"h-20 mt-2 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parent Category"}),l.jsxs("select",{className:"form-input w-full",value:O.parentCategory,onChange:ge=>Ie(ge,["parentCategory"]),children:[l.jsx("option",{value:"",children:"None"}),Array.isArray(n)&&n.filter(ge=>ge.shop===O.shop).map((ge,Fe)=>{var ot;return l.jsx("option",{value:ge._id||ge.name,children:((ot=ge.name)==null?void 0:ot.en)||ge.name},ge._id||Fe)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Level"}),l.jsx("input",{type:"number",className:"form-input w-full",value:O.level,onChange:ge=>Ie(ge,["level"]),min:0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sort Order"}),l.jsx("input",{type:"number",className:"form-input w-full",value:O.sortOrder,onChange:ge=>Ie(ge,["sortOrder"]),min:0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),l.jsxs("select",{className:"form-input w-full",value:O.status,onChange:ge=>Ie(ge,["status"]),children:[l.jsx("option",{value:"Active",children:"Active"}),l.jsx("option",{value:"Hidden",children:"Hidden"})]})]}),l.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-2",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"SEO"}),l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Meta Title"}),l.jsx("input",{type:"text",className:"form-input w-full mb-2",value:O.seo.metaTitle,onChange:ge=>Ie(ge,["seo","metaTitle"])}),l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Meta Description"}),l.jsx("textarea",{className:"form-input w-full mb-2",value:O.seo.metaDescription,onChange:ge=>Ie(ge,["seo","metaDescription"])}),l.jsx("label",{className:"block text-xs font-medium mb-1",children:"Keywords (comma separated)"}),l.jsx("input",{type:"text",className:"form-input w-full",value:O.seo.keywords,onChange:ge=>Ie(ge,["seo","keywords"])})]})]}),l.jsxs("div",{className:"flex justify-end mt-6 gap-2",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>D(!1),children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",onClick:Qe,children:"Save Category"})]})]})}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>h(ge=>Math.max(1,ge-1)),disabled:u===1,children:"Previous"}),l.jsxs("span",{children:["Page ",u," of ",m]}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>h(ge=>Math.min(m,ge+1)),disabled:u===m,children:"Next"})]})]})})},cv=[{label:"Customer",value:"customer"},{label:"Shop Admin",value:"shop_admin"},{label:"Super Admin",value:"super_admin"}];function pA({managedShops:t}){const[e,n]=st.useState([]);return st.useEffect(()=>{var i;if(!t||t.length===0){n([]);return}if(typeof t[0]=="object"&&((i=t[0])!=null&&i.name)){n(t.map(c=>typeof c.name=="object"?c.name.en||c.name.ar||"Shop":c.name));return}(async()=>{const c=await Promise.all(t.map(async u=>{try{const h=await gt(`/api/shops/${typeof u=="object"&&u._id?u._id:u}`);return h&&h.data&&h.data.name?typeof h.data.name=="object"?h.data.name.en||h.data.name.ar||"Shop":h.data.name:h&&h.name?typeof h.name=="object"?h.name.en||h.name.ar||"Shop":h.name:"Shop"}catch{return"Shop"}}));n(c)})()},[t]),!t||t.length===0?l.jsx("span",{className:"text-gray-400",children:"No shops"}):l.jsx("span",{children:e.join(", ")})}const gA=()=>{var ce;const[t,e]=R.useState([]),[n,s]=R.useState(!0),[i,c]=R.useState(null),[u,h]=R.useState("customer"),[m,x]=R.useState(null),[y,b]=R.useState(!1),[j,C]=R.useState(null),[k,N]=R.useState(null),[P,S]=R.useState({}),[F,B]=R.useState(!1),[z,W]=R.useState({}),[q,ne]=R.useState(!1),[J,fe]=R.useState(null),[ee,ie]=R.useState(!1),[oe,ke]=R.useState(1),Ee=10,we=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"},{value:"pending_approval",label:"Pending Approval"}],ye=async()=>{s(!0);try{const U=await gt("/api/auth/alluser");e(U.data||U),s(!1);const Oe=(U.data||U).filter(pe=>pe.role==="shop_admin").flatMap(pe=>Array.isArray(pe.managedShops)?pe.managedShops:[0]).filter(Boolean),K=[...new Set(Oe.map(pe=>typeof pe=="object"&&pe._id?pe._id:pe))];K.length>0&&Promise.all(K.map(pe=>gt(`/api/shops/${pe}`))).then(pe=>{const Qe={};pe.forEach((We,Ie)=>{const ge=K[Ie];Qe[ge]=We.data||We}),W(Qe)})}catch{c("Failed to fetch users."),s(!1)}};R.useEffect(()=>{ye()},[]);const T=t.filter(U=>U.role===u),M=Math.ceil(T.length/Ee),G=T.slice((oe-1)*Ee,oe*Ee);R.useEffect(()=>{ke(1)},[u]);const D=async U=>{var Oe,K,pe,Qe;let he=U.status;if(ie(!1),U.role==="shop_admin"&&U.managedShops&&U.managedShops.length>0){const We=typeof U.managedShops[0]=="object"&&U.managedShops[0]._id?U.managedShops[0]._id:U.managedShops[0],Ie=z[We];if(Ie&&(Ie.status||Ie.shopStatus||Ie.isActive||Ie.active))he=Ie.status||Ie.shopStatus||Ie.isActive||Ie.active;else{ie(!0);try{const Fe=await gt(`/api/shops/${We}`),ot=((Oe=Fe.data)==null?void 0:Oe.status)||((K=Fe.data)==null?void 0:K.shopStatus)||((pe=Fe.data)==null?void 0:pe.isActive)||((Qe=Fe.data)==null?void 0:Qe.active);C({...U,status:ot}),fe(ot),ie(!1)}catch{C({...U,status:he}),fe(he),ie(!1)}x(U),b(!0),N(null),S({}),B(!1);let ge=null;if(Array.isArray(U.managedShop)&&U.managedShop.length>0?ge=U.managedShop[0]:Array.isArray(U.managedShops)&&U.managedShops.length>0?ge=U.managedShops[0]:U.shop&&(ge=U.shop),ge)try{const Fe=await gt(`/api/shops/${typeof ge=="object"&&ge._id?ge._id:ge}`);N(Fe.data||Fe)}catch{N({name:"N/A"})}else N({name:"N/A"});return}}if(x(U),C({...U,status:he}),fe(he),b(!0),N(null),S({}),B(!1),U.role==="shop_admin"){let We=null;if(Array.isArray(U.managedShop)&&U.managedShop.length>0?We=U.managedShop[0]:Array.isArray(U.managedShops)&&U.managedShops.length>0?We=U.managedShops[0]:U.shop&&(We=U.shop),We)try{const Ie=await gt(`/api/shops/${typeof We=="object"&&We._id?We._id:We}`);N(Ie.data||Ie)}catch{N({name:"N/A"})}else N({name:"N/A"})}},O=()=>{x(null),C(null),b(!1),N(null)},V=async()=>{if(j&&j.role==="shop_admin"){let U=null;if(Array.isArray(j.managedShop)&&j.managedShop.length>0?U=j.managedShop[0]:Array.isArray(j.managedShops)&&j.managedShops.length>0?U=j.managedShops[0]:j.shop&&(U=j.shop),!U){Se.error("No shop found for this admin.",{position:"bottom-right"});return}ne(!0);try{await Ji(`/api/shops/${typeof U=="object"&&U._id?U._id:U}/status`,{status:j.status}),Se.success("Shop status updated successfully!",{position:"bottom-right"}),fe(j.status),O(),ye()}catch{Se.error("Failed to update shop status.",{position:"bottom-right"})}finally{ne(!1)}}else O()},H=U=>U.product,te=U=>U?typeof U=="string"?U:typeof U=="object"&&(U.en||U.ar)||"Product":"Product";return R.useEffect(()=>{y&&m&&m.role==="customer"&&(console.log("Cart:",m.cart),console.log("Favorites:",m.favorites)),(async()=>{if(!y||!m||m.role!=="customer")return;B(!0);const he=[];m.cart&&m.cart.forEach(pe=>{const Qe=H(pe);Qe&&!P[Qe]&&he.push(Qe)}),m.favorites&&m.favorites.forEach(pe=>{pe&&!P[pe]&&he.push(pe)});const Oe=[...new Set(he)],K={};await Promise.all(Oe.map(async pe=>{var Qe;try{const We=await gt(`/api/products/${pe}`);K[pe]=((Qe=We.data)==null?void 0:Qe.name)||We.name||"Product"}catch{K[pe]="Product"}})),S(pe=>({...pe,...K})),B(!1)})()},[y,m]),R.useEffect(()=>{if(y&&m&&m.role==="shop_admin"&&m.managedShops&&m.managedShops.length>0){const U=typeof m.managedShops[0]=="object"&&m.managedShops[0]._id?m.managedShops[0]._id:m.managedShops[0],he=z[U];if(he&&(he.status||he.shopStatus||he.isActive||he.active)){const Oe=he.status||he.shopStatus||he.isActive||he.active;j&&j.status!==Oe&&C(K=>({...K,status:Oe}))}}},[y,m,z]),l.jsxs("div",{className:"w-full p-8 bg-white rounded-xl shadow-lg mt-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[l.jsx("span",{children:"Dashboard"}),l.jsx("span",{className:"mx-1",children:">"}),l.jsx("span",{className:"text-primary-700 font-semibold",children:"Super Admin"})]}),l.jsx("h1",{className:"text-3xl font-bold mb-1 text-primary-900",children:"Super Admin Panel"}),l.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Manage users, shop admins, and super admins"})]}),l.jsxs("div",{className:"card p-0 bg-gray-50 border border-gray-200 rounded-lg shadow mb-8",children:[l.jsx("div",{className:"flex gap-2 border-b px-6 pt-4 bg-white",children:cv.map(U=>l.jsx("button",{className:`px-4 py-2 text-base font-medium border-b-2 transition-colors duration-150 ${u===U.value?"border-primary-600 text-primary-700":"border-transparent text-gray-500 hover:text-primary-600"}`,onClick:()=>h(U.value),children:U.label},U.value))}),l.jsxs("div",{className:"px-6 pb-6 pt-4",children:[l.jsxs("p",{className:"text-base text-gray-700 mb-4",children:["All ",(ce=cv.find(U=>U.value===u))==null?void 0:ce.label,"s"]}),n?l.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading users..."}):i?l.jsx("div",{className:"py-8 text-center text-red-500",children:i}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[u==="shop_admin"?l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organisation Name"}):u==="customer"?l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}):l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),u!=="super_admin"&&l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[G.map(U=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[u==="shop_admin"?l.jsx("td",{className:"px-6 py-4 align-middle font-medium text-gray-900",children:l.jsx(pA,{managedShops:U.managedShops})}):u==="customer"?l.jsx("td",{className:"px-6 py-4 align-middle font-medium text-gray-900",children:U.name}):l.jsx("td",{className:"px-6 py-4 align-middle font-medium text-gray-900",children:U.name}),l.jsx("td",{className:"px-6 py-4 align-middle",children:U.email}),l.jsx("td",{className:"px-6 py-4 align-middle",children:U.role||"User"}),u!=="super_admin"&&l.jsx("td",{className:"px-6 py-4 align-middle",children:u==="super_admin"?l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-nowrap ${U.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:U.status||"inactive"}):l.jsx("button",{className:"btn btn-secondary btn-xs",onClick:()=>D(U),children:u==="customer"?"View":"Change Status"})})]},U._id)),T.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-400",children:"No users found for this role."})})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between px-2 md:px-6 py-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:T.length===0?0:(oe-1)*Ee+1})," to ",l.jsx("span",{className:"font-medium",children:Math.min(oe*Ee,T.length)})," of ",l.jsx("span",{className:"font-medium",children:T.length})," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:oe===1,onClick:()=>ke(U=>Math.max(U-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",oe," of ",M||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:oe===M||M===0,onClick:()=>ke(U=>Math.min(U+1,M)),children:"Next"})]})]})]}),y&&m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 ",children:l.jsxs("div",{className:"bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-2xl shadow-2xl p-10 w-full max-w-xl relative border border-gray-200",children:[l.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-primary-600 text-2xl transition",onClick:O,"aria-label":"Close",children:"×"}),l.jsx("h2",{className:"text-3xl font-extrabold mb-8 text-primary-700 tracking-tight text-center",children:"User Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3 mb-6 overflow-hidden ",children:[l.jsxs("div",{className:"col-span-2 flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500 font-medium",children:"Name:"}),l.jsx("span",{className:"font-bold text-gray-900",children:m.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500 font-medium",children:"Email:"}),l.jsx("span",{className:"text-gray-700",children:m.email})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500 font-medium",children:"Role:"}),l.jsx("span",{className:"capitalize",children:m.role})]})]}),m.role!=="customer"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-gray-500 font-medium",children:"Status:"}),l.jsx("div",{children:m.role==="shop_admin"?l.jsx("select",{className:"form-input px-2 py-1 rounded border border-gray-300",value:(j==null?void 0:j.status)||"",onChange:U=>C(he=>({...he,status:U.target.value})),disabled:ee,children:ee?l.jsx("option",{children:"Loading..."}):we.map(U=>l.jsx("option",{value:U.value,children:U.label},U.value))}):l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${m.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status||"inactive"})})]})]}),l.jsx("div",{className:"border-t my-4"}),m.role==="customer"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Cart"}),F?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading products..."}):Array.isArray(m.cart)&&m.cart.length>0?l.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.cart.map((U,he)=>l.jsxs("li",{className:"flex justify-between items-center px-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition",title:te(P[H(U)]),children:[l.jsx("span",{className:"truncate max-w-[120px] font-medium text-gray-800",children:te(P[H(U)])}),l.jsxs("span",{className:"ml-4 text-xs text-gray-500",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Qty:"})," ",U.quantity||1]})]},he))}):l.jsx("div",{className:"text-sm text-gray-400",children:"No items in cart."})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Favorites"}),F?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading products..."}):Array.isArray(m.favorites)&&m.favorites.length>0?l.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.favorites.map((U,he)=>l.jsx("li",{className:"flex items-center gap-3 px-4 py-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition",title:te(P[U]),children:l.jsx("span",{className:"truncate max-w-[160px] font-medium text-gray-800",children:te(P[U])})},he))}):l.jsx("div",{className:"text-sm text-gray-400",children:"No favorites."})]})]}),m.role==="shop_admin"&&l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Shop Info"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500 font-medium",children:"Shop Name:"}),l.jsx("span",{className:"font-semibold text-gray-900",children:k?te(k.name):"Loading..."})]})]}),l.jsx("div",{className:"flex justify-end mt-8",children:m.role==="customer"?l.jsx("button",{className:"px-8 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold shadow hover:bg-gray-300 transition text-lg",onClick:O,children:"Close"}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"px-8 py-2 rounded-lg bg-primary-600 text-white font-semibold shadow hover:bg-primary-700 transition text-lg flex items-center justify-center",onClick:V,disabled:q||(j==null?void 0:j.status)===J,children:[q&&l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Save"]}),l.jsx("button",{className:"ml-4 px-8 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold shadow hover:bg-gray-300 transition text-lg",onClick:O,disabled:q,children:"Cancel"})]})})]})})]})},xA=()=>{var ye;const{user:t}=Qn(),[e,n]=R.useState([]),[s,i]=R.useState([]),[c,u]=R.useState(!0),[h,m]=R.useState(null),[x,y]=R.useState(!1),[b,j]=R.useState(null),[C,k]=R.useState({name:"",category:"",price:"",status:"Active"}),[N,P]=R.useState(!1),[S,F]=R.useState(null),[B,z]=R.useState([]),[W,q]=R.useState(1),ne=10,J=async(T,M)=>{try{const G=await Ji(`/api/products/${T._id||T.id}`,{status:M,manualStatusUpdate:!0});if(G&&(G.success||G.data)){const D={...T,status:M};n(O=>O.map(V=>V._id===T._id||V.id===T._id||V._id===T.id||V.id===T.id?D:V)),i(O=>O.map(V=>V._id===T._id||V.id===T._id||V._id===T.id||V.id===T.id?D:V)),q(W),Se.success(`Product status updated to ${M}`)}else Se.error("Failed to update product status")}catch(G){console.error("Error updating product status:",G),Se.error("Error updating product status")}};R.useEffect(()=>{(async()=>{u(!0),m(null);try{const M=await gt("/api/products");M&&M.success&&Array.isArray(M.data)?(n(M.data),i(M.data)):Array.isArray(M)?(n(M),i(M)):(n([]),i([]))}catch(M){console.error("Error fetching products:",M),n([]),i([]),m(M),Se.error("Failed to fetch products.")}finally{u(!1)}})()},[]),R.useEffect(()=>{var T;b&&k({name:((T=b.name)==null?void 0:T.en)||"",category:b.category||"",price:b.price||"",status:b.status||"Active"})},[b]),R.useEffect(()=>{gt("/api/categories").then(T=>{T&&T.data&&z(T.data)}).catch(()=>z([]))},[]);const fe=(T,M)=>{let G=[...e];if(T){const D=T.toLowerCase();G=G.filter(O=>{var V;return((V=O.name)==null?void 0:V.en)&&O.name.en.toLowerCase().includes(D)})}M.category&&(G=G.filter(D=>{var O;return typeof D.category=="object"&&D.category!==null?((O=D.category)==null?void 0:O._id)===M.category:D.category===M.category})),M.status&&(G=G.filter(D=>D.status&&D.status.toLowerCase()===M.status.toLowerCase())),M.minPrice&&(G=G.filter(D=>(D.variants&&D.variants[0]&&typeof D.variants[0].price<"u"?D.variants[0].price:D.price)>=parseFloat(M.minPrice))),M.maxPrice&&(G=G.filter(D=>(D.variants&&D.variants[0]&&typeof D.variants[0].price<"u"?D.variants[0].price:D.price)<=parseFloat(M.maxPrice))),i(G)},ee=async T=>{try{u(!0),await Zv(`/api/products/${T}`),n(e.filter(M=>M.id!==T)),i(s.filter(M=>M.id!==T)),Se.success("Product deleted successfully")}catch(M){console.error("Failed to delete product:",M),Se.error("Failed to delete product.")}finally{u(!1)}},ie=[{name:"category",label:"Category",type:"select",options:B.map(T=>{var M;return{value:T._id,label:((M=T.name)==null?void 0:M.en)||T.name||T._id||"N/A"}})},{name:"status",label:"Status",type:"select",options:[{value:"Active",label:"Active"},{value:"Out of Stock",label:"Out of Stock"},{value:"Low Stock",label:"Low Stock"},{value:"Hidden",label:"Hidden"},{value:"Draft",label:"Draft"}]},{name:"minPrice",label:"Min Price",type:"number",placeholder:"0.00"},{name:"maxPrice",label:"Max Price",type:"number",placeholder:"1000.00"}],oe=T=>{const M=B.find(D=>{var O;return(D==null?void 0:D._id)===T.category||(D==null?void 0:D._id)===((O=T.category)==null?void 0:O._id)}),G=M?{...T,category:M}:T;try{n(D=>D.map(O=>O.id===T.id||O._id===T._id||O.id===T._id||O._id===T.id?G:O)),i(D=>D.map(O=>O.id===T.id||O._id===T._id||O.id===T._id||O._id===T.id?G:O)),y(!1),j(null)}catch(D){console.error("Error saving product edit:",D),alert("Error saving product. Please try again.")}},ke=()=>{i(e)},Ee=Math.ceil(s.length/ne),we=s.slice((W-1)*ne,W*ne);return R.useEffect(()=>{q(1)},[s]),l.jsxs("div",{children:[l.jsx(Hs,{title:"All Products (Super Admin)",subtitle:"Manage all products across all shops",breadcrumbs:[{text:"Dashboard",link:"/"},{text:"All Products"}]}),l.jsx("div",{className:"card mb-6",children:l.jsx(D0,{onSearch:fe,onClear:ke,placeholder:"Search products by name...",filters:ie})}),l.jsx("div",{className:"card",children:c?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-4"}),[...Array(5)].map((T,M)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded mb-2"},M))]}):s.length===0?l.jsx(dl,{title:"No products found",description:"No products found. They will appear here once shops add products.",icon:l.jsx(ai,{className:"h-8 w-8 text-gray-300"})}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Product"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Shop"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Price (QAR)"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Stock"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Toggle Stock"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:we.map(T=>{var M,G,D,O,V,H,te,ce,U,he,Oe,K;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 flex items-center justify-center text-gray-500",children:T.baseImage&&T.baseImage.length>0?l.jsx("img",{src:T.baseImage[0],alt:typeof T.name=="object"?((M=T.name)==null?void 0:M.en)||((G=T.name)==null?void 0:G.ar)||"Product":T.name||"Product",className:"h-10 w-10 rounded-md object-cover"}):l.jsx(ai,{className:"h-5 w-5"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium text-gray-900",children:typeof T.name=="object"?((D=T.name)==null?void 0:D.en)||((O=T.name)==null?void 0:O.ar)||"N/A":T.name||"N/A"})})]})}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:typeof T.category=="object"&&T.category!==null?((H=(V=T.category)==null?void 0:V.name)==null?void 0:H.en)||((te=T.category)==null?void 0:te.name)||((ce=T.category)==null?void 0:ce._id)||"N/A":T.category||"N/A"}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:typeof T.shop=="object"&&T.shop!==null?((he=(U=T.shop)==null?void 0:U.name)==null?void 0:he.en)||((Oe=T.shop)==null?void 0:Oe.name)||((K=T.shop)==null?void 0:K._id)||"N/A":T.shop||"N/A"}),l.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 text-right font-medium",children:T.variants&&T.variants[0]&&typeof T.variants[0].price<"u"?`${T.variants[0].price}`:"N/A"}),l.jsx("td",{className:"px-4 py-4 text-sm text-center",children:T.variants&&T.variants[0]&&typeof T.variants[0].stock=="number"?T.variants[0].stock===0?l.jsxs("span",{className:"text-error-500 flex items-center justify-center",children:[l.jsx(qn,{className:"h-4 w-4 mr-1"}),"Out"]}):T.variants[0].stock<=5?l.jsx("span",{className:"text-orange-500",children:T.variants[0].stock}):l.jsx("span",{className:"text-gray-700",children:T.variants[0].stock}):l.jsx("span",{className:"text-gray-400",children:"N/A"})}),l.jsx("td",{className:"px-4 py-4 text-sm",children:l.jsx("span",{className:`badge ${T.status==="Active"?"badge-success":T.status==="Out of Stock"?"badge-error":T.status==="Low Stock"?"badge-warning":T.status==="Hidden"||T.status==="Draft"?"badge-info":!T.status&&T.variants&&T.variants[0]&&typeof T.variants[0].stock=="number"&&T.variants[0].stock===0?"badge-error":!T.status&&T.variants&&T.variants[0]&&typeof T.variants[0].stock=="number"&&T.variants[0].stock<=10?"badge-warning":T.status?"badge-info":"badge-success"}`,children:T.status?T.status:T.variants&&T.variants[0]&&typeof T.variants[0].stock=="number"&&T.variants[0].stock===0?"Out of Stock":T.variants&&T.variants[0]&&typeof T.variants[0].stock=="number"&&T.variants[0].stock<=10?"Low Stock":"Active"})}),l.jsx("td",{className:"px-4 py-4 text-center text-sm font-medium",children:l.jsxs("select",{value:`Mark ${T.status||"Active"}`,onChange:pe=>J(T,pe.target.value.replace("Mark ","")),className:`form-select py-1 px-2 text-sm rounded border ${T.status==="Active"?"border-green-300 bg-green-50":T.status==="Low Stock"?"border-yellow-300 bg-yellow-50":T.status==="Out of Stock"?"border-red-300 bg-red-50":"border-gray-300 bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500`,children:[l.jsx("option",{value:"Mark Active",children:"Mark Active"}),l.jsx("option",{value:"Mark Low Stock",children:"Mark Low Stock"}),l.jsx("option",{value:"Mark Out of Stock",children:"Mark Out of Stock"}),l.jsx("option",{value:"Mark Hidden",children:"Mark Hidden"}),l.jsx("option",{value:"Mark Draft",children:"Mark Draft"})]})}),l.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[l.jsx("button",{onClick:()=>{j(T),y(!0)},className:"text-gray-600 hover:text-primary-600 p-1",children:l.jsx(m0,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>{F(T),P(!0)},className:"text-gray-600 hover:text-error-500 p-1",children:l.jsx(eu,{className:"h-5 w-5"})})]})})]},T.id||T._id)})})]}),l.jsxs("div",{className:"py-3 px-4 flex items-center justify-between border-t border-gray-200",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:s.length===0?0:(W-1)*ne+1})," to ",l.jsx("span",{className:"font-medium",children:Math.min(W*ne,s.length)})," of"," ",l.jsx("span",{className:"font-medium",children:s.length})," results"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:W===1,onClick:()=>q(T=>Math.max(T-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",W," of ",Ee||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:W===Ee||Ee===0,onClick:()=>q(T=>Math.min(T+1,Ee)),children:"Next"})]})]})]})}),x&&b&&l.jsx(fb,{productId:b._id||b.id,categories:B,onClose:()=>{y(!1),j(null)},onSave:oe}),N&&S&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(qn,{className:"h-6 w-6 text-error-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Product"})})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",l.jsxs("span",{className:"font-medium text-gray-900",children:['"',((ye=S.name)==null?void 0:ye.en)||"this product",'"']}),"? This action cannot be undone."]})}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>{P(!1),F(null)},className:"btn btn-secondary",children:"No, Cancel"}),l.jsx("button",{onClick:()=>{ee(S._id),P(!1),F(null)},className:"btn btn-danger",children:"Yes, Delete it"})]})]})})]})},yA="_loaderCon_1o7dr_1",vA="_pfile_1o7dr_10",Qo={loaderCon:yA,pfile:vA},hb=()=>l.jsx("div",{style:{minHeight:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{className:Qo.loaderCon,children:[l.jsx("div",{style:{"--i":0},className:Qo.pfile}),l.jsx("div",{style:{"--i":1},className:Qo.pfile}),l.jsx("div",{style:{"--i":2},className:Qo.pfile}),l.jsx("div",{style:{"--i":3},className:Qo.pfile}),l.jsx("div",{style:{"--i":4},className:Qo.pfile}),l.jsx("div",{style:{"--i":5},className:Qo.pfile})]})}),bA=()=>{const[t,e]=R.useState([]),[n,s]=R.useState(!0),[i,c]=R.useState(null),[u,h]=R.useState("All"),[m,x]=R.useState(""),y=["All","Active","Hidden"],[b,j]=R.useState(1),C=10;R.useEffect(()=>{gt("/api/categories").then(S=>{e(S.data||S),s(!1)}).catch(()=>{c("Failed to fetch categories."),s(!1)})},[]);const k=(u==="All"?t:t.filter(S=>(S.status||"").toLowerCase()===u.toLowerCase())).filter(S=>{var W,q;const F=typeof S.name=="object"?S.name.en||S.name.ar||"":S.name||"",B=((W=S.description)==null?void 0:W.en)||"",z=((q=S.description)==null?void 0:q.ar)||"";return F.toLowerCase().includes(m.toLowerCase())||B.toLowerCase().includes(m.toLowerCase())||z.toLowerCase().includes(m.toLowerCase())}),N=Math.ceil(k.length/C),P=k.slice((b-1)*C,b*C);return R.useEffect(()=>{j(1)},[m,u]),l.jsxs("div",{className:"lg:p-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"All Categories (Super Admin)"}),l.jsx("div",{className:"flex gap-4 mb-6 border-b",children:y.map(S=>l.jsx("button",{className:`px-4 py-2 font-medium border-b-2 transition-colors duration-150 ${u===S?"border-primary-600 text-primary-700":"border-transparent text-gray-500 hover:text-primary-600"}`,onClick:()=>h(S),children:S},S))}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",className:"form-input w-full max-w-xs",placeholder:"Search categories by name or description...",value:m,onChange:S=>x(S.target.value),disabled:n})}),n?l.jsx(hb,{}):i?l.jsx("div",{className:"text-red-500",children:i}):l.jsx("div",{className:"card min-h-[350px] shadow border border-gray-100 overflow-x-auto w-full",children:l.jsxs("table",{className:"w-full min-w-0 md:min-w-[700px] divide-y divide-gray-200 whitespace-nowrap",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Description (EN)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Description (AR)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((S,F)=>{var B,z,W,q,ne,J,fe,ee;return l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-2 md:px-6 py-2 md:py-4 align-middle",children:l.jsx("img",{src:S.image||"/default-image.png",alt:((B=S.name)==null?void 0:B.en)||S.name||"Category",className:"h-12 w-12 rounded object-cover border"})}),l.jsx("td",{className:"px-2 md:px-6 py-2 md:py-4 align-middle font-bold text-gray-900 text-base",children:((z=S.name)==null?void 0:z.en)||S.name}),l.jsx("td",{className:"px-2 md:px-6 py-2 md:py-4 align-middle max-w-[200px] min-w-[120px] w-24",children:l.jsxs("div",{className:"relative group",children:[l.jsx("span",{className:"block truncate line-clamp-2 cursor-pointer",title:((W=S.description)==null?void 0:W.en)||"",children:((q=S.description)==null?void 0:q.en)||""}),((ne=S.description)==null?void 0:ne.en)&&l.jsx("div",{className:"absolute left-1/2 z-20 hidden group-hover:block bg-white shadow-lg rounded p-4 min-w-[250px] max-w-xs -translate-x-1/2 top-8 border",children:l.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line",children:S.description.en})})]})}),l.jsx("td",{className:"px-2 md:px-6 py-2 md:py-4 align-middle max-w-[200px] min-w-[120px] w-24",children:l.jsxs("div",{className:"relative group",children:[l.jsx("span",{className:"block truncate line-clamp-2 cursor-pointer",title:((J=S.description)==null?void 0:J.ar)||"",children:((fe=S.description)==null?void 0:fe.ar)||""}),((ee=S.description)==null?void 0:ee.ar)&&l.jsx("div",{className:"absolute left-1/2 z-20 hidden group-hover:block bg-white shadow-lg rounded p-4 min-w-[250px] max-w-xs -translate-x-1/2 top-8 border",children:l.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line",children:S.description.ar})})]})}),l.jsx("td",{className:"px-2 md:px-6 py-2 md:py-4 align-middle",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${S.status==="Active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.status})})]},S._id)})})]})}),l.jsxs("div",{className:"flex items-center justify-between px-2 md:px-6 py-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:k.length===0?0:(b-1)*C+1})," to ",l.jsx("span",{className:"font-medium",children:Math.min(b*C,k.length)})," of ",l.jsx("span",{className:"font-medium",children:k.length})," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:b===1,onClick:()=>j(S=>Math.max(S-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",b," of ",N||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:b===N||N===0,onClick:()=>j(S=>Math.min(S+1,N)),children:"Next"})]})]})]})},wA=()=>{const[t,e]=R.useState([]),[n,s]=R.useState(!0),[i,c]=R.useState(null),[u,h]=R.useState("All Orders"),[m,x]=R.useState(""),y=["All Orders","Pending","Confirmed","Preparing","Ready","Out for Delivery","Delivered","Cancelled","Refunded"],[b,j]=R.useState(1),C=10;R.useEffect(()=>{gt("/api/orders").then(S=>{e(S.data||S),s(!1)}).catch(()=>{c("Failed to fetch orders."),s(!1)})},[]);const k=(u==="All Orders"?t:t.filter(S=>(S.status||"").toLowerCase()===u.toLowerCase())).filter(S=>{var W,q;const F=S._id||"",B=((W=S.user)==null?void 0:W.name)||"",z=((q=S.user)==null?void 0:q.email)||"";return F.toLowerCase().includes(m.toLowerCase())||B.toLowerCase().includes(m.toLowerCase())||z.toLowerCase().includes(m.toLowerCase())}),N=Math.ceil(k.length/C),P=k.slice((b-1)*C,b*C);return R.useEffect(()=>{j(1)},[m,u]),l.jsxs("div",{className:"lg:p-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"All Orders (Super Admin)"}),l.jsx("div",{className:"flex gap-6 mb-4 border-b border-gray-200",children:y.map(S=>l.jsx("button",{className:`pb-2 text-base font-medium transition-colors duration-150 ${u===S?"border-b-2 border-primary-600 text-primary-700":"text-gray-500 hover:text-primary-600"}`,onClick:()=>h(S),children:S},S))}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",className:"form-input w-full max-w-xs",placeholder:"Search orders by ID, customer name, or email...",value:m,onChange:S=>x(S.target.value),disabled:n})}),n?l.jsx(hb,{}):i?l.jsx("div",{className:"text-red-500",children:i}):l.jsx("div",{className:"bg-white rounded-xl shadow p-0 overflow-x-auto w-full",children:l.jsxs("table",{className:"w-full min-w-0 md:min-w-[700px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 text-xs text-gray-500 uppercase tracking-wider",children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Products"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Customer"}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Total( QAR )"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Items"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map(S=>{var F,B,z,W;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 md:px-4 py-2 md:py-4",children:l.jsx("div",{className:"flex items-center gap-1",children:S.items&&S.items.length>0?l.jsxs(l.Fragment,{children:[S.items.slice(0,2).map((q,ne)=>{var J,fe,ee;return l.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 flex items-center justify-center text-gray-500 overflow-hidden",children:(J=q.product)!=null&&J.baseImage&&Array.isArray(q.product.baseImage)&&q.product.baseImage.length>0?l.jsx("img",{src:q.product.baseImage[0],alt:typeof q.product.name=="object"?((fe=q.product.name)==null?void 0:fe.en)||((ee=q.product.name)==null?void 0:ee.ar)||"Product":q.product.name||"Product",className:"h-10 w-10 rounded-md object-cover"}):l.jsx("span",{className:"text-xs text-gray-400",children:"N/A"})},ne)}),S.items.length>2&&l.jsxs("span",{className:"ml-1 text-xs bg-gray-200 rounded-full px-2 py-1 text-gray-700",children:["+",S.items.length-2]})]}):l.jsx("span",{className:"text-gray-400",children:"No products"})})}),l.jsx("td",{className:"px-2 md:px-4 py-2 md:py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-bold text-gray-900",children:((F=S.user)==null?void 0:F.name)||"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:((B=S.user)==null?void 0:B.email)||"-"})]})}),l.jsx("td",{className:"px-2 md:px-4 py-2 md:py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-900",children:S.createdAt?new Date(S.createdAt).toLocaleDateString(void 0,{month:"short",day:"2-digit",year:"numeric"}):"-"}),l.jsx("p",{className:"text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0}):"-"})]})}),l.jsx("td",{className:"px-2 md:px-4 py-2 md:py-4 text-right font-bold",children:(z=S.pricing)!=null&&z.totalAmount?S.pricing.totalAmount:"0.00"}),l.jsx("td",{className:"px-2 md:px-4 py-2 md:py-4 text-center",children:((W=S.items)==null?void 0:W.length)||0}),l.jsx("td",{className:"px-4 py-4 text-sm text-center",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${S.status==="pending"?"bg-yellow-100 text-yellow-700":S.status==="confirmed"?"bg-blue-100 text-blue-700":S.status==="preparing"?"bg-indigo-100 text-indigo-700":S.status==="ready"?"bg-purple-100 text-purple-700":S.status==="Out for Delivery"?"bg-orange-100 text-orange-700":S.status==="delivered"?"bg-green-100 text-green-700":S.status==="cancelled"?"bg-red-100 text-red-700":(S.status==="refunded","bg-gray-100 text-gray-700")}`,children:S.status})})]},S._id)})})]})}),l.jsxs("div",{className:"flex items-center justify-between px-2 md:px-6 py-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",l.jsx("span",{className:"font-medium",children:k.length===0?0:(b-1)*C+1})," to ",l.jsx("span",{className:"font-medium",children:Math.min(b*C,k.length)})," of ",l.jsx("span",{className:"font-medium",children:k.length})," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"btn btn-secondary py-1",disabled:b===1,onClick:()=>j(S=>Math.max(S-1,1)),children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",b," of ",N||1]}),l.jsx("button",{className:"btn btn-secondary py-1",disabled:b===N||N===0,onClick:()=>j(S=>Math.min(S+1,N)),children:"Next"})]})]})]})};function _A(){var y,b,j;const{user:t,authToken:e}=Qn(),[n,s]=R.useState([]),[i,c]=R.useState(!0),[u,h]=R.useState(null),m=((b=(y=t==null?void 0:t.managedShops)==null?void 0:y[0])==null?void 0:b._id)||((j=t==null?void 0:t.managedShops)==null?void 0:j[0]);R.useEffect(()=>{if(!m)return;if(!e){h("You are not authenticated. Please log in again."),c(!1);return}(async()=>{var k,N,P;c(!0);try{console.log("Fetching workers for shopId:",m);const S=await gt(`/api/shops/${m}/workers`);console.log("Workers data received:",S),s(S.workers||[]),h(null)}catch(S){console.error("Error fetching workers:",S),console.error("Error details:",((k=S.response)==null?void 0:k.data)||S.message),h(`Failed to fetch workers: ${((P=(N=S.response)==null?void 0:N.data)==null?void 0:P.message)||S.message}`)}finally{c(!1)}})()},[m,e]);const x=async C=>{try{const k=await Ji(`/api/shops/${m}/workers/${C}/toggle-active`);s(N=>N.map(P=>P._id===C?{...P,isActive:k.isActive}:P))}catch(k){console.error("Error toggling worker status:",k),h("Failed to update worker status")}};return m?i?l.jsx("div",{children:"Loading..."}):u?l.jsx("div",{className:"text-red-500",children:u}):l.jsxs("div",{className:"p-4",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Workers"}),n.length===0?l.jsx("div",{className:"text-gray-500",children:"No workers found for this shop."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"py-3 px-6 text-left font-bold text-gray-700 tracking-wider",children:"Name"}),l.jsx("th",{className:"py-3 px-6 text-left font-bold text-gray-700 tracking-wider",children:"Email"}),l.jsx("th",{className:"py-3 px-6 text-left font-bold text-gray-700 tracking-wider",children:"Status"}),l.jsx("th",{className:"py-3 px-6 text-left font-bold text-gray-700 tracking-wider",children:"Action"})]})}),l.jsx("tbody",{children:n.map(C=>l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"py-3 px-6 border-b",children:C.name}),l.jsx("td",{className:"py-3 px-6 border-b",children:C.email}),l.jsx("td",{className:"py-3 px-6 border-b",children:C.isActive?l.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-semibold",children:"Active"}):l.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-semibold",children:"Inactive"})}),l.jsx("td",{className:"py-3 px-6 border-b",children:l.jsx("button",{className:`px-4 py-1 rounded transition mr-2 ${C.isActive?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-500 text-white hover:bg-green-600"}`,onClick:()=>x(C._id),children:C.isActive?"Deactivate":"Activate"})})]},C._id))})]})})]}):l.jsx("div",{children:"No shop found for this admin."})}function jA(){return l.jsxs(z2,{children:[l.jsx(Ut,{path:"/login",element:l.jsx(iA,{})}),l.jsx(Ut,{path:"/signup",element:l.jsx(aA,{})}),l.jsx(Ut,{path:"/worker-signup",element:l.jsx(oA,{})}),l.jsx(Ut,{element:l.jsx(rs,{}),children:l.jsxs(Ut,{path:"/",element:l.jsx(bS,{}),children:[l.jsx(Ut,{index:!0,element:l.jsx(rs,{render:({user:t})=>(t==null?void 0:t.role)==="super_admin"?l.jsx(Xo,{to:"/superdashboard",replace:!0}):l.jsx(qO,{})})}),l.jsxs(Ut,{path:"products",children:[l.jsx(Ut,{index:!0,element:l.jsx(rs,{requiredRoles:["shop_admin","worker"],children:l.jsx(XO,{})})}),l.jsx(Ut,{path:"add",element:l.jsx(rs,{requiredRole:"shop_admin",children:l.jsx(GO,{})})}),l.jsx(Ut,{path:"categories",element:l.jsx(rs,{requiredRoles:["shop_admin","worker"],children:l.jsx(mA,{})})})]}),l.jsx(Ut,{path:"orders",children:l.jsx(Ut,{index:!0,element:l.jsx(rs,{requiredRoles:["shop_admin","worker"],children:l.jsx(eA,{})})})}),l.jsx(Ut,{path:"cart",element:l.jsx(rs,{requiredRoles:["shop_admin","worker"],children:l.jsx(lA,{})})}),l.jsx(Ut,{path:"wishlist",element:l.jsx(rs,{requiredRoles:["shop_admin","worker"],children:l.jsx(cA,{})})}),l.jsx(Ut,{path:"settings",element:l.jsx(rs,{children:l.jsx(nA,{})})}),l.jsx(Ut,{path:"superdashboard",element:l.jsx(rs,{requiredRole:"super_admin",children:l.jsx(KO,{})})}),l.jsx(Ut,{path:"superadmin",element:l.jsx(rs,{requiredRole:"super_admin",children:l.jsx(gA,{})})}),l.jsx(Ut,{path:"all-products",element:l.jsx(rs,{requiredRole:"super_admin",children:l.jsx(xA,{})})}),l.jsx(Ut,{path:"all-categories",element:l.jsx(rs,{requiredRole:"super_admin",children:l.jsx(bA,{})})}),l.jsx(Ut,{path:"all-orders",element:l.jsx(rs,{requiredRole:"super_admin",children:l.jsx(wA,{})})}),l.jsx(Ut,{path:"workers",element:l.jsx(rs,{requiredRole:"shop_admin",children:l.jsx(_A,{})})})]})}),l.jsx(Ut,{path:"*",element:l.jsx(sA,{})})]})}Q_.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsxs(Q2,{children:[l.jsx(sS,{children:l.jsx(iS,{children:l.jsxs(aS,{children:[" ",l.jsx(jA,{})]})})}),l.jsx(yS,{position:"bottom-right",autoClose:3e3})]})}));
